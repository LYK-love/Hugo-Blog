<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>LYK-love</title>
    <link>https://lyk-love.cn/Hugo-Blog/</link>
    <description>Recent content on LYK-love</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 02 May 2023 02:22:21 +0800</lastBuildDate><atom:link href="https://lyk-love.cn/Hugo-Blog/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Arm_Training</title>
      <link>https://lyk-love.cn/Hugo-Blog/posts/arm_training/</link>
      <pubDate>Tue, 02 May 2023 02:22:21 +0800</pubDate>
      
      <guid>https://lyk-love.cn/Hugo-Blog/posts/arm_training/</guid>
      <description>&lt;p&gt;Outline:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;My Training Plan&lt;/li&gt;
&lt;li&gt;Biceps&lt;/li&gt;
&lt;li&gt;Brachialis&lt;/li&gt;
&lt;li&gt;Brachioradialis&lt;/li&gt;
&lt;li&gt;Triceps&lt;/li&gt;
&lt;/ul&gt;</description>
      <content>&lt;p&gt;Outline:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;My Training Plan&lt;/li&gt;
&lt;li&gt;Biceps&lt;/li&gt;
&lt;li&gt;Brachialis&lt;/li&gt;
&lt;li&gt;Brachioradialis&lt;/li&gt;
&lt;li&gt;Triceps&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;my-training-plan&#34;&gt;My Training Plan&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Biceps:
&lt;ul&gt;
&lt;li&gt;Barbell Drag Curl&lt;/li&gt;
&lt;li&gt;DB Drag Curl&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://lyk-love.cn/2023/04/23/Pull-Up/#%E5%8F%8D%E6%89%8B%E5%BC%95%E4%BD%93&#34;&gt;åå‘å¼•ä½“&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Brachialis:
&lt;ul&gt;
&lt;li&gt;DB Robot Curl&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Brachioradialis:
&lt;ul&gt;
&lt;li&gt;DB Offset Reverse Curl&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Triceps:
&lt;ul&gt;
&lt;li&gt;Tricep Extension&lt;/li&gt;
&lt;li&gt;Push Away&lt;/li&gt;
&lt;li&gt;Drag Push Down&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…¶ä½™åŠ¨ä½œæ•ˆæœä¸€èˆ¬.&lt;/p&gt;
&lt;h1 id=&#34;biceps&#34;&gt;Biceps&lt;/h1&gt;
&lt;p&gt;äºŒå¤´è®­ç»ƒè¦ç¡®ä¿å®Œæ•´çš„åŠ¨ä½œè¡Œç¨‹.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Longer Head: äºŒå¤´çš„é•¿å¤´è¿æ¥è‚©å…³èŠ‚, å› æ­¤ç»ƒé•¿å¤´è¦è®©&lt;strong&gt;æ‰‹è‚˜å‘åä¼¸&lt;/strong&gt;.
&lt;ul&gt;
&lt;li&gt;DB Drag Curls&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Shorter Head: ç»ƒçŸ­å¤´éœ€è¦å°è‡‚&lt;strong&gt;æŠ—é˜»å¤–æ—‹&lt;/strong&gt;, ä½†&lt;strong&gt;ä¸éœ€è¦æ‰‹è‚˜å‘åä¼¸&lt;/strong&gt;.
&lt;ul&gt;
&lt;li&gt;DB Offset Standing Curls&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;barbell-curl&#34;&gt;Barbell Curl&lt;/h2&gt;
&lt;p&gt;æ é“ƒå¼¯ä¸¾, ç»ƒæ•´ä¸ªäºŒå¤´.&lt;/p&gt;
&lt;p&gt;å±ˆé«‹, èº«ä½“å¾®å¾®å‰å€¾. è†ç›–ä¿æŒå¾®å¼¯, æ‰‹è‡‚è‡ªç„¶ä¸‹å‚, æ é“ƒä¸è¦è´´ä½å¤§è…¿, å¾®å¾®æŠ¬èµ·æ¥ä¸€ç‚¹:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://seec2-lyk.oss-cn-shanghai.aliyuncs.com/Hexo/Bodybuilding/Arm%20Training/Barbell%20Curl1.png&#34; alt=&#34;Barbell Curl1&#34;&gt;&lt;/p&gt;</content>
    </item>
    
    <item>
      <title>Barbell Row</title>
      <link>https://lyk-love.cn/Hugo-Blog/posts/barbell-row-copy/</link>
      <pubDate>Tue, 02 May 2023 02:22:21 +0800</pubDate>
      
      <guid>https://lyk-love.cn/Hugo-Blog/posts/barbell-row-copy/</guid>
      <description>&lt;p&gt;Outline:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Intro&lt;/li&gt;
&lt;li&gt;Pendlay Barbell Row&lt;/li&gt;
&lt;li&gt;Barbell Row by Jeff&lt;/li&gt;
&lt;/ul&gt;</description>
      <content>&lt;p&gt;Outline:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Intro&lt;/li&gt;
&lt;li&gt;Pendlay Barbell Row&lt;/li&gt;
&lt;li&gt;Barbell Row by Jeff&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;intro&#34;&gt;Intro&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;æ é“ƒåˆ’èˆ¹å¯¹ä¸‹èƒŒçš„è¦æ±‚æ¯”è¾ƒé«˜. ä¹Ÿå› æ­¤å¯ä»¥ç»ƒåˆ°ä¸€ç‚¹ä¸‹èƒŒ.&lt;/li&gt;
&lt;li&gt;å¾ˆå¤šäººå› ä¸ºèƒŒéƒ¨åŠ›é‡ä¸å¤Ÿè€Œé€šè¿‡èº«ä½“æ‘†è¡å€ŸåŠ›, è¿™æ˜¯å¿…é¡»é¿å…çš„.&lt;/li&gt;
&lt;li&gt;æ‰‹è‚˜è´´è¿‘èº«ä½“, å¹¶ä¸”è®©æ‰‹è‚˜è¶Šè¿‡èº«ä½“ä¸­çº¿.&lt;/li&gt;
&lt;li&gt;è‚©è†€ä¸‹æ²‰.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;pendlay-barbell-row&#34;&gt;Pendlay Barbell Row&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1BK411H7Xj/?share_source=copy_web&amp;amp;vd_source=9bb7bae2f9b5b41ed3bf1d8b955097d4&#34;&gt;Jeff Nippard æ½˜å¾·é›·åˆ’èˆ¹&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ‰äº›äººå»ºè®®åšæ½˜å¾·é›·åˆ’èˆ¹(Pendlay Barbell Row), è¿™ç§æ–¹å¼çš„åˆ’èˆ¹è¦æ±‚èƒŒéƒ¨å‡ ä¹å¹³è¡Œäºåœ°é¢.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://seec2-lyk.oss-cn-shanghai.aliyuncs.com/Hexo/Bodybuilding/Barbell%20Row/Pendlay%20Barbell%20Row.png&#34; alt=&#34;Pendlay Barbell Row&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯, ä¸æ˜¯æ¯ä¸ªäººçš„èº«ä½“ç»“æ„éƒ½èƒ½å…è®¸ä»–ä»¬åšåˆ°è¿™ç§å§¿åŠ¿, å› æ­¤æ²¡å¿…è¦è¿½æ±‚Pendlay Barbell Row. å³: æ²¡å¿…è¦è¿½æ±‚èƒŒå¹³è¡Œäºåœ°é¢.&lt;/p&gt;
&lt;h1 id=&#34;barbell-row-by-jeff&#34;&gt;Barbell Row by Jeff&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1mx411579S/?share_source=copy_web&amp;amp;vd_source=9bb7bae2f9b5b41ed3bf1d8b955097d4&#34;&gt;Jeff æ é“ƒåˆ’èˆ¹&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ¡è·å’Œå§¿åŠ¿&#34;&gt;æ¡è·å’Œå§¿åŠ¿&lt;/h2&gt;
&lt;p&gt;æ¡è·ç­‰ç­‰å’Œ&lt;a href=&#34;https://lyk-love.cn/2023/04/17/Dead-Lift/&#34;&gt;ç¡¬æ‹‰&lt;/a&gt;æ˜¯ä¸€æ ·çš„, å‘åŠ›å’Œå§¿åŠ¿ä¹Ÿæ˜¯, éƒ½æ˜¯æŒºèƒ¸å±ˆé«‹.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://seec2-lyk.oss-cn-shanghai.aliyuncs.com/Hexo/Bodybuilding/Barbell%20Row/Barbell%20Row1.png&#34; alt=&#34;Barbell Row1&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;èµ·å§‹ä½ç½®&#34;&gt;èµ·å§‹ä½ç½®&lt;/h2&gt;
&lt;p&gt;ä¿¯èº«å…ˆæŠŠæ é“ƒ(æ²¿ç€å¤§è…¿)ä¸‹æ”¾åˆ°è†ç›–. èº¯å¹²çš„è§’åº¦å¦‚å›¾, ä¸éœ€è¦å’ŒPendlay Barbell Rowé‚£æ ·å¹³è¡Œäºåœ°é¢.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://seec2-lyk.oss-cn-shanghai.aliyuncs.com/Hexo/Bodybuilding/Barbell%20Row/Barbell%20Row2.png&#34; alt=&#34;Barbell Row2&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ–è€…ä¹Ÿå¯ä»¥æŠŠæ é“ƒæ”¾åœ¨æ·±è¹²æ¶ä¸Šå¼€å§‹æ‹‰. å› ä¸ºå¯¹æ é“ƒåˆ’èˆ¹æ¥è¯´, æ é“ƒä»åœ°é¢åˆ°è†ç›–çš„è¿™æ®µè¡Œç¨‹ä¸é‡è¦.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://seec2-lyk.oss-cn-shanghai.aliyuncs.com/Hexo/Bodybuilding/Barbell%20Row/Barbell%20Row3.png&#34; alt=&#34;Barbell Row3&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸Šæ‹‰è¿‡ç¨‹&#34;&gt;ä¸Šæ‹‰è¿‡ç¨‹&lt;/h2&gt;
&lt;p&gt;æŠŠæ é“ƒæ²¿ç€å¤§è…¿, å¾€&lt;strong&gt;ä¸Šè…¹éƒ¨&lt;/strong&gt;æ‹‰. &lt;strong&gt;ç”¨èƒŒé˜”è‚Œå‘åŠ›&lt;/strong&gt;å¾€ä¸Šæ‹‰, å¹¶åŠ ä¸Šä¸€ç‚¹ä¸‰å¤´è‚Œ. ä¸è¦ç”¨äºŒå¤´è‚Œ.&lt;/p&gt;
&lt;p&gt;æ‰‹è‚˜&lt;strong&gt;ç´§è´´&lt;/strong&gt;èº«ä½“, &lt;strong&gt;è¶Šè¿‡èº«ä½“ä¸­çº¿&lt;/strong&gt;. è¿™æ ·æ‰èƒ½åˆºæ¿€èƒŒè‚Œ, å¹¶ä¸”åˆºæ¿€ä¸‰å¤´.&lt;/p&gt;
&lt;p&gt;èƒŒéƒ¨&lt;strong&gt;å…¨ç¨‹ä¿æŒç¨³å®š&lt;/strong&gt;, ä¸è¦é€šè¿‡æ‘†è¡æ¥å€ŸåŠ›. å°¤å…¶ä¸è¦é€šè¿‡ç«™èµ·æ¥æ¥å€ŸåŠ›.&lt;/p&gt;
&lt;p&gt;æ‰‹è‚˜ä¸èƒ½æœå¤–. é”™è¯¯ç¤ºèŒƒ:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://seec2-lyk.oss-cn-shanghai.aliyuncs.com/Hexo/Bodybuilding/Barbell%20Row/Barbell%20Row%20Wrong%20Exp.png&#34; alt=&#34;Barbell Row Wrong Exp&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ç§é”™è¯¯çš„æ–¹æ³•ä¸‹, ä¼šè®©äºŒå¤´å¤§é‡å‚ä¸å‘åŠ›. å› æ­¤åªè¦é¿å…äºŒå¤´å‘åŠ›å³å¯.&lt;/p&gt;
&lt;p&gt;ä¸Šæ‹‰æ é“ƒçš„æ—¶å€™, æŠŠæ é“ƒå¾€ä¸¤è¾¹, æƒ³è±¡æŠŠæ é“ƒæ°æˆä¸¤åŠ. è¿™æ ·æ›´èƒ½åˆºæ¿€èƒŒé˜”è‚Œ.&lt;/p&gt;
&lt;h2 id=&#34;æœ€é«˜ç‚¹&#34;&gt;æœ€é«˜ç‚¹&lt;/h2&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°, åœ¨æœ€é«˜ç‚¹ä¼šæ‹‰åˆ°ä¸Šè…¹éƒ¨.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://seec2-lyk.oss-cn-shanghai.aliyuncs.com/Hexo/Bodybuilding/Barbell%20Row/Barbell%20Row%20Highest%20Position.png&#34; alt=&#34;Barbell Row Highest Position&#34;&gt;&lt;/p&gt;</content>
    </item>
    
    <item>
      <title>Barbell Row</title>
      <link>https://lyk-love.cn/Hugo-Blog/posts/barbell-row/</link>
      <pubDate>Tue, 02 May 2023 02:22:21 +0800</pubDate>
      
      <guid>https://lyk-love.cn/Hugo-Blog/posts/barbell-row/</guid>
      <description>&lt;p&gt;Outline:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Intro&lt;/li&gt;
&lt;li&gt;Pendlay Barbell Row&lt;/li&gt;
&lt;li&gt;Barbell Row by Jeff&lt;/li&gt;
&lt;/ul&gt;</description>
      <content>&lt;p&gt;Outline:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Intro&lt;/li&gt;
&lt;li&gt;Pendlay Barbell Row&lt;/li&gt;
&lt;li&gt;Barbell Row by Jeff&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;intro&#34;&gt;Intro&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;æ é“ƒåˆ’èˆ¹å¯¹ä¸‹èƒŒçš„è¦æ±‚æ¯”è¾ƒé«˜. ä¹Ÿå› æ­¤å¯ä»¥ç»ƒåˆ°ä¸€ç‚¹ä¸‹èƒŒ.&lt;/li&gt;
&lt;li&gt;å¾ˆå¤šäººå› ä¸ºèƒŒéƒ¨åŠ›é‡ä¸å¤Ÿè€Œé€šè¿‡èº«ä½“æ‘†è¡å€ŸåŠ›, è¿™æ˜¯å¿…é¡»é¿å…çš„.&lt;/li&gt;
&lt;li&gt;æ‰‹è‚˜è´´è¿‘èº«ä½“, å¹¶ä¸”è®©æ‰‹è‚˜è¶Šè¿‡èº«ä½“ä¸­çº¿.&lt;/li&gt;
&lt;li&gt;è‚©è†€ä¸‹æ²‰.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;pendlay-barbell-row&#34;&gt;Pendlay Barbell Row&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1BK411H7Xj/?share_source=copy_web&amp;amp;vd_source=9bb7bae2f9b5b41ed3bf1d8b955097d4&#34;&gt;Jeff Nippard æ½˜å¾·é›·åˆ’èˆ¹&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ‰äº›äººå»ºè®®åšæ½˜å¾·é›·åˆ’èˆ¹(Pendlay Barbell Row), è¿™ç§æ–¹å¼çš„åˆ’èˆ¹è¦æ±‚èƒŒéƒ¨å‡ ä¹å¹³è¡Œäºåœ°é¢.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://seec2-lyk.oss-cn-shanghai.aliyuncs.com/Hexo/Bodybuilding/Barbell%20Row/Pendlay%20Barbell%20Row.png&#34; alt=&#34;Pendlay Barbell Row&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯, ä¸æ˜¯æ¯ä¸ªäººçš„èº«ä½“ç»“æ„éƒ½èƒ½å…è®¸ä»–ä»¬åšåˆ°è¿™ç§å§¿åŠ¿, å› æ­¤æ²¡å¿…è¦è¿½æ±‚Pendlay Barbell Row. å³: æ²¡å¿…è¦è¿½æ±‚èƒŒå¹³è¡Œäºåœ°é¢.&lt;/p&gt;
&lt;h1 id=&#34;barbell-row-by-jeff&#34;&gt;Barbell Row by Jeff&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1mx411579S/?share_source=copy_web&amp;amp;vd_source=9bb7bae2f9b5b41ed3bf1d8b955097d4&#34;&gt;Jeff æ é“ƒåˆ’èˆ¹&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ¡è·å’Œå§¿åŠ¿&#34;&gt;æ¡è·å’Œå§¿åŠ¿&lt;/h2&gt;
&lt;p&gt;æ¡è·ç­‰ç­‰å’Œ&lt;a href=&#34;https://lyk-love.cn/2023/04/17/Dead-Lift/&#34;&gt;ç¡¬æ‹‰&lt;/a&gt;æ˜¯ä¸€æ ·çš„, å‘åŠ›å’Œå§¿åŠ¿ä¹Ÿæ˜¯, éƒ½æ˜¯æŒºèƒ¸å±ˆé«‹.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://seec2-lyk.oss-cn-shanghai.aliyuncs.com/Hexo/Bodybuilding/Barbell%20Row/Barbell%20Row1.png&#34; alt=&#34;Barbell Row1&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;èµ·å§‹ä½ç½®&#34;&gt;èµ·å§‹ä½ç½®&lt;/h2&gt;
&lt;p&gt;ä¿¯èº«å…ˆæŠŠæ é“ƒ(æ²¿ç€å¤§è…¿)ä¸‹æ”¾åˆ°è†ç›–. èº¯å¹²çš„è§’åº¦å¦‚å›¾, ä¸éœ€è¦å’ŒPendlay Barbell Rowé‚£æ ·å¹³è¡Œäºåœ°é¢.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://seec2-lyk.oss-cn-shanghai.aliyuncs.com/Hexo/Bodybuilding/Barbell%20Row/Barbell%20Row2.png&#34; alt=&#34;Barbell Row2&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ–è€…ä¹Ÿå¯ä»¥æŠŠæ é“ƒæ”¾åœ¨æ·±è¹²æ¶ä¸Šå¼€å§‹æ‹‰. å› ä¸ºå¯¹æ é“ƒåˆ’èˆ¹æ¥è¯´, æ é“ƒä»åœ°é¢åˆ°è†ç›–çš„è¿™æ®µè¡Œç¨‹ä¸é‡è¦.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://seec2-lyk.oss-cn-shanghai.aliyuncs.com/Hexo/Bodybuilding/Barbell%20Row/Barbell%20Row3.png&#34; alt=&#34;Barbell Row3&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸Šæ‹‰è¿‡ç¨‹&#34;&gt;ä¸Šæ‹‰è¿‡ç¨‹&lt;/h2&gt;
&lt;p&gt;æŠŠæ é“ƒæ²¿ç€å¤§è…¿, å¾€&lt;strong&gt;ä¸Šè…¹éƒ¨&lt;/strong&gt;æ‹‰. &lt;strong&gt;ç”¨èƒŒé˜”è‚Œå‘åŠ›&lt;/strong&gt;å¾€ä¸Šæ‹‰, å¹¶åŠ ä¸Šä¸€ç‚¹ä¸‰å¤´è‚Œ. ä¸è¦ç”¨äºŒå¤´è‚Œ.&lt;/p&gt;
&lt;p&gt;æ‰‹è‚˜&lt;strong&gt;ç´§è´´&lt;/strong&gt;èº«ä½“, &lt;strong&gt;è¶Šè¿‡èº«ä½“ä¸­çº¿&lt;/strong&gt;. è¿™æ ·æ‰èƒ½åˆºæ¿€èƒŒè‚Œ, å¹¶ä¸”åˆºæ¿€ä¸‰å¤´.&lt;/p&gt;
&lt;p&gt;èƒŒéƒ¨&lt;strong&gt;å…¨ç¨‹ä¿æŒç¨³å®š&lt;/strong&gt;, ä¸è¦é€šè¿‡æ‘†è¡æ¥å€ŸåŠ›. å°¤å…¶ä¸è¦é€šè¿‡ç«™èµ·æ¥æ¥å€ŸåŠ›.&lt;/p&gt;
&lt;p&gt;æ‰‹è‚˜ä¸èƒ½æœå¤–. é”™è¯¯ç¤ºèŒƒ:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://seec2-lyk.oss-cn-shanghai.aliyuncs.com/Hexo/Bodybuilding/Barbell%20Row/Barbell%20Row%20Wrong%20Exp.png&#34; alt=&#34;Barbell Row Wrong Exp&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ç§é”™è¯¯çš„æ–¹æ³•ä¸‹, ä¼šè®©äºŒå¤´å¤§é‡å‚ä¸å‘åŠ›. å› æ­¤åªè¦é¿å…äºŒå¤´å‘åŠ›å³å¯.&lt;/p&gt;
&lt;p&gt;ä¸Šæ‹‰æ é“ƒçš„æ—¶å€™, æŠŠæ é“ƒå¾€ä¸¤è¾¹, æƒ³è±¡æŠŠæ é“ƒæ°æˆä¸¤åŠ. è¿™æ ·æ›´èƒ½åˆºæ¿€èƒŒé˜”è‚Œ.&lt;/p&gt;
&lt;h2 id=&#34;æœ€é«˜ç‚¹&#34;&gt;æœ€é«˜ç‚¹&lt;/h2&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°, åœ¨æœ€é«˜ç‚¹ä¼šæ‹‰åˆ°ä¸Šè…¹éƒ¨.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://seec2-lyk.oss-cn-shanghai.aliyuncs.com/Hexo/Bodybuilding/Barbell%20Row/Barbell%20Row%20Highest%20Position.png&#34; alt=&#34;Barbell Row Highest Position&#34;&gt;&lt;/p&gt;</content>
    </item>
    
    <item>
      <title>Dead Lift</title>
      <link>https://lyk-love.cn/Hugo-Blog/posts/dead-lift/</link>
      <pubDate>Tue, 02 May 2023 02:22:21 +0800</pubDate>
      
      <guid>https://lyk-love.cn/Hugo-Blog/posts/dead-lift/</guid>
      <description>&lt;p&gt;Outline:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Intro&lt;/li&gt;
&lt;li&gt;Traditional Dead Lift&lt;/li&gt;
&lt;li&gt;Other Dead Lift Variations&lt;/li&gt;
&lt;/ul&gt;</description>
      <content>&lt;p&gt;Outline:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Intro&lt;/li&gt;
&lt;li&gt;Traditional Dead Lift&lt;/li&gt;
&lt;li&gt;Other Dead Lift Variations&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;site.md&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Via the following commands you can install our page &lt;a href=&#34;https://github.com/command-line-interface-pages/v2-tooling/tree/main/clip-view&#34;&gt;render&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;BASHInstallation commands&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;temp&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;mktemp&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wget -O &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;$temp&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; https://raw.githubusercontent.com/command-line-interface-pages/v2-tooling/main/clip-view/makefile
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;make -f &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;$temp&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; remote-install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;s&lt;/p&gt;
&lt;p&gt;To verify whether if successfully installed to &lt;code&gt;/home/$USER/.local/bin&lt;/code&gt; type &lt;code&gt;clip-view --version&lt;/code&gt;. To view &lt;code&gt;cat&lt;/code&gt; page just type &lt;code&gt;clip-view cat&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Note for programmers: installation also can be done via cloning &lt;a href=&#34;https://github.com/command-line-interface-pages/v2-tooling&#34;&gt;tools&lt;/a&gt; repo, moving to &lt;code&gt;clip-view&lt;/code&gt; directory and issuing &lt;code&gt;make install&lt;/code&gt; command.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The results can be summarized in the following table:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;argv[0]&lt;/th&gt;
&lt;th&gt;argv[1]&lt;/th&gt;
&lt;th&gt;argv[2]&lt;/th&gt;
&lt;th&gt;argv[3]&lt;/th&gt;
&lt;th&gt;argv[4]&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Linux&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/usr/local/bin/args&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;-a -b --something&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;./file.txt&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;FreeBSD OpenBSD&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/usr/local/bin/args&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;-a -b --something&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;./file.txt&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;macOS&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/usr/local/bin/args&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;-a&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;-b&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;--something&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;./file.txt&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;OpenIndiana&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/usr/local/bin/args&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;-a&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;./file.txt&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&#34;intro&#34;&gt;Intro&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Benefits: ç¡¬æ‹‰é”»ç‚¼æ•´ä¸ªåä¾§é“¾
&lt;ul&gt;
&lt;li&gt;ç¡¬æ‹‰ä½œä¸ºä¸‰å¤§é¡¹ä¹‹ä¸€, å¯¹åä¾§é“¾å’Œæ•´ä½“åŠ›é‡éƒ½æœ‰å·¨å¤§çš„æå‡, æ˜¯å¿…åšçš„åŠ¨ä½œ. è™½ç„¶ç¡¬æ‹‰æœ‰å—ä¼¤é£é™©, ä½†åªè¦éµå¾ªåŠ¨ä½œè§„èŒƒ, æ˜¯ä¸ä¼šå—ä¼¤çš„.
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1rt41157YV/?share_source=copy_web&amp;amp;vd_source=9bb7bae2f9b5b41ed3bf1d8b955097d4&#34;&gt;Jeffè°ˆæ˜¯å¦åº”è¯¥åšç¡¬æ‹‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æœ€åŸºç¡€çš„ç¡¬æ‹‰æ˜¯&lt;a href=&#34;#Traditional-Dead-Lift&#34;&gt;ä¼ ç»Ÿç¡¬æ‹‰&lt;/a&gt;, æ­¤å¤–è¿˜æœ‰å„ç§å˜ç§ç¡¬æ‹‰.&lt;/li&gt;
&lt;li&gt;å¦‚æœä¼ ç»Ÿç¡¬æ‹‰é•¿æœŸæ²¡æœ‰æå‡, å¯ä»¥åšå˜ç§ç¡¬æ‹‰æ¥çªç ´ç“¶é¢ˆ.
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV143411G7pi/?share_source=copy_web&amp;amp;vd_source=9bb7bae2f9b5b41ed3bf1d8b955097d4&#34;&gt;Bruceæ•™ä½ ç¡¬æ‹‰300kg+çš„ç§˜è¯€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;å„ç§ç¡¬æ‹‰å˜å¼åªæ˜¯å’Œä¼ ç»Ÿç¡¬æ‹‰æœ‰ä¸€ä¸¤ç‚¹ä¸åŒ, å› æ­¤åœ¨åšç¡¬æ‹‰å˜å¼æ—¶, éµå¾ªä¼ ç»Ÿç¡¬æ‹‰çš„åŠ¨ä½œå°±å¯ä»¥äº†. æ¯”å¦‚å®½è·ç¡¬æ‹‰, é™¤äº†æ¡å¾—æ›´å®½ä¹‹å¤–, åŠ¨ä½œçš„å…¶ä½™éƒ¨åˆ†éƒ½å’Œä¼ ç»Ÿç¡¬æ‹‰ä¸€æ ·.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;traditional-dead-lift&#34;&gt;Traditional Dead Lift&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1aa4y1475y/?share_source=copy_web&amp;amp;vd_source=9bb7bae2f9b5b41ed3bf1d8b955097d4&#34;&gt;Jeff ç¡¬æ‹‰æ£€æŸ¥æ¸…å•&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç«™å§¿&#34;&gt;ç«™å§¿&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å°è…¿ç¦»æ é“ƒçš„è·ç¦»: è¦åšåˆ°â€œåªèƒ½åœ¨æ é“ƒå¤–ä¾§çœ‹è§é‹å¸¦â€, å…¶å®å°±æ˜¯2.5cm, è¿™æ ·ä¸€æ¥å¼¯è…°å‘ä¸‹æ¡ä½æ é“ƒçš„æ—¶å€™, å°è…¿ä¼šç¢°åˆ°æ é“ƒ&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://seec2-lyk.oss-cn-shanghai.aliyuncs.com/Hexo/Bodybuilding/Dead%20Lift/footToBarDistance.png&#34; alt=&#34;Dead Lift footToBarDistance&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç«™è·: ä¸é«‹åŒå®½&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æ¡å§¿&#34;&gt;æ¡å§¿&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ¡å§¿æœ‰ä¸‰ç§:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é”æ¡: æœ€æœ‰æ•ˆæœ€ç¨³å®šçš„æ¡å§¿, ä½†ä¸€å¼€å§‹ä¼šæœ‰ç‚¹ç–¼. å¤§æ‹‡æŒ‡æ¡ä½æ é“ƒ, å…¶ä»–æ‰‹æŒ‡æ¡ä½å¤§æ‹‡æŒ‡( æ³¨æ„, åªéœ€è¦åŒ…ä½å¤§æ‹‡æŒ‡çš„ç¬¬ä¸€æ®µæŒ‡èŠ‚ ):&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://seec2-lyk.oss-cn-shanghai.aliyuncs.com/Hexo/Bodybuilding/Dead%20Lift/hook%20grip1.png&#34; alt=&#34;hook grip1&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://seec2-lyk.oss-cn-shanghai.aliyuncs.com/Hexo/Bodybuilding/Dead%20Lift/hook%20grip2.png&#34; alt=&#34;hook grip2&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ­£æ¡: å¹³å¹³æ— å¥‡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ­£åæ¡: ç¨³å®š, ä½†æ˜¯ä¼šå¯¼è‡´å—åŠ›ä¸å‡åŒ€&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¡è·: åœ¨å’Œé«‹å…³èŠ‚åŒå®½çš„åŒè…¿å¤–ä¾§&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;two-steps&#34;&gt;Two Steps&lt;/h2&gt;
&lt;p&gt;ç¡¬æ‹‰åˆ†ä¸ºä¸¤é˜¶æ®µ, ç¬¬ä¸€é˜¶æ®µæ˜¯ä»åœ°é¢åˆ°è†ç›–é«˜åº¦, æ­¤æ—¶å®Œå…¨æ˜¯&lt;strong&gt;è…¿éƒ¨è®­ç»ƒ&lt;/strong&gt;; ç¬¬äºŒé˜¶æ®µæ˜¯ä»è†ç›–åˆ°æœ€é«˜ç‚¹, æ­¤æ—¶æ‰æ˜¯ç»ƒèƒŒ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç¬¬ä¸€é˜¶æ®µ: å®Œå…¨æ˜¯&lt;strong&gt;è…¿éƒ¨å‘åŠ›&lt;/strong&gt;(è®©è…¿ç”¨åŠ›å¾€å¤–æ¨, è€Œä¸æ˜¯æŠŠèº¯å¹²ç”¨åŠ›å¾€è…¿æ‹‰), è®©&lt;strong&gt;èƒ¸å£å‘å‰é¡¶, é«‹å…³èŠ‚å‘ä¸‹é¡¶.&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä¸‹èƒŒä¸€å®šè¦&lt;strong&gt;æŒºç›´&lt;/strong&gt;(å°±æ˜¯åˆ»æ„åå¼“). è‡³äºèº¯å¹²å’Œåœ°é¢çš„å¤¹è§’åˆ™æ— é¡»åœ¨æ„.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿™ä¸€é˜¶æ®µæ é“ƒè¦è´´ç€å°è…¿æ‹‰, å¦‚æœäºŒè€…é—´å‡ºç°ç©ºéš™, å°±è¯´æ˜èƒŒé˜”æ²¡æ”¶ç´§&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯åŠ¨å¼&lt;strong&gt;é«‹å…³èŠ‚æ˜¯æœä¸‹çš„&lt;/strong&gt;, å¦åˆ™çš„è¯å°±ä¼šå¯¼è‡´é«‹ä¸»å¯¼å‘åŠ›, ä¹Ÿå¾ˆå®¹æ˜“ä¼¤è…°(å› ä¸ºé«‹æœä¸Šçš„è¯ä»£è¡¨ç€ä½ çš„è…°ä¹Ÿæ˜¯å‘ä¸Šå¼¯æ›²çš„)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://seec2-lyk.oss-cn-shanghai.aliyuncs.com/Hexo/Bodybuilding/Dead%20Lift/Dead%20Lift%20Step1.png&#34; alt=&#34;Dead Lift Step1&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¬¬äºŒé˜¶æ®µ: ä¸€æ—¦è…¿éƒ¨å‘åŠ›æ‹‰åˆ°è†ç›–, ä¹‹åå°±ç”±é«‹å‘åŠ›æ¥æ‹‰åˆ°æœ€é«˜ç‚¹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸‹æ”¾è¿‡ç¨‹åè¿‡æ¥, ç”¨é«‹ä¸€ç›´æ‹‰åˆ°è†ç›–, ç„¶åå±ˆè†, æŠŠæ é“ƒæ”¾åˆ°åœ°é¢&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://seec2-lyk.oss-cn-shanghai.aliyuncs.com/Hexo/Bodybuilding/Dead%20Lift/Dead%20Lift%20Step2.png&#34; alt=&#34;Dead Lift Step2&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;other-dead-lift-variations&#34;&gt;Other Dead Lift Variations&lt;/h1&gt;</content>
    </item>
    
    <item>
      <title>Second</title>
      <link>https://lyk-love.cn/Hugo-Blog/posts/second/</link>
      <pubDate>Mon, 01 May 2023 23:50:10 +0800</pubDate>
      
      <guid>https://lyk-love.cn/Hugo-Blog/posts/second/</guid>
      <description>&lt;p&gt;jcacdscscsdcsdscd&lt;/p&gt;
&lt;p&gt;æ­£ç¡®çš„æ–¹æ³•.&lt;/p&gt;</description>
      <content>&lt;p&gt;jcacdscscsdcsdscd&lt;/p&gt;
&lt;p&gt;æ­£ç¡®çš„æ–¹æ³•.&lt;/p&gt;
&lt;p&gt;é”™è¯¯çš„ä¸¾åŠ¨.&lt;/p&gt;</content>
    </item>
    
    <item>
      <title>Back Training</title>
      <link>https://lyk-love.cn/Hugo-Blog/posts/first/</link>
      <pubDate>Mon, 01 May 2023 23:18:36 +0800</pubDate>
      
      <guid>https://lyk-love.cn/Hugo-Blog/posts/first/</guid>
      <description>&lt;p&gt;Outline:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;My Training Plan&lt;/li&gt;
&lt;li&gt;Pull Down&lt;/li&gt;
&lt;/ul&gt;</description>
      <content>&lt;p&gt;Outline:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;My Training Plan&lt;/li&gt;
&lt;li&gt;Pull Down&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;site.md&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Via the following commands you can install our page &lt;a href=&#34;https://github.com/command-line-interface-pages/v2-tooling/tree/main/clip-view&#34;&gt;render&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;BASHInstallation commands&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;temp&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;mktemp&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wget -O &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;$temp&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; https://raw.githubusercontent.com/command-line-interface-pages/v2-tooling/main/clip-view/makefile
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;make -f &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;$temp&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; remote-install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;s&lt;/p&gt;
&lt;p&gt;To verify whether if successfully installed to &lt;code&gt;/home/$USER/.local/bin&lt;/code&gt; type &lt;code&gt;clip-view --version&lt;/code&gt;. To view &lt;code&gt;cat&lt;/code&gt; page just type &lt;code&gt;clip-view cat&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Note for programmers: installation also can be done via cloning &lt;a href=&#34;https://github.com/command-line-interface-pages/v2-tooling&#34;&gt;tools&lt;/a&gt; repo, moving to &lt;code&gt;clip-view&lt;/code&gt; directory and issuing &lt;code&gt;make install&lt;/code&gt; command.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;uninstallation-httplocalhost60616sitegithubioaboutuninstallation-&#34;&gt;Uninstallation ğŸ˜&lt;a href=&#34;http://localhost:60616/site.github.io/about/#uninstallation-&#34;&gt;âŒ—&lt;/a&gt;&lt;/h2&gt;
&lt;h1 id=&#34;my-training-plan&#34;&gt;My Training Plan&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://lyk-love.cn/2023/04/23/Pull-Up&#34;&gt;Pull Up&lt;/a&gt;. æœ€æœ‰ä»·å€¼çš„ç»ƒèƒŒåŠ¨ä½œ&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://lyk-love.cn/2023/04/23/Barbell-Row/&#34;&gt;Barbell Row&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Pull Down. Pull upçš„ä½ç«¯ç‰ˆæœ¬.&lt;/li&gt;
&lt;li&gt;Seated Cable Row&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…¶ä½™åŠ¨ä½œæ•ˆæœä¸€èˆ¬. äº‹å®ä¸Š, ä»¥ä¸Šå››ä¸ªåŠ¨ä½œä¹Ÿæ˜¯Jeffçš„èƒŒéƒ¨è®­ç»ƒåŠ¨ä½œæ¢¯åº¦æ’è¡Œä¸­æœ€é å‰çš„.&lt;/p&gt;
&lt;h1 id=&#34;pull-down&#34;&gt;Pull Down&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1k441117Sr/?share_source=copy_web&amp;amp;vd_source=9bb7bae2f9b5b41ed3bf1d8b955097d4&#34;&gt;Jeffé«˜ä½ä¸‹æ‹‰&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åœ¨æœ€ä½ç‚¹æ‹‰åˆ°ä¸‹å·´ä¹‹ä¸‹.&lt;/p&gt;
&lt;h1 id=&#34;seated-cable-row&#34;&gt;Seated Cable Row&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä¼¸ç›´æ—¶: èƒ¸å¾€å‰æŒº, è‚©èƒ›ä¸‹æ²‰, æŠŠç»³ç´¢æ‹‰åˆ°ä¸‹è…¹éƒ¨:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://seec2-lyk.oss-cn-shanghai.aliyuncs.com/Hexo/Bodybuilding/Push%20Up/Standard%20Push%20Up%20shoulder.png&#34; alt=&#34;Standard Push Up shoulder&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‹‰åŠ¨æ—¶: ä¿æŒèƒ¸å’Œè‚©èƒŒä¸å˜, è¦è®©è‚˜éƒ¨è¶…è¶ŠåèƒŒ&lt;/p&gt;
&lt;p&gt;![Seated Cable Row2](/Users/lyk/Pictures/HexoPics/BodyBuilding/Back Training/Seated Cable Row2.png)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content>
    </item>
    
    <item>
      <title>Shell Script Searching Path</title>
      <link>https://lyk-love.cn/Hugo-Blog/posts/shell-script-searching-path/</link>
      <pubDate>Sun, 23 Apr 2023 21:48:25 +0000</pubDate>
      
      <guid>https://lyk-love.cn/Hugo-Blog/posts/shell-script-searching-path/</guid>
      <description>Outline:
Shell Script Searching Path Append path to PATH Bad Practices å“ˆå“ˆ æˆ‘æ˜¯é™†æ˜±å®½
ä»–æ˜¯åŠ å…°
Shell Script Searching Path Shell will find and execute command. The searching sequence of command name is:
ä»¥ç›¸å¯¹/ç»å¯¹è·¯å¾„æ‰§è¡ŒæŒ‡ä»¤ï¼Œä¾‹å¦‚/bin/ls æˆ–./ls ç”± alias æ‰¾åˆ°è¯¥æŒ‡ä»¤æ¥æ‰§è¡Œ ç”± bash å†…ç½®çš„( builtin)æŒ‡ä»¤æ¥æ‰§è¡Œ. é€šè¿‡ PATH è¿™ä¸ªå˜é‡çš„é¡ºåºæœå¯»åˆ°çš„ç¬¬ä¸€ä¸ªæŒ‡ä»¤æ¥æ‰§è¡Œ. åœ¨æŸä¸€æ­¥éª¤æ‰¾åˆ°command nameåå°±ä¼šåœæ­¢æŸ¥æ‰¾, å¹¶ä¸”å°è¯•æ‰§è¡Œ.
å› æ­¤, å¦‚æœä¸€ä¸ªcommand nameä¸æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œçš„è·¯å¾„, ä¹Ÿä¸æ˜¯ä¸€ä¸ªalias, åˆä¸æ˜¯ä¸€ä¸ªbuiltin( ä¾‹å¦‚alias), åˆ™shellä¼šåœ¨æœç¯å¢ƒå˜é‡$PATHä¸­æœç´¢è¯¥command name, å¦‚æœæ‰¾åˆ°, å°±æ‰§è¡Œ; æ‰¾ä¸åˆ°, åˆ™æŠ¥é”™&amp;quot;command not found&amp;quot;.
ç”±äºPATH æ˜¯ä¸ªç¯å¢ƒå˜é‡, å› æ­¤å®ƒåœ¨ä»»æ„çš„å­sessionä¸­éƒ½æœ‰æ•ˆ. Command not found == not found in PATH.</description>
      <content>&lt;p&gt;Outline:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Shell Script Searching Path&lt;/li&gt;
&lt;li&gt;Append path to &lt;code&gt;PATH&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Bad Practices&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;å“ˆå“ˆ&#34;&gt;å“ˆå“ˆ&lt;/h1&gt;
&lt;p&gt;æˆ‘æ˜¯é™†æ˜±å®½&lt;/p&gt;
&lt;p&gt;ä»–æ˜¯åŠ å…°&lt;/p&gt;
&lt;h1 id=&#34;shell-script-searching-path&#34;&gt;Shell Script Searching Path&lt;/h1&gt;
&lt;p&gt;Shell will &lt;strong&gt;find and execute&lt;/strong&gt; command. The searching sequence of command name is:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»¥ç›¸å¯¹/ç»å¯¹è·¯å¾„æ‰§è¡ŒæŒ‡ä»¤ï¼Œä¾‹å¦‚&lt;code&gt;/bin/ls &lt;/code&gt;æˆ–&lt;code&gt;./ls &lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç”± &lt;code&gt;alias&lt;/code&gt; æ‰¾åˆ°è¯¥æŒ‡ä»¤æ¥æ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;ç”± bash å†…ç½®çš„( builtin)æŒ‡ä»¤æ¥æ‰§è¡Œ.&lt;/li&gt;
&lt;li&gt;é€šè¿‡ &lt;code&gt;PATH&lt;/code&gt; è¿™ä¸ªå˜é‡çš„é¡ºåºæœå¯»åˆ°çš„ç¬¬ä¸€ä¸ªæŒ‡ä»¤æ¥æ‰§è¡Œ.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨æŸä¸€æ­¥éª¤æ‰¾åˆ°command nameåå°±ä¼šåœæ­¢æŸ¥æ‰¾, å¹¶ä¸”å°è¯•æ‰§è¡Œ.&lt;/p&gt;
&lt;p&gt;å› æ­¤, å¦‚æœä¸€ä¸ªcommand nameä¸æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œçš„è·¯å¾„, ä¹Ÿä¸æ˜¯ä¸€ä¸ªalias, åˆä¸æ˜¯ä¸€ä¸ªbuiltin( ä¾‹å¦‚&lt;code&gt;alias&lt;/code&gt;), åˆ™shellä¼šåœ¨æœç¯å¢ƒå˜é‡&lt;code&gt;$PATHä¸­&lt;/code&gt;æœç´¢è¯¥command name, å¦‚æœæ‰¾åˆ°, å°±æ‰§è¡Œ; æ‰¾ä¸åˆ°, åˆ™æŠ¥é”™&amp;quot;command not found&amp;quot;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”±äº&lt;code&gt;PATH&lt;/code&gt; æ˜¯ä¸ªç¯å¢ƒå˜é‡, å› æ­¤å®ƒåœ¨ä»»æ„çš„å­sessionä¸­éƒ½æœ‰æ•ˆ.&lt;/li&gt;
&lt;li&gt;Command not found == not found in &lt;code&gt;PATH&lt;/code&gt;. è¿™åªæ˜¯æ„å‘³ç€åœ¨&lt;code&gt;PATH&lt;/code&gt;ä¸­æ‰¾ä¸åˆ°è¯¥command name. å¯ä»¥å°†è¯¥commandçš„è·¯å¾„æ·»åŠ åˆ°&lt;code&gt;PATH&lt;/code&gt;æ¥è®©shellèƒ½æœç´¢åˆ°å®ƒ.&lt;/li&gt;
&lt;li&gt;å¯ä»¥çœ‹åˆ°, å¦‚æœä¸€ä¸ªcommand nameæ˜¯è·¯å¾„, é‚£ä¹ˆåœ¨step1å°±æ‰¾åˆ°äº†, ä¸ä¼šå°è¯•åé¢çš„æ­¥éª¤. &lt;strong&gt;å¦‚æœä¸€ä¸ªcommand nameå¸¦æœ‰slash( &lt;code&gt;/&lt;/code&gt; ), åˆ™ä¼šè¢«è§†ä½œè·¯å¾„å.&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;append-path-to-path&#34;&gt;Append path to &lt;code&gt;PATH&lt;/code&gt;&lt;/h1&gt;
&lt;p&gt;å°†å‘½ä»¤çš„è·¯å¾„åŠ å…¥ç¯å¢ƒå˜é‡&lt;code&gt;PATH&lt;/code&gt;çš„æ–¹æ³•:&lt;/p&gt;
&lt;p&gt;å£°æ˜ç¯å¢ƒå˜é‡&lt;code&gt;PATH&lt;/code&gt;, å€¼ä¸ºä¹‹å‰çš„&lt;code&gt;PATH&lt;/code&gt;çš„å€¼(é‡‡ç”¨&lt;code&gt;$&lt;/code&gt;è¿›è¡Œèµ‹å€¼),  å†append ä¸€ä¸ª&lt;code&gt;:&lt;/code&gt;, å› ä¸ºç¯å¢ƒå˜é‡ä¹‹é—´é€šè¿‡å†’å·éš”å¼€, å†appendè¦æ·»åŠ çš„è·¯å¾„, è¿™é‡Œæ˜¯&lt;code&gt;/home/to/operation_tools&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;export PATH&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;$PATH:/home/to/operation_tools
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;bad-practices&#34;&gt;Bad Practices&lt;/h1&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯ä¸€äº›é”™è¯¯çš„å¯¹&lt;code&gt;PATH&lt;/code&gt;è¿›è¡Œè®¾ç½®çš„ä¾‹å­.&lt;/p&gt;
&lt;h2 id=&#34;current-directory-in-path&#34;&gt;Current directory in &lt;code&gt;PATH&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;A leading or trailing colon in &lt;code&gt;PATH&lt;/code&gt;, or two adjacent colons (&lt;code&gt;::&lt;/code&gt;), indicate that the &lt;em&gt;current directory&lt;/em&gt; is one of the directorie&lt;/strong&gt;s that the shell should try when looking for executable command names. This is a security risk and you must not do it:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ echo &amp;#34;$PATH&amp;#34;
:/bin/:/usr/bin                          # EXTREME SECURITY RISK!

$ echo &amp;#34;$PATH&amp;#34;
/bin/::/usr/bin                          # MODERATE SECURITY RISK!

$ echo &amp;#34;$PATH&amp;#34;
/bin/:/usr/bin:                          # SECURITY RISK!
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;Do not put the current directory (or any relative path directory) in &lt;code&gt;PATH&lt;/code&gt; â€“ it is a security risk.&lt;/strong&gt; You might accidentally execute a malicious program in the current directory.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;For example: If you put the current directory at the start of your &lt;code&gt;PATH&lt;/code&gt;, e.g. &lt;code&gt;PATH=:/bin:/usr/bin&lt;/code&gt;, then when you type &lt;code&gt;ls&lt;/code&gt; the first program that is tried is &lt;code&gt;./ls&lt;/code&gt; (the program named &lt;code&gt;ls&lt;/code&gt; in the current directory) which might be a malicious program.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;command-names-with-slashes-avoid-path&#34;&gt;Command names with slashes avoid &lt;code&gt;PATH&lt;/code&gt;&lt;/h2&gt;
</content>
    </item>
    
    <item>
      <title>Shell Script</title>
      <link>https://lyk-love.cn/Hugo-Blog/posts/shell-script/</link>
      <pubDate>Sun, 23 Apr 2023 20:53:12 +0000</pubDate>
      
      <guid>https://lyk-love.cn/Hugo-Blog/posts/shell-script/</guid>
      <description>&lt;p&gt;Outline:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Intro&lt;/li&gt;
&lt;li&gt;Shebang&lt;/li&gt;
&lt;li&gt;Execute Shell Script&lt;/li&gt;
&lt;li&gt;I/O redirection&lt;/li&gt;
&lt;/ul&gt;</description>
      <content>&lt;p&gt;Outline:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Intro&lt;/li&gt;
&lt;li&gt;Shebang&lt;/li&gt;
&lt;li&gt;Execute Shell Script&lt;/li&gt;
&lt;li&gt;I/O redirection&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;intro&#34;&gt;Intro&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/onceupon/Bash-Oneliner&#34;&gt;å¸¸è§ShellæŒ‡ä»¤&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;scripts-vs-shell-functions&#34;&gt;scripts vs shell functions&lt;/h2&gt;
&lt;p&gt;Some differences between shell functions and scripts that you should keep in mind are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Functions have to be in the same language as the shell, while scripts can be written in any language. This is why including a shebang for scripts is important.&lt;/li&gt;
&lt;li&gt;Functions are loaded once when their definition is read. Scripts are loaded every time they are executed. This makes functions slightly faster to load, but whenever you change them you will have to reload their definition.&lt;/li&gt;
&lt;li&gt;Functions are executed &lt;strong&gt;in the current shell environment&lt;/strong&gt;( å¯ä»¥ç®€å•ç†è§£ä¸ºï¼Œ functionçš„æ‰€åœ¨è·¯å¾„æ˜¯å½“å‰è·¯å¾„ ) whereas scripts execute in their own process. Thus, functions can modify environment variables, e.g. change your current directory, whereas scripts canâ€™t. Scripts will be passed by value environment variables that have been exported using &lt;a href=&#34;https://www.man7.org/linux/man-pages/man1/export.1p.html&#34;&gt;&lt;code&gt;export&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;As with any programming language, functions are a powerful construct to achieve modularity, code reuse, and clarity of shell code. Often shell scripts will include their own function definitions.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;shell-style&#34;&gt;Shell Style&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://google.github.io/styleguide/shellguide.html&#34;&gt;https://google.github.io/styleguide/shellguide.html&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&#34;shebang&#34;&gt;Shebang&lt;/h1&gt;
&lt;p&gt;Note that scripts need not necessarily be written in bash to be called from the terminal. For instance, hereâ€™s a simple Python script that outputs its arguments in reversed order:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#!/usr/local/bin/python
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;import sys
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; arg in reversed&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;sys.argv&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;1:&lt;span style=&#34;color:#f92672&#34;&gt;])&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    print&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;arg&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;shebang: the character sequence consisting of &lt;code&gt;#!&lt;/code&gt; at the beginning of a script in   a &lt;a href=&#34;https://en.wikipedia.org/wiki/Unix-like&#34;&gt;Unix-like&lt;/a&gt; operating system&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;shellä¼šå°†shebangä¸­&lt;code&gt;#!&lt;/code&gt;ä¹‹åçš„å†…å®¹ä½œä¸ºä¸€ä¸ªç¨‹åºçš„è·¯å¾„ï¼Œæ‰“å¼€è¯¥ç¨‹åºï¼Œ å°†æœ¬scriptçš„è·¯å¾„å½“ä½œå‚æ•°ä¼ å…¥( å³: å°†æ•´ä¸ªscriptå½“ä½œinputä¼ å…¥shebangæ‰€æŒ‡å®šçš„ç¨‹åº ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;For example, if a script is named with the path &lt;em&gt;path/to/script&lt;/em&gt;, and it starts with the following line, &lt;code&gt;#!/bin/sh&lt;/code&gt;, then the program loader is instructed to run the program &lt;em&gt;/bin/sh&lt;/em&gt;, passing &lt;em&gt;path/to/script&lt;/em&gt; as the first argument. In &lt;a href=&#34;https://en.wikipedia.org/wiki/Linux&#34;&gt;Linux&lt;/a&gt;, this behavior is the result of both kernel and user-space code.[&lt;a href=&#34;https://en.wikipedia.org/wiki/Shebang_(Unix)#cite_note-9&#34;&gt;9]&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The shebang line is usually ignored by the interpreter, because the &amp;ldquo;#&amp;rdquo; character is a &lt;a href=&#34;https://en.wikipedia.org/wiki/Comment_(computer_programming)&#34;&gt;comment&lt;/a&gt; marker in many scripting languages; some language interpreters that do not use the hash mark to begin comments still may ignore the shebang line in recognition of its purpose.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;shebang-with-env&#34;&gt;shebang with env&lt;/h2&gt;
&lt;p&gt;The shebang expects a full path to the interpreter to use so the following syntax would be incorrect:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#!python&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Setting a full path like this might work:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#!/usr/local/bin/python&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;but would be non portable as python might be installed in &lt;code&gt;/bin&lt;/code&gt;, &lt;code&gt;/opt/python/bin&lt;/code&gt;, or wherever other location.&lt;/p&gt;
&lt;p&gt;Using &lt;code&gt;env&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-py&#34; data-lang=&#34;py&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#!/usr/bin/env python&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;is a method allowing a portable way to specify to the OS a full path equivalent to the one where &lt;code&gt;python&lt;/code&gt; is first located in the &lt;code&gt;PATH&lt;/code&gt;.&lt;/p&gt;
&lt;h1 id=&#34;execute-shell-script&#34;&gt;Execute Shell Script&lt;/h1&gt;
&lt;p&gt;æ‰§è¡Œè„šæœ¬æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ç›´æ¥æŒ‡å®š&lt;code&gt;sh&lt;/code&gt;æ¥æ‰§è¡Œè¯¥è„šæœ¬ï¼Œä¸éœ€è¦shebangï¼Œä¹Ÿä¸éœ€è¦è„šæœ¬æœ‰æ‰§è¡Œæƒé™ï¼ˆå› ä¸ºè¯¥è„šæœ¬ç›´æ¥ä½œä¸ºå‚æ•°ä¼ ç»™äº†sh).&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sh script_file_path
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;éœ€è¦å†™shebangæ¥æŒ‡å®šè§£é‡Šå™¨, å¹¶ä¸”è¦æŒ‡å®šè„šæœ¬è·¯å¾„.&lt;/p&gt;
&lt;p&gt;å¿…é¡»åŠ ä¸Š&lt;code&gt;./&lt;/code&gt;ä½¿å¾—è¯¥command nameè¢«è¯†åˆ«ä¸ºä¸€ä¸ªè·¯å¾„å. å¦åˆ™shellä¼šç»§ç»­åœ¨alias, builtinå’Œ&lt;code&gt;PATH&lt;/code&gt;ä¸­æœç´¢è¯¥command name. &lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;chmod +x script_file &lt;span style=&#34;color:#75715e&#34;&gt;##(chown, chgrp optionally)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./script_file
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;.&lt;/code&gt;æˆ–&lt;code&gt;source&lt;/code&gt;åœ¨å½“å‰shell sessionä¸­æ‰§è¡Œè¯¥è„šæœ¬&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;source script_file
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;or&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;. script_file
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å› æ­¤, è¯¥æ–¹æ³•å¯ä»¥ç”¨äºåˆ·æ–°å½“å‰shellç¯å¢ƒ:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;source ~/.bashrc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Shell scriptæ˜¯èƒ½åœ¨å‘½ä»¤è¡Œç›´æ¥è¾“å…¥çš„, ä½†ä»…ä¼šä½œç”¨ä¸€æ¬¡&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ³¨æ„: æ–¹æ³•1,2éƒ½æ˜¯æ–°å¼€ä¸€ä¸ªå­shell sessionï¼Œåœ¨å…¶ä¸­æ‰§è¡Œè„šæœ¬ï¼Œè€Œæ–¹æ³•3, 4æ˜¯åœ¨å½“å‰shell sessionä¸­æ‰§è¡Œè„šæœ¬&lt;/p&gt;
&lt;h1 id=&#34;io-redirection&#34;&gt;I/O redirection&lt;/h1&gt;
&lt;p&gt;ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¯ä¸ª Linux å‘½ä»¤è¿è¡Œæ—¶éƒ½ä¼šæ‰“å¼€ä¸‰ä¸ªæ–‡ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ ‡å‡†è¾“å…¥æ–‡ä»¶(stdin)ï¼šstdinçš„æ–‡ä»¶æè¿°ç¬¦ä¸º0ï¼ŒUnixç¨‹åºé»˜è®¤ä»stdinè¯»å–æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;æ ‡å‡†è¾“å‡ºæ–‡ä»¶(stdout)ï¼šstdout çš„æ–‡ä»¶æè¿°ç¬¦ä¸º1ï¼ŒUnixç¨‹åºé»˜è®¤å‘stdoutè¾“å‡ºæ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;æ ‡å‡†é”™è¯¯æ–‡ä»¶(stderr)ï¼šstderrçš„æ–‡ä»¶æè¿°ç¬¦ä¸º2ï¼ŒUnixç¨‹åºä¼šå‘stderræµä¸­å†™å…¥é”™è¯¯ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Discard the output&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ command &amp;gt; /dev/null
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The file &lt;strong&gt;/dev/null&lt;/strong&gt; is a special file that automatically &lt;strong&gt;discards all its input&lt;/strong&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Discard both output of a command and its error output,&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ command &amp;gt; /dev/null 2&amp;gt;&amp;amp;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;a command normally writes its output to &lt;strong&gt;STDOUT&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;use standard redirection to redirect &lt;strong&gt;STDERR&lt;/strong&gt; to &lt;strong&gt;STDOUT&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è¿™é‡Œ&lt;code&gt;2&amp;gt;&amp;amp;1&lt;/code&gt;å°†æ ‡å‡†é”™è¯¯ï¼ˆ2ï¼‰åˆå¹¶åˆ°æ ‡å‡†è¾“å‡ºï¼ˆ1ï¼‰ï¼Œ è€Œæ ‡å‡†è¾“å‡ºå·²ç»è¢«é‡å®šå‘åˆ°äº†&lt;code&gt;/dev/null&lt;/code&gt;, å› æ­¤æ€»ä½“æ•ˆæœæ˜¯ï¼Œæ ‡å‡†é”™è¯¯å’Œè¾“å‡ºéƒ½è¢«é‡å®šå‘åˆ°äº†&lt;code&gt;/dev/null&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;file descriptor:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;0&lt;/strong&gt; : STDIN&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;1&lt;/strong&gt;: STDOUT&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;2&lt;/strong&gt;: STDERR&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Sr.No.&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Command &amp;amp; Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;strong&gt;pgm &amp;gt; file&lt;/strong&gt;&lt;!-- raw HTML omitted --&gt;Output of pgm is redirected to file&lt;!-- raw HTML omitted --&gt;ä¼šè¦†ç›–ç›®æ ‡æ–‡ä»¶ä¸­åŸæœ‰çš„æ•°æ®&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;2&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;strong&gt;pgm &amp;lt; file&lt;/strong&gt;&lt;!-- raw HTML omitted --&gt;Program pgm reads its input from file&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;3&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;strong&gt;pgm &amp;raquo; file&lt;/strong&gt;&lt;!-- raw HTML omitted --&gt;Output of pgm is appended to file&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;4&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;strong&gt;n &amp;gt; file&lt;/strong&gt;&lt;!-- raw HTML omitted --&gt;Output from stream with descriptor &lt;strong&gt;n&lt;/strong&gt; redirected to file&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;strong&gt;n &amp;raquo; file&lt;/strong&gt;&lt;!-- raw HTML omitted --&gt;Output from stream with descriptor &lt;strong&gt;n&lt;/strong&gt; appended to file&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;6&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;strong&gt;n &amp;gt;&amp;amp; m&lt;/strong&gt;&lt;!-- raw HTML omitted --&gt;Merges output from stream &lt;strong&gt;n&lt;/strong&gt; with stream &lt;strong&gt;m&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;7&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;strong&gt;n &amp;lt;&amp;amp; m&lt;/strong&gt;&lt;!-- raw HTML omitted --&gt;Merges input from stream &lt;strong&gt;n&lt;/strong&gt; with stream &lt;strong&gt;m&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;8&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;strong&gt;&amp;laquo; tag&lt;/strong&gt;&lt;!-- raw HTML omitted --&gt;Standard input comes from here through next tag at the start of line&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;9&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;strong&gt;|&lt;/strong&gt;&lt;!-- raw HTML omitted --&gt;Takes output from one program, or process, and sends it to another&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;here-document&#34;&gt;Here Document&lt;/h2&gt;
&lt;p&gt;Here Document ç›®å‰æ²¡æœ‰ç»Ÿä¸€çš„ç¿»è¯‘ï¼Œè¿™é‡Œæš‚è¯‘ä¸ºâ€åµŒå…¥æ–‡æ¡£â€œã€‚Here Document æ˜¯ Shell ä¸­çš„ä¸€ç§ç‰¹æ®Šçš„é‡å®šå‘æ–¹å¼ï¼Œå®ƒçš„åŸºæœ¬çš„å½¢å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;command &amp;lt;&amp;lt; delimiter
document
delimiter
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å®ƒçš„ä½œç”¨æ˜¯&lt;strong&gt;å°†ä¸¤ä¸ª delimiter ä¹‹é—´çš„å†…å®¹(document) ä½œä¸ºè¾“å…¥ä¼ é€’ç»™ command&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç»“å°¾çš„delimiter ä¸€å®šè¦é¡¶æ ¼å†™ï¼Œå‰é¢ä¸èƒ½æœ‰ä»»ä½•å­—ç¬¦ï¼Œåé¢ä¹Ÿä¸èƒ½æœ‰ä»»ä½•å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼å’Œ tab ç¼©è¿›ã€‚&lt;/li&gt;
&lt;li&gt;å¼€å§‹çš„delimiterå‰åçš„ç©ºæ ¼ä¼šè¢«å¿½ç•¥æ‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹é¢çš„ä¾‹å­ï¼Œé€šè¿‡ wc -l å‘½ä»¤è®¡ç®— document çš„è¡Œæ•°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;wc -l &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;lt;&amp;lt; EOF
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    This is a simple lookup program
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    for good (and bad) restaurants
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    in Cape Town.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹Ÿå¯å°† Here Document ç”¨åœ¨è„šæœ¬ä¸­ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cat &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;lt;&amp;lt; EOF
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    This is a simple lookup program
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    for good (and bad) restaurants
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;    in Cape Town.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;commen-shell-scripts&#34;&gt;Commen Shell Scripts&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;:&lt;/code&gt;ï¼š ç©ºå‘½ä»¤&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://lyk-love.cn/2023/04/24/Shell-Script-Searching-Path/&#34;&gt;https://lyk-love.cn/2023/04/24/Shell-Script-Searching-Path/&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content>
    </item>
    
    <item>
      <title>ç«é¸Ÿ</title>
      <link>https://lyk-love.cn/Hugo-Blog/posts/%E7%81%AB%E9%B8%9F/</link>
      <pubDate>Mon, 17 Apr 2023 20:19:05 +0000</pubDate>
      
      <guid>https://lyk-love.cn/Hugo-Blog/posts/%E7%81%AB%E9%B8%9F/</guid>
      <description>&lt;p&gt;&lt;em&gt;â€œæˆ‘å§‹ç»ˆåšä¿¡ï¼Œèˆè¹ˆæ˜¯äºŒåä¸–çºªçš„ä»ªå¼â€ &amp;mdash;- Maurice BÃ©jart&lt;/em&gt;&lt;/p&gt;</description>
      <content>&lt;p&gt;&lt;em&gt;â€œæˆ‘å§‹ç»ˆåšä¿¡ï¼Œèˆè¹ˆæ˜¯äºŒåä¸–çºªçš„ä»ªå¼â€ &amp;mdash;- Maurice BÃ©jart&lt;/em&gt;&lt;/p&gt;
&lt;h1 id=&#34;åŒ—äº¬èˆè¹ˆå­¦æ ¡&#34;&gt;åŒ—äº¬èˆè¹ˆå­¦æ ¡&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;1954å¹´9æœˆ6æ—¥ï¼ŒåŒ—èˆæˆç«‹ã€‚
&lt;ul&gt;
&lt;li&gt;1950å¹´ï¼Œå‘¨æ©æ¥çœ‹äº†èŠ­è•¾èˆå‰§ã€Šå’Œå¹³é¸½ã€‹ï¼Œå¯¹ç¼–å¯¼å…¼ä¸»æ¼”æˆ´çˆ±è²è¯´â€œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦èŠ­è•¾çš„ï¼Œä»€ä¹ˆæ—¶å€™èƒ½å¤Ÿæ¼”å‡ºã€Šå¤©é¹…æ¹–ã€‹å‘¢ï¼Ÿâ€ã€‚ åœ¨å…¶ç›´æ¥å…³æ€€ä¸‹ï¼Œ åŒ—èˆå¼€å§‹ç­¹å¤‡æˆç«‹ï¼Œ æˆ´çˆ±è²ä¸ºç¬¬ä¸€ä»»æ ¡é•¿&lt;/li&gt;
&lt;li&gt;åŒ—èˆè¿æ¥çš„è‹è”ä¸“å®¶æ˜¯å½¼å¾—Â·å¤é›ªå¤«ï¼ŒæŠŠä¿„ç½—æ–¯å­¦æ´¾çš„èŠ­è•¾å¸¦åˆ°ä¸­å›½ï¼ŒåŸ¹å…»äº†ç¬¬ä¸€æ‰¹ç¼–å¯¼
&lt;ul&gt;
&lt;li&gt;æ­¤äººå¯¹èŠ­è•¾è‰ºæœ¯æœ‰ç¥åœ£çš„ä¿¡ä»°ï¼Œç«‹å¿—æŠŠèŠ­è•¾çš„è¡€è„‰ä¼ åˆ°ä¸­å›½ã€‚ ä»–å¯¹ä¸­å›½èŠ­è•¾çš„è´¡çŒ®ä¸é™äºèˆè¹ˆå’Œç¼–å¯¼ï¼Œæ›´é‡è¦çš„æ˜¯ä»æ–‡åŒ–çš„æ–¹å¼ç†è§£èˆè¹ˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å½“æ—¶çš„åŒ—èˆæ˜¯ä¸€åº§è±¡ç‰™å¡”ï¼Œä¸å–§åš£çš„å¤–ç•Œå®Œå…¨éš”ç»&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;å¤©é¹…æ¹–&#34;&gt;ã€Šå¤©é¹…æ¹–ã€‹&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä¸­å›½ç¬¬ä¸€éƒ¨å®Œæ•´æ„ä¹‰çš„èŠ­è•¾èˆå‰§æ˜¯1956å¹´æ’æ¼”çš„ã€Šæ— æ„çš„è°¨æ…ã€‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1958å¹´ï¼Œ ã€Šå¤©é¹…æ¹–ã€‹åœ¨å¤©æ¡¥å‰§é™¢å…¬æ¼”æˆåŠŸã€‚ ç™½æ·‘æ¹˜åˆ†é¥°é»‘å¤©é¹…å’Œç™½å¤©é¹…&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨å½“æ—¶ï¼Œ æ€§è§‚å¿µä¿å®ˆï¼Œå¾ˆå¤šäººè¿˜æ— æ³•æ¥å—èŠ­è•¾èˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1959å¹´12æœˆ31æ—¥ï¼ŒåŒ—èˆå®éªŒèŠ­è•¾èˆå›¢æˆç«‹ï¼Œè¿™æ˜¯ä¸­å¤®èŠ­è•¾èˆå›¢çš„å‰èº«&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ–‡è‰ºä¸‹ä¹¡åï¼Œæ¼”å‘˜ä»¬å„è‡ªå¥”èµ´å…¨å›½å„åœ°åŠ³åŠ¨æ¼”å‡ºï¼Œéå¸¸è‰°è‹¦&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨æ³¥åœŸåœ°ä¸Šè·³èˆï¼Œè„šå°–é‹å¾ˆå®¹æ˜“ç ´ã€‚ ä¸çŸ¥é“ä»–ä»¬æ˜¯æ€ä¹ˆè§£å†³çš„`(&lt;em&gt;&amp;gt;ï¹&amp;lt;&lt;/em&gt;)â€²&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ–‡é©åˆ°æ¥ï¼Œã€Šå¤©é¹…æ¹–ã€‹ä¹Ÿæ²¡æ³•å…¬æ¼”äº†&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;çº¢è‰²å¨˜å­å†›&#34;&gt;ã€Šçº¢è‰²å¨˜å­å†›ã€‹&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;å‘¨æ©æ¥æå‡ºä¸­å›½èŠ­è•¾åº”è¯¥æœ‰ä¸­å›½ç‰¹è‰²ï¼Œæ ¹æ®ç”µå½±æ”¹ç¼–çš„ã€Šçº¢è‰²å¨˜å­å†›ã€‹äºæ˜¯å¼€å§‹ç¼–æ’ã€‚
&lt;ul&gt;
&lt;li&gt;ç”±äºä¸­è‹äº¤æ¶ï¼Œè‹è”ä¸“å®¶éƒ½æ’¤ç¦»äº†ï¼Œå¥½åœ¨è‹è”çš„ç•™å­¦ç”Ÿä»¬ä¹Ÿé™†ç»­å›å›½ï¼Œè¡¥ä¸Šäº†äººæ‰ç¼ºå£&lt;/li&gt;
&lt;li&gt;1964å¹´åˆ›ç«‹å‰§ç»„ï¼Œç¨åèµ´æµ·å—æ·±å…¥ç”Ÿæ´»&lt;/li&gt;
&lt;li&gt;ç™½æ·‘æ¹˜é¥°å´ç¼èŠ±&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;çœŸå®çš„äººç”Ÿè‹¦éš¾æ°¸è¿œæ¯”ç”µå½±é‡Œæ›´æ²‰é‡ï¼Œæµ·å—çš„ä½“éªŒç”Ÿæ´»ä¸ºã€Šçº¢è‰²å¨˜å­å†›ã€‹æä¾›äº†ç°å®å…ƒç´ &lt;/li&gt;
&lt;li&gt;ç¬¬ä¸€æ¬¡è”æ’åï¼Œèˆ†è®ºè®¤ä¸ºâ€˜â€œå¨˜å­å†›â€æŸ”å¼±æ— åŠ›ï¼Œæ²¡æœ‰æ‘†è„±å¤©é¹…çš„å½±å“ï¼Œ äºæ˜¯æ¼”å‘˜ä»¬å¥”èµ´å±±è¥¿ï¼Œæ¥å—éƒ¨é˜Ÿè®­ç»ƒ
&lt;ul&gt;
&lt;li&gt;ä»ä»™å¥³åˆ°çº¢å†›æˆ˜å£«ï¼Œä¸ä»…æ˜¯è§’è‰²çš„è½¬å˜ã€‚è¿™ä¸¤è€…ä»£è¡¨ç€ä¸¤ä¸ªå¯¹ç«‹çš„é˜¶çº§&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸ºäº†ç†è§£ã€Šçº¢è‰²å¨˜å­å†›ã€‹å¯¹èŠ­è•¾çš„æ”¹å˜ï¼Œå…ˆå¤ä¹ ä¸€ä¸‹èŠ­è•¾çš„å†å²ï¼š&lt;/p&gt;
&lt;p&gt;ã€‹ã€‹ã€‹&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;èŠ­è•¾å‡ºç°äºæ–‡è‰ºå¤å…´æ—¶æœŸçš„æ„å¤§åˆ©ï¼Œæœ€æ—©åœ¨å®«å»·å®´ä¼šä¸Šè¿›è¡Œã€‚
&lt;ul&gt;
&lt;li&gt;æ¯ä¸€æ®µè¡¨æ¼”å¤§è‡´éƒ½ä¸ä¸Šèœè”ç³»åˆ°ä¸€èµ·ã€‚
&lt;ul&gt;
&lt;li&gt;æ¨¡æ‹Ÿç‹©çŒçš„è¡¨æ¼”ä¹‹åå°±åƒé‡çŒªè‚‰&lt;/li&gt;
&lt;li&gt;æµ·æ´‹ã€æ²³æµç¥çµå‡ºåœºåå°±åƒé±¼&lt;/li&gt;
&lt;li&gt;è®¸å¤šç¥è¯äººç‰©ä¸ŠåœºçŒ®ä¸Šèœè‚´å’Œæ°´æœ&lt;/li&gt;
&lt;li&gt;æœ€åå®¢äººä»¬ä¹Ÿå‚ä¸åˆ°ç‹‚æ¬¢çš„è¡¨æ¼”ä¸­&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;1661å¹´ï¼Œè·¯æ˜“åå››ä¸‹ä»¤åœ¨å·´é»åˆ›åŠäº†ä¸–ç•Œç¬¬ä¸€æ‰€çš‡å®¶èˆè¹ˆå­¦æ ¡ï¼Œç¡®ç«‹äº†èŠ­è•¾çš„äº”ä¸ªåŸºæœ¬è„šä½å’Œä¸ƒä¸ªæ‰‹ä½
&lt;ul&gt;
&lt;li&gt;é™¤äº†ä¸“ä¸šè®­ç»ƒï¼Œä»–çš„èˆè¹ˆå­¦æ ¡ä¹Ÿç»å¸¸æ¼”å‡ºã€‚&lt;/li&gt;
&lt;li&gt;è«é‡Œå“€æ—¶å¸¸ä¸å­¦æ ¡åˆä½œï¼Œäº§ç”Ÿäº†å–œå‰§èŠ­è•¾å’Œæ‚²å‰§èŠ­è•¾ã€‚&lt;/li&gt;
&lt;li&gt;æ¼”å‡ºåœºæ‰€ä»å®«å»·æ‰©å±•åˆ°å‰§åœºã€‚å¥³èˆè¹ˆå®¶ä¹Ÿé€æ¸å‡ºç°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä»åå…­ä¸–çºªäº§ç”ŸèŠ­è•¾å¼€å§‹ï¼ŒèŠ­è•¾çš„é¢˜æå…¨éƒ¨æ¥è‡ªå¸Œè…Šç¥è¯ï¼Œè¿™æ˜¯å› ä¸ºè´µæ—è‡ªæ¯”ä¸ºç¥ï¼Œä¸æ¼”ä¸€èˆ¬æ•…äº‹ã€‚
&lt;ul&gt;
&lt;li&gt;è·¯æ˜“åå››å°±ç‰¹åˆ«å–œæ¬¢æ¼”é˜¿æ³¢ç½—&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;èŠ­è•¾è„±ç¦»å®«å»·è¿›å…¥ç¤¾ä¼šåï¼Œä»ä¸è¯¥ä»¥å‰ä¼ ç»Ÿ&lt;/li&gt;
&lt;li&gt;1832å¹´ï¼Œæµªæ¼«èŠ­è•¾å…´èµ·ï¼ŒèŠ­è•¾è¶‹å‘äºä»¥ä»™å­ã€ç²¾çµä¹‹ç±»çš„è¶…ç°å®äº‹åŠ¡ä¸ºé¢˜æã€‚ åŒæ—¶ï¼Œå¥³èˆè€…ç¬¬ä¸€æ¬¡ç”¨è¶³å°–ç«™ç«‹èµ·èˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;ã€‹ã€‹ã€‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ã€Šçº¢è‰²å¨˜å­å†›ã€‹å……åˆ†è¿ç”¨äº†é©å‘½å…ƒç´ ï¼Œä¸å¤å…¸èŠ­è•¾å¤§ç›¸å¾„åº­ã€‚
&lt;ul&gt;
&lt;li&gt;å› ä¸ºèŠ­è•¾çš„å›½é™…æ€§æ¯”äº¬å‰§çš„æ°‘æ—æ€§æ›´å®¹æ˜“ä¸ºå¤–å›½äººæ¥å—ï¼Œã€Šçº¢è‰²å¨˜å­å†›ã€‹æˆä¸ºäº†æ‹›å¾…å¤–å®¾çš„é‡è¦èŠ‚ç›®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;1966å¹´ï¼Œã€Šçº¢è‰²å¨˜å­å†›ã€‹æˆä¸º&lt;em&gt;æ ·æ¿æˆ&lt;/em&gt;
&lt;ul&gt;
&lt;li&gt;äº¬å‰§ç°ä»£æˆã€Šæ²™å®¶æµœã€‹ã€ã€Šçº¢ç¯è®°ã€‹ã€ã€Šæ™ºå–å¨è™å±±ã€‹ã€ã€Šæµ·æ¸¯ã€‹ã€ã€Šå¥‡è¢­ç™½è™å›¢ã€‹å’Œç°ä»£èŠ­è•¾èˆå‰§ã€Šçº¢è‰²å¨˜å­å†›ã€‹ã€ã€Šç™½æ¯›å¥³ã€‹ã€äº¤å“ä¹ã€Šæ²™å®¶æµœã€‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è¦æˆä¸ºæ ·æ¿æˆï¼Œå°±è¦é¢å¯¹å¤§é‡å®¡æŸ¥ã€‚è®¸å¤šè‰ºæœ¯å®¶è¢«è¿«å®³
&lt;ul&gt;
&lt;li&gt;è¢«è¿«å®³ä¸ºâ€œåé©å‘½â€çš„é€è¿›å¹²æ ¡ï¼Œ å¦ä¸€æ‰¹äººæŠ•å…¥â€œä¸ºå·¥å†œå…µæœåŠ¡â€è¿åŠ¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç”±äºé€æˆä¸‹ä¹¡çš„æ¨å¹¿èƒ½åŠ›ä¸å¦‚ç”µå½±ï¼Œ1970å¹´ã€Šçº¢è‰²å¨˜å­å†›ã€‹ç”µå½±æ‹æ‘„ã€‚
&lt;ul&gt;
&lt;li&gt;ç™½æ·‘æ¹˜å¾—ç½ªäº†æ±Ÿé’ï¼Œå› æ­¤è–›èåä»»å¥³ä¸»è§’ï¼Œå´ç¼èŠ±æ”¹åä¸ºå´æ¸…å&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ”¹é©å¼€æ”¾åï¼Œã€Šçº¢è‰²å¨˜å­å†›ã€‹è¿™ç±»é©å‘½é¢˜æçš„æ–‡è‰ºä½œå“å†æ— äººé—®æ´¥äº†ã€‚80å¹´ä»£æœ«è¢«é‡æ–°è®¤è¯†ï¼Œæ‰æ…¢æ…¢åˆçƒ­äº†èµ·æ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;èŠ­è•¾ï¼Œä¹ƒè‡³èˆè¹ˆæ˜¯ä¸€ä¸ªå¾ˆå®½æ³›çš„è‰ºæœ¯å½¢å¼ï¼Œä»ä¼ ç»Ÿçš„é™è°§é«˜é›…ï¼Œåˆ°ç°ä»£çš„å¯¹å¿ƒçµçš„å©é—®ï¼Œç”šè‡³ã€Šçº¢è‰²å¨˜å­å†›ã€‹é‚£æ ·è¡¨ç°é©å‘½ã€æµè¡€å’Œä»‡æ¨ï¼Œéƒ½åœ¨èŠ­è•¾çš„å½¢å¼ä¹‹ä¸­ã€‚è™½ç„¶æˆ‘ä»¬ä¸€èˆ¬è®¤ä¸ºï¼Œè‰ºæœ¯å°±æ˜¯çº¯æ´ä¸ç¾å¥½ï¼Œä½†è‹¦éš¾å’Œä»‡æ¨ä¹Ÿæ˜¯ä¸–ç•Œçš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚ç¼ºå°‘äº†æ¨ï¼Œçˆ±ä¹Ÿå°±ç©ºæ´æ— åŠ›ï¼Œè‰ºæœ¯çš„ç”Ÿå‘½åŠ›åœ¨äºäºŒè€…çš„çŸ›ç›¾ã€‚ä¹Ÿè®¸æœ‰äººè®¤ä¸ºã€Šçº¢è‰²å¨˜å­å†›ã€‹å’Œå…¶ä»£è¡¨çš„ä¸€ä¼—é©å‘½å¹´ä»£çš„è‰ºæœ¯ä¸èƒ½ç®—æ˜¯è‰ºæœ¯ï¼Œåªæ˜¯æ”¿æ²»çš„é™„åº¸ï¼Œå¯æ˜¯ä»‡æ¨å’Œé²œè¡€ä¸æ­£æ˜¯é‚£ä¸ªå¹´ä»£çš„å†™ç…§å—ï¼ŸæŠ›å¼€æ”¿æ²»çš„é˜´å½±ï¼Œè¿™äº›ä½œå“éƒ½å€¾æ³¨äº†æ— æ•°åˆ›ä½œè€…çš„å¿ƒè¡€ã€‚å³ä½¿ä»è¡¨æ¼”çš„è§’åº¦çœ‹ï¼Œé‚£è‚¡å®æ‰“å®çš„ç²¾æ°”ç¥å°±æ˜¯æ•´ä¸ªæ—¶ä»£çš„èæ±‡ï¼Œè¿™æ˜¯å¾ˆäº†ä¸èµ·çš„ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ç«é¸Ÿ&#34;&gt;ã€Šç«é¸Ÿã€‹&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;å…­ã€ä¸ƒåå¹´ä»£ã€‚è¥¿æ–¹èŠ­è•¾èˆç»å†äº†é©å‘½
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Roland Petit&lt;/em&gt;å’ŒPFä¹é˜Ÿåˆä½œï¼Œåˆ›ä½œäº†ã€ŠPink Floydã€‹&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Maurice BÃ©jart&lt;/em&gt;é‡æ–°ç¼–æ’äº†ä»–çš„ç¬¬ä¸€éƒ¨ä½œå“ã€Šç«é¸Ÿã€‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å…«ä¹åå¹´ä»£ï¼Œä¸­å›½èŠ­è•¾èˆé™·å…¥ä½è°·
&lt;ul&gt;
&lt;li&gt;1986å¹´ï¼Œä¸­å¤®èŠ­è•¾èˆå›¢å‡ºè®¿ç¾å›½ï¼Œè¥¿æ–¹èŠ­è•¾èˆçš„é©å‘½æå¤§åœ°åˆºæ¿€äº†ä¸­å›½èŠ­è•¾èˆç•Œï¼Œäººæ‰å¤§é‡æµå¤±ï¼Œ&lt;/li&gt;
&lt;li&gt;ä½“åˆ¶æ”¹é©åï¼ŒèŠ­è•¾ä¸æ”¿æ²»ç–ç¦»ï¼ŒèŠ­è•¾ç¼ºå°‘è´¢æ”¿æ”¯æŒï¼Œæ¼”å‡ºå¸‚åœºä¹Ÿæ²¡æœ‰æˆç†Ÿ&lt;/li&gt;
&lt;li&gt;æµè¡Œæ–‡åŒ–ç››è¡Œï¼Œ é«˜é›…ã€éœ€è¦åˆä½œçš„èŠ­è•¾æ— æ³•é€‚åº”æ–‡åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä»ã€Šç½—å¯†æ¬§ä¸æœ±ä¸½å¶ã€‹å¼€å§‹ï¼Œä¸­å›½èŠ­è•¾ä¸æ–­å¼•è¿›å¤–å›½å‰§ç›®ï¼Œæƒ…åŠ¿æ¸æ¸å¥½è½¬
&lt;ul&gt;
&lt;li&gt;2001å¹´é¦–æ¼”çš„ã€Šå¤§çº¢ç¯ç¬¼é«˜é«˜æŒ‚ã€‹å–ä»£ã€Šçº¢è‰²å¨˜å­å†›ã€‹ï¼Œæˆä¸ºæœ€è‘—åçš„ä¸­å›½èŠ­è•¾èˆå‰§ï¼ˆ ç›¸æ¯”åè€…ï¼Œå‰è€…æ›´æ¸©å’Œ ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;2009å¹´ï¼Œ ä¸­å›½çš„&lt;em&gt;BÃ©jart&lt;/em&gt; ç‰ˆã€Šç«é¸Ÿã€‹æ¼”å‡ºã€‚ è¿™æ˜¯ç°ä»£èˆè¹ˆçš„å·…å³°ä¹‹ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1 id=&#34;æ„Ÿè¨€&#34;&gt;æ„Ÿè¨€&lt;/h1&gt;
&lt;p&gt;æ¯ä¸€ä¸ªè¿½å¯»è‰ºæœ¯çš„äººéƒ½æ˜¯ç«é¸Ÿï¼Œæ¯æ¬¡è¦æ”¾å¼ƒçš„æ—¶å€™ï¼Œå°±ä¼šç‚¹ç‡ƒæ–°çš„å¸Œæœ›ï¼Œç›´åˆ°æœ€åä¸€ä¸ªéŸ³ç¬¦åœ¨ç©ºä¸­æ¶ˆå¤±ã€‚ä¸ºäº†å°†è‡ªå·±çš„ç†å¿µä¼ é€’ä¸‹å»è€ŒæŒ¯ç¿…é£ç¿”ã€‚èˆå°ä¸Šï¼Œç«é¸Ÿç–²æƒ«åœ°æ­»å»ï¼Œæ¼†é»‘çš„å¤©å¹•éœ²å‡ºè¡€çº¢çš„ä¸€é“è£‚ç¼ï¼Œæœ€åæ‰©å±•ä¸ºé“ºæ»¡èˆå°çš„å…‰èŠ’ã€‚ æ— æ•°ç«é¸Ÿä»å¤©é™…é£æ¥ï¼Œæ‰€æœ‰çš„äººéƒ½æ„Ÿå—åˆ°äº†å…‰æ˜çš„ç…§è€€ï¼Œè€Œé‚£ç§é‡ç”Ÿçš„æ¸©æš–ä¹Ÿç¬é—´å¼¥æ¼«äº†æ•´ä¸ªå‰§åœºã€‚&lt;/p&gt;
&lt;p&gt;ç‰©è´¨ä¸Šçš„å›°çª˜ä¹Ÿå¥½ï¼Œå¿ƒçµä¸Šçš„æ‘§æ®‹ä¹Ÿç½¢ï¼Œç«é¸Ÿä»æ¥ä¸ç•æƒ§è¿™äº›ã€‚ç‡ƒçƒ§å’Œæ¶…æ§ƒï¼Œéƒ½æ˜¯ä¸ºäº†å†…å¿ƒçš„è™”è¯šï¼Œè¿½æ±‚è‡ªå·±å¿ƒä¸­çš„é“è·¯ã€‚&lt;/p&gt;</content>
    </item>
    
    <item>
      <title>About</title>
      <link>https://lyk-love.cn/Hugo-Blog/about/</link>
      <pubDate>Tue, 21 Mar 2023 17:56:28 +0000</pubDate>
      
      <guid>https://lyk-love.cn/Hugo-Blog/about/</guid>
      <description>About Me. Hi! I&amp;rsquo;m Nathan. I&amp;rsquo;m an 18 y.o tech enthusiast. My hobbies include gaming, video editing, photo manipulation, reading books, socialising with friends and going to the gym. I have a keen interest in computers, computer repair and hardware/software hacking/cybersecurity. I am currently studyin the BTEC Extended Diploma Information Technology at Level 3 in college while persuing apprenticeships for when I leave. In my spare time I like to start projects, such as this Hugo website.</description>
      <content>&lt;h1 id=&#34;about-me&#34;&gt;About Me.&lt;/h1&gt;
&lt;h2 id=&#34;Hi&#34;&gt;Hi! I&amp;rsquo;m Nathan.&lt;/h2&gt;
&lt;p&gt;I&amp;rsquo;m an 18 y.o tech enthusiast. My hobbies include gaming, video editing, photo manipulation, reading books, socialising with friends and going to the gym. I have a keen interest in computers, computer repair and hardware/software hacking/cybersecurity. I am currently studyin the BTEC Extended Diploma Information Technology at Level 3 in college while persuing apprenticeships for when I leave. In my spare time I like to start projects, such as this Hugo website. I&amp;rsquo;m currently working two part time jobs, one working at a local bar in my town as a more social experince. While the other job is working for a local shop maintaining and managing the website along with product stocks.&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>Hexo</title>
      <link>https://lyk-love.cn/Hugo-Blog/posts/hexo/</link>
      <pubDate>Sun, 27 Mar 2022 02:28:03 +0000</pubDate>
      
      <guid>https://lyk-love.cn/Hugo-Blog/posts/hexo/</guid>
      <description>&lt;p&gt;Outline&lt;/p&gt;
&lt;p&gt;Hexo, Next, Markdown&lt;/p&gt;
&lt;p&gt;é‡Œé¢æœ‰å‡ ä¹å…¨éƒ¨çš„ä¸»é¢˜é…ç½®æ•™ç¨‹&lt;/p&gt;</description>
      <content>&lt;p&gt;Outline&lt;/p&gt;
&lt;p&gt;Hexo, Next, Markdown&lt;/p&gt;
&lt;p&gt;é‡Œé¢æœ‰å‡ ä¹å…¨éƒ¨çš„ä¸»é¢˜é…ç½®æ•™ç¨‹&lt;/p&gt;
&lt;h1 id=&#34;intro&#34;&gt;Intro&lt;/h1&gt;
&lt;p&gt;Hexoç‰ˆæœ¬: 6.2.0&lt;/p&gt;
&lt;p&gt;Nextç‰ˆæœ¬: 8.12.3&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://hexo.io/zh-cn/&#34;&gt;Hexoå®˜ç½‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://hexo-next.readthedocs.io/zh_CN/latest&#34;&gt;NeXt Tutor&lt;/a&gt;, é‡Œé¢æœ‰å‡ ä¹å…¨éƒ¨çš„ä¸»é¢˜é…ç½®æ•™ç¨‹&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/next-theme/hexo-theme-next&#34;&gt;æœ€æ–°ç‰ˆ(v8)NeXt Githubä»“åº“&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://theme-next.js.org/&#34;&gt;Next Official Blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/theme-next/awesome-next&#34;&gt;Awesome NexT&lt;/a&gt; : æœ‰å¾ˆå¤šåˆ«äººçš„Nextåšå®¢, éå¸¸å€¼å¾—å€Ÿé‰´&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ¬æ–‡æ¡£å‚è€ƒäº†:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯”è¾ƒå…¨çš„&lt;a href=&#34;https://www.yuque.com/skyrin/coding/tm8yf5#xgq4yz&#34;&gt;Hexo + Nextæ­å»ºæ•™ç¨‹&lt;/a&gt;, å…¶ä¸­æœ‰äº›å†…å®¹æœ‰ç‚¹è€äº†&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hexoæ˜¯æµè¡Œçš„é™æ€åšå®¢æ¡†æ¶, åŒç±»çš„è¿˜æœ‰Hugoå’ŒJekyl. Hexoçš„ä¼˜ç‚¹æ˜¯, å®ƒçš„Nextä¸»é¢˜æ¯”è¾ƒå¥½çœ‹. æœ¬æ–‡ä»‹ç»Hexo + Nextçš„é…ç½®.&lt;/p&gt;
&lt;p&gt;ä¸»é¢˜æ–‡ä»¶éƒ½å­˜æ”¾åœ¨&lt;code&gt;&amp;lt;hexo-dir&amp;gt;/themes/&lt;/code&gt;, ä¾‹å¦‚Nextä¸»é¢˜å°±ä½äº&lt;code&gt;&amp;lt;hexo-dir&amp;gt;/themes/next/_config.yml&lt;/code&gt;. &lt;strong&gt;ä½†æ˜¯&lt;/strong&gt;, ç”±äºä¸‹é¢è®²çš„å¤šä¸»æœºåŒæ­¥çš„åŸå› , å®é™…èµ·ä½œç”¨çš„ä¸»é¢˜é…ç½®æ–‡ä»¶æ˜¯&lt;code&gt;&amp;lt;hexo&amp;gt;/_cofig.next.yml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Hexoçš„é…ç½®æ–‡ä»¶ä½äºHexoç›®å½•çš„&lt;code&gt;_config.yml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Nextçš„é…ç½®ç›®å½•ä½äº&lt;code&gt;&amp;lt;hexo&amp;gt;/_cofig.next.yml&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;åœ¨ä¸»é¢˜é…ç½®ä¸­, é™¤éç‰¹æ®Šè¯´æ˜, ç¼–è¾‘éƒ½æ˜¯ä¸»é¢˜é…ç½®æ–‡ä»¶. åŒç†, å¯¹äºHexoçš„é…ç½®, é™¤éç‰¹æ®Šè¯´æ˜, ç¼–è¾‘çš„éƒ½æ˜¯Hexoé…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;h1 id=&#34;hexo-commands&#34;&gt;Hexo Commands&lt;/h1&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‘½ä»¤&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;hexo init [folder]&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åˆå§‹åŒ–ç½‘ç«™&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;hexo new [layout]&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;æ–°å»ºæ–‡ç« , é»˜è®¤æ˜¯â€œpostâ€, æˆ‘é€šè¿‡&lt;code&gt;default_layout: draft&lt;/code&gt;è®¾ç½®ä¸ºæ–°å»ºåˆ°â€œdraftâ€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;hexo publish [layout]&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å‘å¸ƒè‰ç¨¿&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;hexo g[enerate]&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;ç”Ÿæˆé™æ€æ–‡ä»¶.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;hexo s[erver]&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨. æœåŠ¡å™¨ä¼šç›‘å¬æ–‡ä»¶å˜åŒ–å¹¶è‡ªåŠ¨æ›´æ–°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;hexo d[eploy]&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åœ¨å®‰è£…äº†deploy git æ’ä»¶å, å¯ä»¥ç”Ÿæˆæœ¬åœ°æ–‡ä»¶å¹¶è¿œç¨‹éƒ¨ç½²åˆ°GitPage. å†ä¹Ÿä¸ç”¨&lt;code&gt;hexo d -g&lt;/code&gt;äº†&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;hexo clean&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;æ¸…ç†æ•°æ®åº“å’Œé™æ€æ–‡ä»¶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;hexo list&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åˆ—å‡ºç«™ç‚¹ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;hexo version&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;ç‰ˆæœ¬ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;&lt;code&gt;hexo d -g&lt;/code&gt;&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç”Ÿæˆå¹¶éƒ¨ç½²&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&#34;hexoæ­å»º&#34;&gt;Hexoæ­å»º&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å®‰è£… Hexo:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;npm install -g hexo-cli
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨æœ¬åœ°æŒ‡å®šæ–‡ä»¶å¤¹ &lt;code&gt;&amp;lt;folder&amp;gt;&lt;/code&gt; ä¸­å»ºç«‹é¡¹ç›®:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;hexo init &amp;lt;folder&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd &amp;lt;folder&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;npm install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ–°å»ºå®Œæˆåï¼ŒæŒ‡å®šæ–‡ä»¶å¤¹ &lt;code&gt;&amp;lt;folder&amp;gt;&lt;/code&gt; çš„ç›®å½•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-plain&#34; data-lang=&#34;plain&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”œâ”€â”€ _config.yml
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”œâ”€â”€ package.json
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”œâ”€â”€ scaffolds
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â”œâ”€â”€ source
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;|   â”œâ”€â”€ _drafts
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;|   â””â”€â”€ _posts
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;â””â”€â”€ themes
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ–‡ä»¶/æ–‡ä»¶å¤¹&lt;/th&gt;
&lt;th&gt;ä½œç”¨&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;_config.yml&lt;/td&gt;
&lt;td&gt;ç½‘ç«™çš„&lt;a href=&#34;https://hexo.io/zh-cn/docs/configuration.html&#34;&gt;é…ç½®&lt;/a&gt;æ–‡ä»¶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;package.json&lt;/td&gt;
&lt;td&gt;åº”ç”¨ç¨‹åºçš„ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;scaffolds&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://hexo.io/zh-cn/docs/templates.html&#34;&gt;æ¨¡ç‰ˆ&lt;/a&gt;æ–‡ä»¶å¤¹ã€‚å½“æ‚¨æ–°å»ºæ–‡ç« æ—¶ï¼ŒHexo ä¼šæ ¹æ® scaffold æ¥å»ºç«‹æ–‡ä»¶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;source&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://hexo.io/zh-cn/docs/asset-folders.html&#34;&gt;èµ„æºæ–‡ä»¶å¤¹&lt;/a&gt;æ˜¯å­˜æ”¾ç”¨æˆ·èµ„æºçš„åœ°æ–¹ã€‚é™¤ &lt;em&gt;posts æ–‡ä»¶å¤¹ä¹‹å¤–ï¼Œå¼€å¤´å‘½åä¸º&lt;/em&gt;  (ä¸‹åˆ’çº¿)çš„æ–‡ä»¶ / æ–‡ä»¶å¤¹å’Œéšè—çš„æ–‡ä»¶å°†ä¼šè¢«å¿½ç•¥ã€‚Markdown å’Œ HTML æ–‡ä»¶ä¼šè¢«è§£æå¹¶æ”¾åˆ° public æ–‡ä»¶å¤¹ï¼Œè€Œå…¶ä»–æ–‡ä»¶ä¼šè¢«æ‹·è´è¿‡å»&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;themes&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://hexo.io/zh-cn/docs/themes.html&#34;&gt;ä¸»é¢˜&lt;/a&gt;æ–‡ä»¶å¤¹ã€‚Hexo ä¼šæ ¹æ®ä¸»é¢˜æ¥ç”Ÿæˆé™æ€é¡µé¢&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®‰è£…ä¸»é¢˜, è§ä¸‹æ–‡&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;éƒ¨ç½²åˆ°gitpage&#34;&gt;éƒ¨ç½²åˆ°GitPage&lt;/h2&gt;
&lt;p&gt;GitPage å…è®¸ä½ å°†ä½ çš„åšå®¢åˆ›å»ºä¸ºä¸€ä¸ª GitHub Projectï¼Œé€šè¿‡ &lt;code&gt;your-account.github.io&lt;/code&gt; è¿™æ ·çš„ç‰¹æ®Šé¡¹ç›®åç§°ä¸ GitPage è¿›è¡Œå…³è”ï¼Œç„¶åï¼Œä½ åªéœ€è¦åƒå¹³æ—¶ä¸€æ · commit ä½ çš„åšæ–‡åˆ° GitHub ä¸Šå°± OK äº†ï¼ŒGitPage ä¼šè‡ªåŠ¨å°†ä½ çš„æ›´æ–°éƒ¨ç½²å‡ºå».&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„, ç§æœ‰ä»“åº“çš„Gitpagesä¹Ÿæ˜¯å¯ä»¥å…¬å…±è®¿é—®çš„, æ‰€ä»¥åƒä¸‡ä¸è¦æŠŠå«æœ‰æ•æ„Ÿä¿¡æ¯çš„ç§æœ‰ä»“åº“ä½œä¸ºGitPages&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å®‰è£… deploy git æ’ä»¶å®ç°ä¸€é”®è‡ªåŠ¨éƒ¨ç½²:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-plain&#34; data-lang=&#34;plain&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;npm install hexo-deployer-git --save
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ GitHub åˆ›å»ºä¸€ä¸ªåä¸º&lt;code&gt;&amp;lt;username&amp;gt;.github.io.git&lt;/code&gt;çš„ä»“åº“ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶&lt;code&gt;_config.yml&lt;/code&gt;ä¸­ä¿®æ”¹ä»“åº“åœ°å€, æ³¨æ„, ä¸ºäº†åæ–‡è¯´çš„å¤šä¸»æœºåŒæ­¥. æˆ‘çš„ä»“åº“æœ‰ä¸¤ä¸ªåˆ†æ”¯. &lt;code&gt;master&lt;/code&gt;ç”¨äºå­˜æ”¾ç”Ÿæˆçš„ç½‘é¡µæ–‡ä»¶, &lt;code&gt;hexo&lt;/code&gt;å­˜æ”¾æºæ–‡ä»¶. éƒ¨ç½²å½“ç„¶æ˜¯pushç½‘é¡µæ–‡ä»¶, ä¹Ÿå°±æ˜¯&lt;code&gt;master&lt;/code&gt;åˆ†æ”¯:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;deploy&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;type&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;git&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;repo&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;github&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;git@github.com:LYK-love/LYK-love.github.io.git&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;branch&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;master&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;GitPageå¯ä»¥å…³è”åˆ°é¡¹ç›®çš„ä»»æ„åˆ†æ”¯, æˆ‘ä»¬è¦åˆ°ä»“åº“çš„Settings -&amp;gt; Code and automation -&amp;gt; Pagesé‡Œ, æŠŠPageså…³è”åˆ°masteråˆ†æ”¯. è¿™æ ·æˆ‘ä»¬éƒ¨ç½²åˆ°masterçš„ç½‘é¡µæ–‡ä»¶å°±å¯ä»¥åŒæ­¥åˆ°Pagesä¸Š.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‰§è¡Œ&lt;code&gt;hexo d&lt;/code&gt;å³å¯éƒ¨ç½²åˆ° GitHub ä»“åº“ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ–°å¢æˆ–ä¿®æ”¹ä¸»é¢˜é…ç½®åéƒ¨ç½²æ—¶è¯·æ‰§è¡Œ &lt;code&gt;hexo clean &amp;amp;&amp;amp; hexo d&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ³¨ï¼šè¿™é‡Œä½¿ç”¨ ssh åè®®è€Œé httpï¼Œæ‰€ä»¥è¯·å…ˆç¡®ä¿æ‚¨å·²ç»åœ¨ GitHub æ·»åŠ äº†å…¬é’¥.&lt;/p&gt;
&lt;h2 id=&#34;è‡ªå®šä¹‰åŸŸå&#34;&gt;è‡ªå®šä¹‰åŸŸå&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;é¦–å…ˆä½ éœ€è¦å»åŸŸåæ³¨å†Œå•†ï¼ˆé˜¿é‡Œäº‘è…¾è®¯äº‘ç­‰ï¼‰ä¹°ä¸€ä¸ªåŸŸå&lt;/li&gt;
&lt;li&gt;åœ¨æ ¹ç«™ç‚¹ä¸‹&lt;code&gt;source&lt;/code&gt;ç›®å½•ä¸­æ·»åŠ &lt;code&gt;CNAME&lt;/code&gt;æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹ä¸ºæ‚¨è´­ä¹°çš„åŸŸå&lt;code&gt;xxx.com&lt;/code&gt;ï¼Œä¸è¦æ·»åŠ &lt;code&gt;www&lt;/code&gt;ã€&lt;code&gt;mail&lt;/code&gt;ç­‰å­åŸŸä¾‹å¦‚&lt;code&gt;www.xxx.com&lt;/code&gt;æˆ–&lt;code&gt;mail.xxx.com&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å‰å¾€åŸŸåæ§åˆ¶å°è§£ææ­¤åŸŸååˆ°&lt;code&gt;github.io&lt;/code&gt;ï¼Œæ ¹æ® gitpage çš„è‡ªå®šä¹‰åŸŸåè¦æ±‚ï¼Œä»–ä»¬å»ºè®®è§£æåˆ°&lt;code&gt;github.io&lt;/code&gt;çš„æ•°å­— ip åœ°å€ï¼Œå³&lt;code&gt;151.101.129.147&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åœ¨æ§åˆ¶å°è®¾ç½®åŸŸåè§£æï¼Œæ·»åŠ  A è®°å½•æŒ‡å‘ &lt;code&gt;151.101.129.147&lt;/code&gt; å³å¯&lt;/li&gt;
&lt;li&gt;å‘½ä»¤è¡Œæ‰§è¡Œ&lt;code&gt;hexo d&lt;/code&gt;å‘å¸ƒç«™ç‚¹åˆ° GitHub åº“ï¼Œè¿™æ—¶åœ¨ Git åº“åº”è¯¥å°±èƒ½çœ‹åˆ° CNAME æ–‡ä»¶ï¼Œè‡³æ­¤è‡ªå®šä¹‰åŸŸåè®¾ç½®å®Œæ¯•ï¼Œç°åœ¨ä½¿ç”¨&lt;code&gt;xxx.com&lt;/code&gt;å³å¯è®¿é—®ç«™ç‚¹&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å†™ä½œ&#34;&gt;å†™ä½œ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é»˜è®¤æ–°å»ºæ–‡ç« éƒ½æ˜¯posts, æ”¹æˆæ–°å»ºä¸ºdrafts:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;default_layout&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;draft&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·&lt;code&gt;hexo new&lt;/code&gt;æ–°å»ºçš„å°±éƒ½æ˜¯è‰ç¨¿äº†&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ–‡ç« èƒ½ä¼šæœ‰å¤šä¸ªç±»åˆ«, åˆ†ç±»å…·æœ‰é¡ºåºæ€§å’Œå±‚æ¬¡æ€§, æœ‰&lt;code&gt;3&lt;/code&gt;ç§ä¸åŒçš„ç¼–å†™æ–¹å¼&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# ç¬¬ä¸€ç§
categories:
  - Java
  - Servlet
# ç¬¬äºŒç§
categories: [Java, Servlet]
# ç¬¬ä¸‰ç§
categories:
  -[Java]
  -[Servlet]
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å‰ä¸€ã€äºŒç§ä¹¦å†™æ–¹å¼çš„ä½œç”¨ä¸€è‡´ï¼Œè¡¨ç¤ºè¯¥æ–‡ç« åˆ†ç±»äº&lt;code&gt;Java/Servlet&lt;/code&gt;ä¸‹ï¼Œèµ·åˆ°äº†å­åˆ†ç±»çš„ä½œç”¨&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰ç§ä¹¦å†™æ–¹å¼èµ·åˆ°äº†å¤šåˆ†ç±»çš„ä½œç”¨ï¼Œè¡¨ç¤ºè¯¥æ–‡ç« åˆ†ç±»äº&lt;code&gt;Java&lt;/code&gt;å’Œ&lt;code&gt;Servlet&lt;/code&gt;ä¸‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ ‡ç­¾æ²¡æœ‰å±‚æ¬¡æ€§:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;categories:
- Diary
tags:
- PS3
- Games
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;configuring-author&#34;&gt;Configuring Author&lt;/h2&gt;
&lt;p&gt;Edit Hexo config file and set the value of &lt;code&gt;author&lt;/code&gt; to your nickname.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;Hexo config file&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Site&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;author&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;configuring-description&#34;&gt;Configuring Description&lt;/h2&gt;
&lt;p&gt;Edit Hexo config file and set the value of &lt;code&gt;description&lt;/code&gt; to your description, which can be a sentence you like.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;Hexo config file&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Site&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;description&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;enabling-theme&#34;&gt;Enabling Theme&lt;/h2&gt;
&lt;p&gt;Like all Hexo themes, after you download it, open Hexo config file, find &lt;code&gt;theme&lt;/code&gt; option, and change its value to &lt;code&gt;next&lt;/code&gt; (or another theme directory name).&lt;/p&gt;
&lt;p&gt;Edit Hexo config file:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;theme&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;next&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now you have installed NexT theme and enabled it. The following steps will help you verify whether NexT is enabled correctly.&lt;/p&gt;
&lt;h1 id=&#34;nexté…ç½®&#34;&gt;NeXté…ç½®&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://convivae.top/posts/hexo-bo-ke-cai-keng/&#34;&gt;è¿›é˜¶é…ç½®&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Schemes: ç›®å‰è§‰å¾—Mistæ¯”è¾ƒå¥½çœ‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Schemes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# scheme: Muse&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;scheme&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;Mist&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# scheme: Pisces&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# scheme: Gemini&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è®¾ç½®è¯­è¨€: æˆ‘ä½¿ç”¨é»˜è®¤çš„è‹±è¯­. å¦‚æœè¦ä½¿ç”¨æ±‰è¯­, å¯ä»¥ç¼–è¾‘ä¸»é¢˜é…ç½®æ–‡ä»¶:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;language&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;zh-CN&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é¦–é¡µæ–‡ç« æ˜¾ç¤ºæ‘˜è¦: åœ¨æ–‡ç« ä¸­é€‚å½“ä½ç½®æ’å…¥ &lt;code&gt;&amp;lt;!--more--&amp;gt;&lt;/code&gt;ï¼Œè¯¥ä½ç½®ä¹‹å‰çš„éƒ¨åˆ†å³ä¸ºæ‘˜è¦ï¼Œä¼šæ˜¾ç¤ºåœ¨é¦–é¡µä¸­.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;sidebarç¤¾äº¤é“¾æ¥: é‚®ç®±å‰è¦åŠ &lt;code&gt;mailto:&lt;/code&gt;, è¿™è¿˜æ˜¯æˆ‘ç”¨å¼€å‘è€…å·¥å…·æŸ¥åˆ«äººçš„ç½‘ç«™å‘ç°çš„..( å…¶å®mailtoæ˜¯htmlä¸­å‘é€emailçš„ä»£ç  )&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;social&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;GitHub&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;https://github.com/LYK-love || fab fa-github&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;E-Mail&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;mailto:191820133@smail.nju.edu.cn || fa fa-envelope&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;sidebarç¤¾äº¤é“¾æ¥çš„å›¾æ¡ˆ:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;social_icons&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;enable&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;icons_only&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;transition&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ·»åŠ å»ºç«™æ—¶é—´, ä¸åŠ çš„è¯å°±ä¼šæ˜¾ç¤ºå½“å‰å¹´ä»½:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;footer&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Specify the date when the site was setup. If not defined, current year will be used.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;since&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;2021&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å…³æ‰é—ªçƒ:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;quicklink&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;enable&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Toc: Table of Contents in the Sidebar. ä¸»è¦æ˜¯sidebaré‡Œé¢çš„æ ‡é¢˜è¦ä¸è¦è‡ªåŠ¨è¿›è¡Œæ•°å­—ç¼–å·. é»˜è®¤ä¸ºtrue. æˆ‘ä¸å–œæ¬¢ç¼–å·ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;toc&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;enable&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Automatically add list number to toc.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;number&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;configuring-favicon&#34;&gt;Configuring Favicon&lt;/h2&gt;
&lt;p&gt;By default the Hexo site use NexT favicons in &lt;code&gt;[hexo-site]/themes/next/source/images/&lt;/code&gt; directory with different size for different device. You can replace them with your own favicons.&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯, å¦‚æœä½¿ç”¨npmå®‰è£…Next, åˆ™ä¸»é¢˜æ–‡ä»¶å¤¹æ˜¯&lt;code&gt;[hexo-site]/node_modules/hexo-theme-next&lt;/code&gt;, æ— æ³•è¿›è¡Œç‰ˆæœ¬ç®¡ç†.&lt;/p&gt;
&lt;p&gt;å› æ­¤, Hexoä¹Ÿæ”¯æŒå°†å›¾ç‰‡æ”¾åœ¨&lt;code&gt;[hexo-site]/source/images/&lt;/code&gt;. æˆ‘ä¹Ÿ&lt;strong&gt;å¼ºçƒˆæ¨è&lt;/strong&gt;è¿™ä¹ˆåš, è¿™æ ·å°±å¯ä»¥è¿›è¡Œç‰ˆæœ¬ç®¡ç†äº†:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å…ˆæ‰‹åŠ¨åˆ›å»ºæ–‡ä»¶å¤¹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;hexo-site&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;/source
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mkdir images
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åç»­åœ¨Nexté…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨&lt;code&gt;images&lt;/code&gt;è·¯å¾„æ¥æ‰¾åˆ°å›¾ç‰‡:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”±äº&lt;code&gt;themes/next/source/images/&lt;/code&gt;å’Œ&lt;code&gt;source/images/&lt;/code&gt;éƒ½å¯ä»¥æ”¾å›¾ç‰‡, è¯¥æ“ä½œå®é™…ä¸Šä¼šæ‰«æè¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;mkdir images
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è®¾ç½®ç«™ç‚¹å›¾æ ‡:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;favicon&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# small: /images/favicon-16x16-next.png&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;small&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;/images/white_flower1.jpg&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# medium: /images/favicon-32x32-next.png&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;medium&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;/images/white_flower1.jpg&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# apple_touch_icon: /images/apple-touch-icon-next.png&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;apple_touch_icon&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;/images/white_flower1.jpg&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è®¾ç½®èœå•: çœŸä¸çŸ¥é“abouté¡µé¢æœ‰å•¥ç”¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;menu&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;home&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;/ || home&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# about: /about/ || user&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;tags&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;/tags/ || tags&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;categories&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;/categories.md/ || th&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;archives&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;/archives/ || archive&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;#schedule: /schedule/ || calendar&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;#sitemap: /sitemap.xml || sitemap&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;#commonweal: /404/ || heartbeat&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Enable / Disable menu icons / item badges.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;menu_settings&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;icons&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;badges&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è®¾ç½®sidebar avatar, å¹¶ä¸”è®©å›¾ç‰‡åœ†å½¢æ˜¾ç¤º&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Sidebar Avatar&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;avatar&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Replace the default image and set the url here.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;url&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;/images/white_flower1.jpg&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# If true, the avatar will be displayed in circle.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# åœ†å½¢æ˜¾ç¤º&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;rounded&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# If true, the avatar will be rotated with the cursor.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;rotated&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¤´åƒå¿…é¡»å­˜æ”¾åœ¨&lt;code&gt;&amp;lt;next&amp;gt;/themes/source/images/&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æœç´¢æœåŠ¡&#34;&gt;æœç´¢æœåŠ¡&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨æœ¬åœ°æœç´¢ï¼ŒæŒ‰ä»¥ä¸‹æ­¥éª¤é…ç½®ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å®‰è£… hexo-generator-searchdb æ’ä»¶ï¼šåŠ äº†è¿™ä¸ªä¹‹å,åšå®¢ç”Ÿæˆæ—¶é—´è¦æ…¢å¥½å‡ ç§’, ä¸è¿‡ä¹Ÿæ˜¯å€¼å¾—çš„&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;npm install hexo-generator-searchdb --save
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¼–è¾‘Hexoé…ç½®æ–‡ä»¶ &lt;code&gt;_config.yml&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;search&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;path&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;search.xml&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;field&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;post&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;format&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;html&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;limit&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;10000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¼–è¾‘Nexté…ç½®æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Local search&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;local_search&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;enable&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ç™¾åº¦ç»Ÿè®¡&#34;&gt;ç™¾åº¦ç»Ÿè®¡&lt;/h2&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥æ·»åŠ Googleç»Ÿè®¡, éƒ½å·®ä¸å¤š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å¼€é€šç™¾åº¦ç»Ÿè®¡å¸å·: åœ¨ &lt;a href=&#34;https://tongji.baidu.com/web/welcome/login&#34;&gt;&lt;strong&gt;ç™¾åº¦ç»Ÿè®¡&lt;/strong&gt;&lt;/a&gt; æ³¨å†Œå¸å·. å¸å·æ³¨å†ŒæˆåŠŸåï¼Œåœ¨ä¾§è¾¹æ &lt;code&gt;è´¦æˆ·ç®¡ç† -&amp;gt; ç½‘ç«™åˆ—è¡¨&lt;/code&gt;ï¼Œç‚¹å‡»å³ä¾§&lt;code&gt;æ–°å¢ç½‘ç«™&lt;/code&gt;æŒ‰é’®&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ·»åŠ &lt;code&gt;ç½‘ç«™åŸŸå/ç½‘ç«™é¦–é¡µ&lt;/code&gt;ä¿¡æ¯åï¼Œç‚¹å‡»&lt;code&gt;ç¡®å®š&lt;/code&gt;æŒ‰é’®ï¼Œç™¾åº¦ç»Ÿè®¡ä¼šæä¾›ä¸€æ®µ&lt;code&gt;JS&lt;/code&gt;è„šæœ¬ç”¨äºåµŒå…¥&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;script&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;_hmt&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;_hmt&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;||&lt;/span&gt; [];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt;() {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;hm&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; document.&lt;span style=&#34;color:#a6e22e&#34;&gt;createElement&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;script&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;hm&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;src&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://hm.baidu.com/hm.js?&amp;lt;app-id&amp;gt;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;var&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; document.&lt;span style=&#34;color:#a6e22e&#34;&gt;getElementsByTagName&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;script&amp;#34;&lt;/span&gt;)[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;parentNode&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;insertBefore&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;hm&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;})();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;/script&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç²˜è´´ä¸Šé¢ä»£ç ä¸­çš„`&lt;!-- raw HTML omitted --&gt;, å¤åˆ¶åˆ°ä¸»é¢˜é…ç½®æ–‡ä»¶:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;baidu_analytics: &amp;lt;app-id&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;Nextä¸»é¢˜å·²å¯¹ç™¾åº¦ç»Ÿè®¡è¿›è¡Œé…ç½®ä¼˜åŒ–ï¼Œå› æ­¤åªéœ€è¦ç¼–è¾‘é…ç½®æ–‡ä»¶, å¡«å†™&lt;code&gt;app-id&lt;/code&gt;. å¯¹äºæ›´ä¸€èˆ¬çš„æƒ…å†µ, éœ€è¦æŠŠä¸Šé¢çš„JSä»£ç æ·»åŠ åˆ°ç½‘ç«™å…¨éƒ¨é¡µé¢çš„ &lt;code&gt;&amp;lt;/head&amp;gt;&lt;/code&gt; æ ‡ç­¾å‰.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœä»£ç å®‰è£…æ­£ç¡®ï¼Œä¸€èˆ¬20åˆ†é’Ÿåï¼Œå¯ä»¥æŸ¥çœ‹ç½‘ç«™åˆ†ææ•°æ®.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;math&#34;&gt;Math&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/theme-next/hexo-theme-next/blob/master/docs/zh-CN/MATH.md&#34;&gt;Nextæ•°å­¦å…¬å¼æ”¯æŒå®˜æ–¹æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://theme-next.js.org/docs/third-party-services/math-equations.html?highlight=mathjax#mjx-eqn%3Aeq2&#34;&gt;Next Mathjaxé«˜çº§ç‰¹æ€§&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç›®å‰çš„Latexæ¸²æŸ“å¼•æ“æœ‰ &lt;a href=&#34;https://www.mathjax.org/&#34;&gt;MathJax&lt;/a&gt; å’Œ &lt;a href=&#34;https://khan.github.io/KaTeX/&#34;&gt;Katex&lt;/a&gt;, &lt;code&gt;MathJax&lt;/code&gt;å®Œç¾æ”¯æŒLatex, &lt;code&gt;Katex&lt;/code&gt;é€Ÿåº¦æ›´å¿«, ä½†æ˜¯æœ‰äº›è¯­æ³•ä¸æ”¯æŒ. ç»¼åˆæ¥çœ‹è¿˜æ˜¯é€‰æ‹©Mathjax.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;NexT&lt;/code&gt;é»˜è®¤ä½¿ç”¨çš„markdownæ¸²æŸ“å¼•æ“æ˜¯&lt;a href=&#34;https://github.com/hexojs/hexo-renderer-marked&#34;&gt;hexo-renderer-marked&lt;/a&gt;, å®ƒä¸æ”¯æŒMathjaxï¼Œä¸æ”¯æŒæ’ä»¶æ‰©å±•ï¼Œä¸æ”¯æŒemojiè¡¨æƒ…, å› æ­¤æˆ‘ä»¬éœ€è¦å¸è½½å®ƒ, å¹¶æ›¿æ¢ä¸ºåˆ«çš„å¼•æ“.&lt;/p&gt;
&lt;p&gt;æ³¨æ„, ä¸åŒçš„æ¸²æŸ“å¼•æ“æ˜¯ä¸èƒ½å…±å­˜çš„( &lt;a href=&#34;https://github.com/next-theme/hexo-filter-mathjax&#34;&gt;hexo-filter-mathjax&lt;/a&gt;é™¤å¤–, å®ƒæ˜¯serverç«¯çš„æ¸²æŸ“å¼•æ“ ), å› æ­¤åœ¨ä½¿ç”¨ä¸€ä¸ªæ¸²æŸ“å¼•æ“ä¹‹å‰, éœ€è¦å¸è½½æ‰å…¶ä»–å…¨éƒ¨çš„æ¸²æŸ“å¼•æ“/&lt;/p&gt;
&lt;h3 id=&#34;engines&#34;&gt;Engines&lt;/h3&gt;
&lt;p&gt;Nextæ”¯æŒçš„æ¸²æŸ“å¼•æ“:&lt;/p&gt;
&lt;h4 id=&#34;mathjax&#34;&gt;Mathjax&lt;/h4&gt;
&lt;p&gt;If you use MathJax to render Math Equations, you can choose one of the Markdown renderers below:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/wzpan/hexo-renderer-pandoc&#34;&gt;hexo-renderer-pandoc&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;æ”¯æŒMathjaxè¯­æ³•, ä¸ä»…å¯ä»¥æ¸²æŸ“markdown, è¿˜æ”¯æŒtextile, reStructedTextå’Œè®¸å¤šå…¶ä»–æ ¼å¼, ä»ç„¶ä¸æ”¯æŒemojiè¡¨æƒ…&lt;/li&gt;
&lt;li&gt;å†…å»ºçš„æ±‡æ€»æ–‡ä»¶&lt;code&gt;db.json&lt;/code&gt;å°†æ¥å¯èƒ½ä¼šéå¸¸å¤§, åŒæ­¥åˆ° Github å¯èƒ½ä¼šæ¯”è¾ƒæ…¢, åšå®¢å†…å»ºçš„æœç´¢åŠŸèƒ½ä¹Ÿå¯èƒ½ä¼šå˜å¾—éå¸¸æ…¢.
&lt;ul&gt;
&lt;li&gt;äº²æµ‹, åšå®¢ç”Ÿæˆå’Œåšå®¢çš„æœç´¢åŠŸèƒ½éƒ½æ…¢å¾—ç¦»è°±, è€Œä¸”å®ƒå’ŒNextçš„é›†æˆæœ‰é—®é¢˜, æ— æ³•æ­£ç¡®æŠŠç”Ÿæˆçš„HTMLæ–‡ä»¶çš„æ ‡é¢˜åŠ å…¥Anchor.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/sun11/hexo-renderer-kramed&#34;&gt;hexo-renderer-kramed&lt;/a&gt;: åŸºäºhexo-renderer-markedäºŒæ¬¡å¼€å‘çš„æ¸²æŸ“å™¨ï¼Œå®Œå–„äº†å¯¹Mathjaxçš„æ”¯æŒ, ä»ç„¶ä¸æ”¯æŒæ’ä»¶çš„æ‰©å±•ï¼Œä¸æ”¯æŒemojiè¡¨æƒ….
&lt;ul&gt;
&lt;li&gt;äº²æµ‹å®ƒæ¯”&lt;code&gt;hexo-renderer-pandoc&lt;/code&gt;&lt;strong&gt;å¿«ä¸€ç‚¹&lt;/strong&gt;. ä½†æ˜¯æœ‰bug, éœ€è¦è‡ªå·±é…ç½®. ç”±äºå®ƒå¤ªè€äº†,å°±ä¸æ¨èäº†.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/hexojs/hexo-renderer-markdown-it&#34;&gt;hexo-renderer-markdown-it&lt;/a&gt;ï¼šæ”¯æŒ&lt;code&gt;MathJax&lt;/code&gt;, å¹¶å¯ä»¥é€šè¿‡æ’ä»¶æ”¯æŒ&lt;code&gt;KeTex&lt;/code&gt;.
&lt;ul&gt;
&lt;li&gt;æ”¯æŒMarkdownä»¥åŠCommonMarkè¯­æ³•.&lt;/li&gt;
&lt;li&gt;æ”¯æŒæ’ä»¶é…ç½®, æ”¯æŒæ ‡é¢˜å¸¦å®‰å…¨çš„idä¿¡æ¯&lt;/li&gt;
&lt;li&gt;æ”¯æŒè„šæ³¨ï¼ˆä¸Šæ ‡, ä¸‹æ ‡, ä¸‹åˆ’çº¿ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æˆ‘æœ€åé€‰æ‹©&lt;code&gt;hexo-renderer-markdown-it&lt;/code&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/CHENXCHEN/hexo-renderer-markdown-it-plus&#34;&gt;hexo-renderer-markdown-it-plus&lt;/a&gt;: æ”¯æŒKatexæ’ä»¶å¹¶é»˜è®¤å¯ç”¨&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/next-theme/hexo-filter-mathjax&#34;&gt;hexo-filter-mathjax&lt;/a&gt;: Server side &lt;a href=&#34;http://www.mathjax.org/&#34;&gt;MathJax&lt;/a&gt; Renderer Plugin for &lt;a href=&#34;http://hexo.io/&#34;&gt;Hexo&lt;/a&gt;. è¦ä½¿ç”¨å®ƒ,éœ€è¦å¸è½½æ‰é™¤&lt;code&gt;hexo-renderer-marked&lt;/code&gt; ( ç”¨äºæ¸²æŸ“markdown )ä¹‹å¤–çš„LaTexå¼•æ“. å®ƒçš„ç¼ºç‚¹æ˜¯æœ‰äº›è¯­æ³•ä¸æ”¯æŒ, è€Œä¸”æ— æ³•æ¸²æŸ“ç›®å½•é‡Œçš„LaTex.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;katex&#34;&gt;KaTex&lt;/h4&gt;
&lt;p&gt;If you use KaTeX to render Math Equations, you can choose one of the Markdown renderers below:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/CHENXCHEN/hexo-renderer-markdown-it-plus&#34;&gt;hexo-renderer-markdown-it-plus&lt;/a&gt;: æ²¡ç”¨è¿‡&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/hexojs/hexo-renderer-markdown-it&#34;&gt;hexo-renderer-markdown-it&lt;/a&gt;: äº²æµ‹å®ƒä¹Ÿæ”¯æŒMathjax, å¹¶æ”¯æŒHexoæ”¯æŒçš„Mathjaxç‰¹æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ”¯æŒmathjax&#34;&gt;æ”¯æŒMathJax&lt;/h3&gt;
&lt;p&gt;æ”¯æŒLatexæ­¥éª¤:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å¸è½½&lt;code&gt;hexo-renderer-marked&lt;/code&gt;, å®‰è£…&lt;code&gt;hexo-renderer-pandoc&lt;/code&gt; &lt;code&gt;hexo-renderer-markdown-it&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;npm un hexo-renderer-marked
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# npm i hexo-renderer-pandoc --save æœ‰é—®é¢˜, åºŸå¼ƒ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;npm i hexo-renderer-markdown-it --save
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœé€‰æ‹©&lt;code&gt;hexo-renderer-pandoc&lt;/code&gt; , è¿˜éœ€è¦é¢å¤–å®‰è£…&lt;a href=&#34;https://github.com/jgm/pandoc/blob/master/INSTALL.md&#34;&gt;pandoc&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;for Mac:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;brew install pandoc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¼€å¯mathjax:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;math&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Default (false) will load mathjax / katex script on demand.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# That is it only render those page which has `mathjax: true` in front-matter.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# If you set it to true, it will load mathjax / katex script EVERY PAGE.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;every_page&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;mathjax&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;enable&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# Available values: none | ams | all&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;tags: ams # ams&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;å¼€å¯å…¬å¼è‡ªåŠ¨ç¼–å·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;per_page&lt;/code&gt;: è®¾ç½®ä¸ºfalse, è¿™æ ·åªä¼šæ¸²æŸ“æ·»åŠ äº†&lt;code&gt;mathjax: true&lt;/code&gt;çš„æ–‡ç« 
&lt;ul&gt;
&lt;li&gt;åœ¨ä½ç‰ˆæœ¬çš„NeXt,è¿™å¥è¯ä¸Šé¢çš„æ³¨é‡Šæ˜¯åçš„, å³â€œfalseâ€åªä¼šæ¸²æŸ“æŒ‡å®šæ–‡ç« .&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨éœ€è¦æ¸²æŸ“Latexçš„æ–‡ç« çš„Front-matteré‡Œæ‰“å¼€mathjaxå¼€å…³ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-markdown&#34; data-lang=&#34;markdown&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;title: index.html
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;date: 2016-12-28 21:01:30
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tags:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;mathjax: true
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;configuring-hexo-renderer-markdown-it&#34;&gt;Configuring &lt;code&gt;hexo-renderer-markdown-it&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;hexo-renderer-markdown-it&lt;/code&gt;çš„&lt;a href=&#34;https://github.com/hexojs/hexo-renderer-markdown-it&#34;&gt;é»˜è®¤é…ç½®&lt;/a&gt;æ˜¯æ— æ³•æ­£ç¡®ç»™æ ‡é¢˜æ·»åŠ anchorçš„, éœ€è¦åšä¸€äº›ä¿®æ”¹, å¹¶å°†é…ç½®æ·»åŠ åˆ°Hexoä¸­.&lt;/p&gt;
&lt;p&gt;ç¼–è¾‘Hexoé…ç½®æ–‡ä»¶ &lt;code&gt;_config.yml&lt;/code&gt;,  æ’å…¥ä»¥ä¸‹å†…å®¹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Config of hexo-renderer-markdown-it&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;markdown&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;preset&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;default&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# æ¸²æŸ“å™¨é»˜è®¤é¢„è®¾ # &amp;#34;commonmark&amp;#34;: ä½¿ç”¨ä¸¥æ ¼ CommandMark è§„å®š. # &amp;#34;default&amp;#34;: é»˜è®¤é…ç½®, ç±»ä¼¼äº GFM # &amp;#34;zero&amp;#34;: ç¦ç”¨æ‰€æœ‰é¢„è®¾.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;render&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;html&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;xhtmlOut&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# å°† HTML å†…å®¹æ¸²æŸ“ä¸º XHTML çš„å½¢å¼ (XHTML è¯­æ³•éå¸¸ä¸¥æ ¼, æ¯”å¦‚åŸ HTML ä¸­çš„ &amp;lt;br&amp;gt; æ ‡ç­¾å¿…é¡»è¦ä½¿ç”¨ &amp;lt;br/&amp;gt; è¿™æ ·çš„å½¢å¼è¿›è¡Œ &amp;#34;è‡ªé—­å’Œ&amp;#34;) å¯èƒ½ä¼šå‡ºç°å…¼å®¹æ€§é—®é¢˜.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;langPrefix&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;language-&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;breaks&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# true åˆ™å°†æ‰€æœ‰æ¢è¡Œæ¸²æŸ“ä¸º &amp;lt;br&amp;gt; æ ‡ç­¾ # è¿™ç§è¡Œä¸ºä¸å±äº CommandMark å’Œ GFM.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;linkify&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# true åˆ™è‡ªåŠ¨è§£æé“¾æ¥å¹¶æ·»åŠ ä¸º &amp;lt;a&amp;gt; æ ‡ç­¾, false åˆ™å°†é“¾æ¥æ¸²æŸ“ä¸ºæ–‡æœ¬.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;typographer&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# é»˜è®¤ true # è‡ªåŠ¨è½¬ä¹‰å„ç§æ’ç‰ˆç”¨å­—ç¬¦, å¦‚ Â©. è¿™ç”šè‡³ä¼šè½¬ä¹‰æ‰LaTexä¸­çš„å­—ç¬¦, æ‰€ä»¥ä¸èƒ½å¼€å¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;quotes: &amp;#39;â€œâ€â€˜â€™&amp;#39; # å½“ typographer å®šä¹‰ä¸º true æ—¶çš„è‡ªåŠ¨è½¬æ¢å¼•å·çš„è¡Œä¸º, quotes&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;â€œâ€â€˜â€™&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;åˆ™è¡¨ç¤ºå°† &amp;#34;123&amp;#34; &amp;#39;123&amp;#39;è½¬æ¢ä¸º â€œ123â€ â€˜123â€™&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;enable_rules&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;disable_rules&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;plugins&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;anchors&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;level&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# å¼€å§‹åˆ›å»ºé”šç‚¹çš„ç­‰çº§, é»˜è®¤ä¸º2,è¡¨ç¤ºä» H2 å¼€å§‹åˆ›å»ºä¸€ç›´åˆ° H6(æœ€å).&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;collisionSuffix&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# å¦‚æœé‡åˆ°é‡å¤çš„é”šç‚¹ ID ä¸ºå…¶æ·»åŠ æ•°å­—ç¼–å·æ—¶åœ¨è¿™ä¸ªæ•°å­—åæ·»åŠ çš„åç¼€.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;permalink&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;#  é»˜è®¤ä¸ºfalse, éœ€è¦æ›´æ”¹ä¸ºtrue, æ¥åˆ›å»ºä¸€ä¸ªé™¤æ ‡é¢˜å¤–å¸¦æœ‰å›ºå®šåœ°å€çš„çš„é”šç‚¹æ ‡ç­¾.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;permalinkClass&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;header-anchor&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;permalinkSide&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;left&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# è®¾å®šä¸º right åˆ™ä¼šåœ¨æ ‡é¢˜åæ·»åŠ å›ºå®šé“¾æ¥.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;permalinkSymbol&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# æ›´æ”¹ä¸ºç©ºå­—ç¬¦ä¸²&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;case&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# è½¬æ¢é”šç‚¹ ID ä¸­çš„å­—æ¯ä¸ºå¤§å†™æˆ–å°å†™ # &amp;#34;0&amp;#34; ä¸è½¬æ¢, &amp;#34;1&amp;#34; ä¸ºå°å†™, &amp;#34;2&amp;#34; ä¸ºå¤§å†™. â€œä¸è½¬æ¢â€æ˜¯ä¸ºäº†æ–¹ä¾¿æ‰‹å†™Anchor&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;separator&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;-&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# ç”¨äºæ›¿æ¢ç©ºæ ¼çš„ç¬¦å·. # é»˜è®¤ä¸º &amp;#34;-&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# images:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;#   lazyload: false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;#   prepend_root: false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;#   post_asset: false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å½“ç„¶ä½ ä¹Ÿå¯ä»¥ç›´æ¥æ›´æ”¹ä¾èµ–çš„ä»£ç , ä½†æ˜¯è¿™æ ·åšæ— æ³•è¿›è¡Œç‰ˆæœ¬ç®¡ç†, æ‰€ä»¥&lt;strong&gt;ä¸æ¨è&lt;/strong&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;è¿›å…¥åŒ…ç›®å½•:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;cd [hexo-site]/node_modules/hexo-renderer-markdown-it
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¼–è¾‘&lt;code&gt;index.js&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;hexo&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;config&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;markdown&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;anchors&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Object&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;assign&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;({&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  level&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  collisionSuffix&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  permalink&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;//æ›´æ”¹ä¸ºtrue
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  permalinkClass&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#39;&lt;/span&gt;header&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;anchor&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  permalinkSide&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#39;&lt;/span&gt;left&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  permalinkSymbol&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;//æ›´æ”¹ä¸ºç©ºå­—ç¬¦ä¸²
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;case&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  separator&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;-&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;},&lt;/span&gt; hexo&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;config&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;markdown&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;anchors&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å…¬å¼è‡ªåŠ¨ç¼–å·å’Œå¼•ç”¨&#34;&gt;å…¬å¼è‡ªåŠ¨ç¼–å·å’Œå¼•ç”¨&lt;/h3&gt;
&lt;p&gt;To enable this feature, you need to set &lt;code&gt;mathjax.tags&lt;/code&gt; to &lt;code&gt;ams&lt;/code&gt; in NexT config file.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;math&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;mathjax&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;enable&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# Available values: none | ams | all&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;tags&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;ams&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸ºäº†ä½¿ç”¨è¿™é¡¹åŠŸèƒ½ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œä½ å¿…é¡»æŠŠæ‰€ä½¿ç”¨çš„ LaTeX å…¬å¼æ”¾åœ¨ &lt;code&gt;equation&lt;/code&gt; ç¯å¢ƒé‡Œé¢ï¼Œé‡‡ç”¨æ—§çš„æ–¹æ³•ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œä»…ä»…æŠŠå…¬å¼çš„æ¯ä¸€è¾¹ç”¨ä¸¤ä¸ª &lt;code&gt;$&lt;/code&gt; ç¬¦å·åŒ…å«èµ·æ¥ï¼‰æ˜¯æ— æ•ˆçš„ã€‚å¦‚ä½•å¼•ç”¨å…¬å¼ï¼Ÿä½ åªéœ€è¦åœ¨ä¹¦å†™å…¬å¼çš„æ—¶å€™ç»™å…¬å¼ä¸€ä¸ª &lt;code&gt;\label{}&lt;/code&gt; æ ‡è®°ï¼ˆtagï¼‰ï¼Œç„¶ååœ¨æ­£æ–‡ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ &lt;code&gt;\ref{}&lt;/code&gt; æˆ–è€… &lt;code&gt;\eqref{}&lt;/code&gt; å‘½ä»¤æ¥å¼•ç”¨å¯¹åº”çš„å…¬å¼ã€‚ä½¿ç”¨ &lt;code&gt;\eqref{}&lt;/code&gt; æ˜¯æ¨èçš„æ–¹å¼ï¼Œå› ä¸ºå¦‚æœä½ ä½¿ç”¨ &lt;code&gt;\ref{}&lt;/code&gt;ï¼Œå…¬å¼åœ¨æ–‡ä¸­çš„å¼•ç”¨ç¼–å·å°†æ²¡æœ‰åœ†æ‹¬å·åŒ…å›´ã€‚ä¸‹é¢ä»‹ç»å‡ ç§å¸¸è§çš„å…¬å¼ç¼–å·ä¾‹å­.&lt;/p&gt;
&lt;p&gt;å¯¹äºç®€å•çš„å…¬å¼ï¼Œä½¿ç”¨ä¸‹é¢çš„æ–¹å¼ç»™å…¬å¼ä¸€ä¸ªæ ‡è®°ï¼Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-latex&#34; data-lang=&#34;latex&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;$$&lt;/span&gt;\begin{equation}\label{eq&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;e&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;mc^&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;\end{equation}&lt;span style=&#34;color:#e6db74&#34;&gt;$$&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åï¼Œåœ¨æ­£æ–‡ä¸­ï¼Œä½ å¯ä»¥è½»æ¾å¼•ç”¨ä¸Šè¿°å…¬å¼ï¼Œä¸€ä¸ªç®€å•çš„ä¾‹å­å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;è‘—åçš„è´¨èƒ½æ–¹ç¨‹ $\eqref{eq1}$ ç”±çˆ±å› æ–¯å¦æå‡º ...
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;multi-line-equations&#34;&gt;Multi-line Equations&lt;/h3&gt;
&lt;p&gt;å¯¹äºå¤šè¡Œå…¬å¼ï¼Œåœ¨ &lt;code&gt;equation&lt;/code&gt; ç¯å¢ƒä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ &lt;code&gt;aligned&lt;/code&gt; ç¯å¢ƒæŠŠå…¬å¼åˆ†æˆå¤šè¡Œï¼Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-latex&#34; data-lang=&#34;latex&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;$$&lt;/span&gt;\begin{equation}\label{eq&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;\begin{aligned}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;a &amp;amp;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; b &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; c \\
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &amp;amp;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; d &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; e &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; f &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; g \\
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &amp;amp;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; h &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; i
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;\end{aligned}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;\end{equation}&lt;span style=&#34;color:#e6db74&#34;&gt;$$&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;multiple-aligned-equations&#34;&gt;Multiple Aligned Equations&lt;/h3&gt;
&lt;p&gt;è¦å¯¹é½å¤šä¸ªå…¬å¼ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ &lt;code&gt;align&lt;/code&gt; ç¯å¢ƒã€‚align ç¯å¢ƒä¸­çš„æ¯ä¸ªå…¬å¼éƒ½æœ‰è‡ªå·±çš„ç¼–å·ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-latex&#34; data-lang=&#34;latex&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;$$&lt;/span&gt;\begin{align}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;a &amp;amp;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; b &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; c \label{eq&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;} \\
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;x &amp;amp;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; yz \label{eq&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;}\\
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;l &amp;amp;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; m &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; n \label{eq&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;\end{align}&lt;span style=&#34;color:#e6db74&#34;&gt;$$&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;exclude-equations-from-numbering&#34;&gt;Exclude Equations from Numbering&lt;/h3&gt;
&lt;p&gt;åœ¨ &lt;code&gt;align&lt;/code&gt; ç¯å¢ƒä¸­ï¼Œå¦‚æœä½ ä¸æƒ³ç»™æŸä¸ªæˆ–æŸå‡ ä¸ªå…¬å¼ç¼–å·ï¼Œé‚£ä¹ˆåœ¨è¿™äº›å…¬å¼åé¢ä½¿ç”¨ &lt;a href=&#34;https://tex.stackexchange.com/questions/17528/show-equation-number-only-once-in-align-environment&#34;&gt;&lt;code&gt;\nonumber&lt;/code&gt;&lt;/a&gt; å‘½ä»¤å³å¯ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$$\begin{align}
-4 + 5x &amp;amp;= 2+y \nonumber  \\
 w+2 &amp;amp;= -1+w \\
 ab &amp;amp;= cb
\end{align}$$
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;use-tag-to-tag-equations&#34;&gt;Use &lt;code&gt;\tag&lt;/code&gt; to Tag Equations&lt;/h3&gt;
&lt;p&gt;æœ‰æ—¶ï¼Œä½ å¯èƒ½ä¼šå¸Œæœ›é‡‡ç”¨æ›´åŠ å¥‡ç‰¹çš„æ–¹å¼æ¥æ ‡è®°å’Œå¼•ç”¨ä½ çš„å…¬å¼ï¼Œä½ å¯ä»¥é€šè¿‡ä½¿ç”¨ &lt;code&gt;\tag{}&lt;/code&gt; å‘½ä»¤æ¥å®ç°ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$$x+1\over\sqrt{1-x^2} \tag{i}\label{eq_tag}$$
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦‚æœä½ æƒ³è¦äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—® &lt;a href=&#34;https://docs.mathjax.org/en/latest/input/tex/eqnumbers.html&#34;&gt;MathJax å…³äºå…¬å¼ç¼–å·çš„å®˜æ–¹æ–‡æ¡£&lt;/a&gt;ã€‚åŒæ—¶ï¼Œä½ ä¹Ÿå¯ä»¥é˜…è¯» &lt;a href=&#34;https://theme-next.org/docs/third-party-services/math-equations&#34;&gt;è¿™ç¯‡æ–‡æ¡£&lt;/a&gt; æ¥è·å–æ›´å¤šç»†èŠ‚ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å­—ä½“&#34;&gt;å­—ä½“&lt;/h2&gt;
&lt;p&gt;é»˜è®¤å­—ä½“(&lt;code&gt;font: false&lt;/code&gt;)æ˜¯Microsoft YaHei, è¿˜æŒºå¥½çœ‹çš„. å½“ç„¶ä¹Ÿå¯ä»¥è‡ªå·±&lt;a href=&#34;https://hexo-next.readthedocs.io/zh_CN/latest/next/advanced/%E5%AD%97%E4%BD%93%E8%AE%BE%E7%BD%AE/&#34;&gt;æ”¹å­—ä½“&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;font&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;enable&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½ç‰ˆæœ¬çš„Nextçš„&lt;code&gt;font: false&lt;/code&gt;çš„ä¸­æ–‡å·¨ä¸‘, å°†&lt;code&gt;font&lt;/code&gt;è®¾ä¸ºtrue,ä¹‹åæ¯”åŸæ¥å¥½çœ‹äº†..&lt;/p&gt;
&lt;p&gt;ä½†æˆ‘ä¹Ÿä¸çŸ¥é“æ–°å­—ä½“æ˜¯å•¥&lt;/p&gt;
&lt;h2 id=&#34;ä»£ç å—&#34;&gt;ä»£ç å—&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä»£ç é«˜äº®(Code Highlight theme): è¿™ä¸ªç½‘ç«™å¯ä»¥é¢„è§ˆæ‰€æœ‰é«˜äº®æ•ˆæœï¼š&lt;a href=&#34;https://theme-next.js.org/highlight/&#34;&gt;ä¼ é€é—¨&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä½¿ç”¨highlightä½œä¸ºé«˜äº®å¼•æ“, themeä½¿ç”¨&lt;code&gt;a11y-light&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æˆ‘æ²¡æœ‰è®¾ç½®ä»£ç å—è¡Œå·&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Next Config:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;codeblock&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Code Highlight theme&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# All available themes: https://theme-next.js.org/highlight/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;theme&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# light: default&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# dark: stackoverflow-dark&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;light&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;a11y-light&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;dark&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;a11y-dark&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;prism&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;light&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;prism&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;dark&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;prism-dark&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Add copy button on codeblock&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;copy_button&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;enable&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# Available values: default | flat | mac&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;style&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;flat&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Hexo Config:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;highlight&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;enable&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;line_number&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;auto_detect&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;tab_replace&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;wrap&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;hljs&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;prismjs&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;enable&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;preprocess&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;line_number&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;tab_replace&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å›¾åƒç¼©æ”¾&#34;&gt;å›¾åƒç¼©æ”¾&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;NexT&lt;/code&gt;é›†æˆäº†å¤šç§å›¾åƒæ˜¾ç¤ºå·¥å…·, åŒ…æ‹¬&lt;code&gt;FancyBox&lt;/code&gt;å’Œ&lt;code&gt;MediumZoom&lt;/code&gt;, ä¸»è¦åŠŸèƒ½æ˜¯å›¾åƒç¼©æ”¾.&lt;/p&gt;
&lt;p&gt;å¼€å¯&lt;code&gt;MediumZoom&lt;/code&gt;:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# A JavaScript library for zooming images like Medium.
# Warning: Do not enable both `fancybox` and `mediumzoom`.
# For more information: https://medium-zoom.francoischalifour.com
mediumzoom: true
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;å›¾åƒæ‡’åŠ è½½&#34;&gt;å›¾åƒæ‡’åŠ è½½&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;npm install hexo-lazyload --save
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;lazyload: true
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;è®¿å®¢äººæ•°æ–‡ç« é˜…è¯»æ¬¡æ•°&#34;&gt;è®¿å®¢äººæ•°&amp;amp;&amp;amp;æ–‡ç« é˜…è¯»æ¬¡æ•°&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;NexT&lt;/code&gt;ä¸»é¢˜å·²é›†æˆäº†ä¸è’œå­çš„è®¿å®¢äººæ•°å’Œæ–‡ç« é˜…è¯»ç»Ÿè®¡åŠŸèƒ½:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Show Views / Visitors of the website / page with busuanzi.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Get more information on http://ibruce.info/2015/04/04/busuanzi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;busuanzi_count&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;enable&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;total_visitors&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;total_visitors_icon&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;user fa fa-user&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;total_views&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;total_views_icon&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;eye fa fa-eye&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;post_views&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;post_views_icon&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;eye fa fa-eye&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;åœ¨é¦–é¡µæ˜¾ç¤ºæ–‡ç« çš„é˜…è¯»æ¬¡æ•°&lt;/li&gt;
&lt;li&gt;ç‚¹å‡»å…¨æ–‡é˜…è¯»æ˜¾ç¤ºé˜…è¯»æ¬¡æ•°&lt;/li&gt;
&lt;li&gt;åœ¨åº•éƒ¨å¯ä»¥çœ‹è§è®¿å®¢äººæ•°å’Œæ–‡ç« é˜…è¯»æ¬¡æ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ç½‘é¡µåŠ è½½åŠ é€Ÿ&#34;&gt;ç½‘é¡µåŠ è½½åŠ é€Ÿ&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨&lt;a href=&#34;https://github.com/theme-next/hexo-filter-optimize&#34;&gt;hexo-filter-optimize&lt;/a&gt;æ¥æå‡ç½‘é¡µåŠ è½½é€Ÿåº¦:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ä¸‹è½½æ’ä»¶:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;npm install hexo-filter-optimize
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¼–è¾‘é…ç½®æ–‡ä»¶:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;filter_optimize&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;enable&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# remove the surrounding comments in each of the bundled files&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;remove_comments&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;css&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# minify all css files&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;minify&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# bundle loaded css files into one&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;bundle&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# use a script block to load css elements dynamically&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;delivery&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# make specific css content inline into the html page&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#   - only support the full path&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;#   - default is [&amp;#39;css/main.css&amp;#39;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;inlines&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;excludes&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;js&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# minify all js files&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;minify&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# bundle loaded js files into one&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;bundle&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;excludes&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# set the priority of this plugin,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# lower means it will be executed first, default of Hexo is 10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;priority&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;12&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;back2top-button&#34;&gt;back2top button&lt;/h2&gt;
&lt;p&gt;back2top buttonéå¸¸å¥½çœ‹, é»˜è®¤æ˜¯æ·»åŠ çš„:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;back2top:
  enable: true
  # Back to top in sidebar. buttoné»˜è®¤å‡ºç°åœ¨å·¦ä¸‹è§’, å¦‚æœè¿™é‡Œä¸ºtrue,å°±ä¼šå‡ºç°åœ¨sidebaré‡Œé¢(å¤´åƒ, ç›®å½•ä¸‹é¢),å¾ˆéš¾å¯Ÿè§‰
  # æ‰€ä»¥æˆ‘è®¾ä¸ºfalse
  sidebar: false
  # Scroll percent label in b2t button.
  # è®©to-topçš„å°ç®­å¤´éšæ—¶æ˜¾ç¤ºæ•°å€¼, æˆ‘è§‰å¾—è¿™æ ·ç ´åé˜…è¯»ä½“éªŒ, æ‰€ä»¥ä¸ºfalse
  scrollpercent: false
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™é‡Œæœ‰ä¸ª&lt;a href=&#34;https://github.com/jiangtj-lab/hexo-cake-moon-menu&#34;&gt;æ’ä»¶&lt;/a&gt;, ä¸è¿‡å·²ç»ä¸éœ€è¦äº†. è‡ªå¸¦çš„å°±å¾ˆå¥½çœ‹.&lt;/p&gt;
&lt;h2 id=&#34;ç‰ˆæƒ&#34;&gt;ç‰ˆæƒ&lt;/h2&gt;
&lt;p&gt;é€‰æ‹©&lt;code&gt;sidebar&lt;/code&gt;, ä¼šåœ¨sidebarå‡ºç°ä¸€ä¸ªå°å¾½ç« , ä¸æ€ä¹ˆç¢çœ¼. å¦‚æœé€‰æ‹©&lt;code&gt;post&lt;/code&gt;, ç‰ˆæƒä¿¡æ¯ä¼šå‡ºç°åœ¨æ–‡ç« åº•éƒ¨, å¾ˆéš¾çœ‹.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Creative Commons 4.0 International License.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# See: https://creativecommons.org/about/cclicenses/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;creative_commons&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Available values: by | by-nc | by-nc-nd | by-nc-sa | by-nd | by-sa | cc-zero&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;license&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;by-nc-sa&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Available values: big | small&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;size&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;small&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;sidebar&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;post&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# You can set a language value if you prefer a translated version of CC license, e.g. deed.zh&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# CC licenses are available in 39 languages, you can find the specific and correct abbreviation you need on https://creativecommons.org&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;language&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ä¸€äº›ä¸æƒ³ç”¨çš„ç¾åŒ–&#34;&gt;ä¸€äº›ä¸æƒ³ç”¨çš„ç¾åŒ–&lt;/h2&gt;
&lt;p&gt;ä»¥ä¸‹ç¾åŒ–æˆ‘éƒ½ä¸æƒ³ç”¨, åªæ˜¯ç»™å‡ºæ·»åŠ æ–¹å¼.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ·»åŠ ç‰ˆæƒä¿¡æ¯: ç‰ˆæƒä¿¡æ¯å¾ˆä¸‘, æ‰€ä»¥æˆ‘æ²¡åŠ &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;creative_commons&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;license&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;by-nc-sa&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;sidebar&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;post&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ·»åŠ è¯„è®ºç³»ç»Ÿ. æˆ‘ä¸æƒ³åŠ &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¤œé—´æ¨¡å¼: è¿™æ˜¯æ°¸ä¹…çš„, ä¸èƒ½æ‰‹åŠ¨åˆ‡æ¢, æ‰€ä»¥æˆ‘ä¹Ÿä¸æƒ³åŠ .&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;darkmode: true
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Reading progress bar: äº”é¢œå…­è‰²çš„,å½±å“è§‚çœ‹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;reading_progress&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;Reading progress bar&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;enable&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;å¤šä¸»æœºåŒæ­¥&#34;&gt;å¤šä¸»æœºåŒæ­¥&lt;/h1&gt;
&lt;p&gt;å¤šä¸»æœºåŒæ­¥ä¸»è¦çš„å‘åœ¨äºä¸»é¢˜çš„ç®¡ç†&lt;/p&gt;
&lt;h2 id=&#34;å¤šåˆ†æ”¯&#34;&gt;å¤šåˆ†æ”¯&lt;/h2&gt;
&lt;p&gt;åœ¨å®‰è£…æ’ä»¶å,&lt;code&gt;hexo d&lt;/code&gt;ä¼šç”Ÿæˆç½‘é¡µæ–‡ä»¶, å¹¶å°†å…¶éƒ¨ç½²åˆ°GitHubå’ŒGitPage. ä½†æ˜¯ä¸ä¼šæŠŠæºæ–‡ä»¶ä¹Ÿpushåˆ°github. æˆ‘ä»¬éœ€è¦:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åœ¨Githubå»ºä¸¤ä¸ªåˆ†æ”¯,åˆ†åˆ«ç®¡ç†ç”Ÿæˆçš„ç½‘é¡µæ–‡ä»¶å’Œæºæ–‡ä»¶:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;master: ç”¨äºå­˜æ”¾&lt;code&gt;hexo d &lt;/code&gt;éƒ¨ç½²çš„ç½‘é¡µæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;hexo: ç”¨äºé¡¹ç›®æºæ–‡ä»¶, åŒ…æ‹¬æ–‡æ¡£æºæ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨Githubä»“åº“&lt;code&gt;-&amp;gt;Settings-&amp;gt;Branches-&amp;gt;Default branch&lt;/code&gt;ä¸­å°†é»˜è®¤åˆ†æ”¯è®¾ä¸º&lt;code&gt;Hexo&lt;/code&gt;. è¿™æ ·æ¯æ¬¡æ‰‹åŠ¨pushæºæ–‡ä»¶,éƒ½åˆ°hexoåˆ†æ”¯.&lt;/p&gt;
&lt;p&gt;å½“ç„¶ä¹Ÿå¯ä»¥æ¯æ¬¡éƒ½æ‰‹åŠ¨æŒ‡å®š,è¿™æ ·å¾ˆè ¢:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git push origin hexo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è€Œæˆ‘ä»¬çš„&lt;code&gt;hexo d&lt;/code&gt;ä¼šæŠŠç”Ÿæˆçš„ç½‘é¡µæ–‡ä»¶åŒæ­¥åˆ°masteråˆ†æ”¯. è¿™æ˜¯ä¹‹å‰é…ç½®&lt;code&gt;hexo d&lt;/code&gt;æ’ä»¶æ—¶è®¾ç½®çš„:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;deploy&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;type&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;git&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;repo&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;github&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;git@github.com:LYK-love/LYK-love.github.io.git&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;branch&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;master&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å¤šä¸»æœºåŒæ­¥çš„é—®é¢˜&#34;&gt;å¤šä¸»æœºåŒæ­¥çš„é—®é¢˜&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬çœ‹åˆ°, Hexoæ·»åŠ ä¸»é¢˜çš„ä¸€èˆ¬æµç¨‹æ˜¯ &lt;code&gt;clone&lt;/code&gt; ä¸»é¢˜åˆ°å¯¹åº”çš„ &lt;code&gt;themes&lt;/code&gt;ç›®å½•ä¸­ï¼Œç„¶åç¼–è¾‘Hexoçš„é…ç½®æ–‡ä»¶. ä½†æ˜¯, ä¸»é¢˜æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„githubä»“åº“, æœ‰è‡ªå·±çš„ &lt;code&gt;.git&lt;/code&gt; æ–‡ä»¶å¤¹, ä¹Ÿå°±æ˜¯è¯´&lt;strong&gt;æœ¬åœ°çš„ä¸»é¢˜é¡¹ç›®æ˜¯åµŒå¥—åœ¨Hexoé¡¹ç›®å†…çš„å­—ä»“åº“&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å½“pushæœ¬åœ°ä»“åº“æ—¶, æ˜¯ä¸ä¼špushå­ä»“åº“çš„&lt;/strong&gt;, è¯æ®å°±æ˜¯, åœ¨githubä¸ŠæŸ¥çœ‹ç½‘ç«™é¡¹ç›®ä»“åº“, ç‚¹è¿›&lt;code&gt;&amp;lt;repository&amp;gt;/themes/&lt;/code&gt;, ä¼šå‘ç°&lt;code&gt;next&lt;/code&gt;æ–‡ä»¶å¤¹æœ‰ä¸ªå¾ˆå¥‡æ€ªçš„åå­—: &lt;code&gt;[next @ XXXXX&lt;/code&gt;, ç‚¹å‡»å®ƒ, ä¼šè·³è½¬åˆ°è¯¥ä¸»é¢˜æ–‡ä»¶å¤¹å¯¹åº”çš„githubé¡¹ç›®. è¿™è¯´æ˜&lt;strong&gt;æœ¬åœ°çš„ä¸»é¢˜æ–‡ä»¶å¤¹æ˜¯ä¸€ä¸ªå­é¡¹ç›®, ä»æ¥æ²¡æœ‰éšç€çˆ¶é¡¹ç›®ä¸€èµ·è¢«pushåˆ°githubä¸Š&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;å› æ­¤, å½“æœ‰æ–°ä¸»æœº&lt;strong&gt;clone&lt;/strong&gt;ä½ çš„hexoä»“åº“æ—¶( æ¯”å¦‚å®ƒè¦å‚ä¸å¤šä¸»æœºåŒæ­¥ ), å®ƒcloneä¸‹çš„ä¸»é¢˜æ–‡ä»¶å¤¹æ˜¯ç©ºçš„.&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚, æˆ‘ç”¨nextä¸»é¢˜, å½“æˆ‘ä¹°äº†å°æ–°ç”µè„‘, æƒ³è¦åœ¨å®ƒä¸Šé¢åŒæ­¥æˆ‘å¼€å‘çš„hexo. cloneä¸‹æˆ‘çš„ç½‘ç«™, å‘ç°é¡¹ç›®å†…&lt;code&gt;themes/next&lt;/code&gt;ä¸ºç©º. è¿™æ ·å°±æ— æ³•æ­£ç¡®ç”Ÿæˆç½‘ç«™é¡µé¢äº†.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¯¥Bugçš„è¡¨é¢ç»“æœæ˜¯: hexoç”Ÿæˆçš„&lt;code&gt;index.html&lt;/code&gt;ä¹Ÿä¸ºç©º( 0kb )&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸»é¢˜æ–‡ä»¶å¤¹ä¸ä¼šè¢«push, ä¸”æ¯æ¬¡ä¸»é¢˜æ›´æ–°æ—¶,éƒ½ä¼šè¢«overwritten, æ‰€ä»¥ä¸è¦æ›´æ”¹ä¸»é¢˜æ–‡ä»¶å¤¹åˆ°ä»»ä½•å†…å®¹.&lt;/p&gt;
&lt;p&gt;å¯¹äº&lt;strong&gt;ä¸»é¢˜é…ç½®æ–‡ä»¶&lt;/strong&gt;. Nextå®˜æ–¹æä¾›&lt;a href=&#34;https://theme-next.js.org/docs/getting-started/configuration&#34;&gt;Alternate Theme Configæœºåˆ¶&lt;/a&gt;æ¥è®©ç”¨æˆ·è‡ªå®šä¹‰ä¸»é¢˜é…ç½®:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;æŠŠä¸»é¢˜é…ç½®æ–‡ä»¶å¤åˆ¶åˆ°Hexoé¡¹ç›®ç›®å½•ä¸‹, å–åä¸º &lt;code&gt;_config.[name].yml&lt;/code&gt;. Replace &lt;code&gt;[name]&lt;/code&gt; with the value of &lt;code&gt;theme&lt;/code&gt; option in Hexo config file. For NexT theme, the file name is &lt;code&gt;_config.next.yml&lt;/code&gt; by default&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç°åœ¨ä¸»é¢˜çš„é…ç½®æ–‡ä»¶å°±ä¼šè¯»å–Hexoé¡¹ç›®ç›®å½•çš„&lt;code&gt;_config.[name].yml&lt;/code&gt;, è€Œä¸æ˜¯ä¸»é¢˜ç›®å½•çš„&lt;code&gt;_config.yml&lt;/code&gt;. ç”±äºä½äºHexoé¡¹ç›®ç›®å½•ä¸‹, &lt;code&gt;_config.[name].yml&lt;/code&gt;ä¼šéšç€æ¯æ¬¡çš„pushè¢«pushåˆ°Hexoé¡¹ç›®çš„ä»“åº“. ä¸ç”¨æ‹…å¿ƒ&lt;strong&gt;å­é¡¹ç›®é—®é¢˜&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¤šä¸»æœºåŒæ­¥æ—¶, æ–°ä¸»æœºåªéœ€cloneæ•´ä¸ªé¡¹ç›®:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git clone https://github.com/LYK-love/LYK-love.github.io
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¯¹äºCSSä¹‹ç±»çš„æ–‡ä»¶, åæˆ‘æ˜¯ä¸ä¼šæ”¹çš„, æ‰€ä»¥æ— æ‰€è°“åŒæ­¥. å¯¹äºå›¾ç‰‡, &lt;a href=&#34;#Configuring-Favicon&#34;&gt;ä¹‹å‰&lt;/a&gt;è®²äº†,å¯ä»¥æ”¾åœ¨é¡¹ç›®çš„&lt;code&gt;/source/images/&lt;/code&gt;è¿›è¡ŒåŒæ­¥( è€Œä¸æ˜¯ä¸»é¢˜çš„&lt;code&gt;themes/next/images&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;å½“ç„¶ä¸ºäº†ä¿é™©, æˆ‘ä¹Ÿå¦å¤–åœ¨é¡¹ç›®æ–‡ä»¶å¤¹å†…å¤‡ä»½äº†å›¾ç‰‡æ–‡ä»¶.&lt;/p&gt;
&lt;p&gt;ä¸‹æ–‡çš„**@Deprecated åŒæ­¥æ­¥éª¤**æ˜¯è¢«åºŸå¼ƒçš„æ–¹æ¡ˆ, å®ƒä½¿ç”¨git modules, è¿™ç§æ–¹æ¡ˆæ–°å»ºäº†ä¸»é¢˜ä»“åº“, ç„¶åç”¨git moduleåŒæ­¥æ•´ä¸ªä¸»é¢˜æ–‡ä»¶å¤¹, é—®é¢˜åœ¨äºè¿™æ ·åšå°±æ²¡æ³•è¿›è¡Œä¸»é¢˜çš„æ›´æ–°äº†, å› æ­¤åºŸå¼ƒ&lt;/p&gt;
&lt;h2 id=&#34;new-åŒæ­¥æ­¥éª¤&#34;&gt;@New åŒæ­¥æ­¥éª¤&lt;/h2&gt;
&lt;p&gt;è€ä¸»æœºåªéœ€&lt;code&gt;git pull&lt;/code&gt;å°±è¡Œäº†.&lt;/p&gt;
&lt;p&gt;å¯¹äºæœ¬åœ°è¿˜æ²¡æœ‰hexoé¡¹ç›®çš„æ–°ä¸»æœº, éœ€è¦:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;cloneè‡ªå·±çš„Hexoé¡¹ç›®å¹¶åˆå§‹åŒ–:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git clone https://github.com/LYK-love/LYK-love.github.io
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd LYK-love.github.io
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;npm install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯èƒ½ä¼šé‡åˆ°æŠ¥é”™:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ERROR Cannot find module &amp;#39;hexo&amp;#39; from &amp;#39;/Users/lyk/Documents/LYK-love.github.io&amp;#39;
&amp;lt;Snip&amp;gt;
ERROR Try running: &amp;#39;rm -rf node_modules &amp;amp;&amp;amp; npm install --force&amp;#39;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åªéœ€æŒ‰ç…§æç¤ºæ“ä½œå³å¯:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rm -rf node_modules &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; npm install --force
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®‰è£…ä¸»é¢˜&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”±äºä¸‹æ–‡ä»‹ç»çš„Nextä¸»é¢˜çš„Alternate Theme Configæœºåˆ¶, ä¸»é¢˜é…ç½®æ–‡ä»¶å·²ç»åœ¨Hexoé¡¹ç›®æ–‡ä»¶å¤¹ä¸­è¢«æˆ‘ä»¬cloneä¸‹æ¥äº†, ä¹Ÿå°±æ˜¯è¯´å·²ç»åŒæ­¥äº†, ä¸‡äº‹å¤§å‰.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”±å‰æ–‡çŸ¥, hexo-renderer-markdown-itçš„é…ç½®ä¹Ÿæ”¾åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­è¿›è¡ŒåŒæ­¥äº†.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½†æ˜¯, imagesç­‰æ–‡ä»¶æ²¡æœ‰åŒæ­¥, æˆ‘æŠŠimagesæ”¾åœ¨Hexoé¡¹ç›®æ–‡ä»¶å¤¹ä¸‹, éœ€è¦æ‰‹åŠ¨æŠŠå®ƒcopyåˆ°ä¸»æœºæ–‡ä»¶å¤¹çš„&lt;code&gt;source/images&lt;/code&gt;ä¸­&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;deprecated-åŒæ­¥æ­¥éª¤&#34;&gt;@Deprecated åŒæ­¥æ­¥éª¤&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;æ³¨: è¯¥æ–¹æ¡ˆå·²ç»è¢«åºŸå¼ƒ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Ref:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://juejin.cn/post/6844903751908605965&#34;&gt; åœ¨ hexo ä¸­ä½¿ç”¨ git submodules ç®¡ç†ä¸»é¢˜ &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨Hexoå¤šä¸»æœºåŒæ­¥æ—¶, æˆ‘ä»¬å½“ç„¶å¸Œæœ›è‡ªå·±çš„ä¸»é¢˜é…ç½®æ–‡ä»¶ä¹ŸåŒæ­¥.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;Bad Practice&lt;/strong&gt;: ç”±äºæœ¬åœ°çš„ä¸»é¢˜é¡¹ç›®æ²¡åŠæ³•push, æ–°ä¸»æœºå°±åªèƒ½æ¯æ¬¡åªclone è‡ªå·±Hexoé¡¹ç›®, ç„¶åé‡æ–°cloneå®˜æ–¹çš„ä¸»é¢˜. è¿™æ ·åšæ˜¯æ„šè ¢çš„. å¤šå°æœºå­ä¸Šå¼€å‘, æ¯å°çš„æœ¬åœ°éƒ½æ˜¯ä¸åŒçš„ä¸»é¢˜é¡¹ç›®, æ¯æ¬¡ç”Ÿæˆç½‘é¡µæ–‡ä»¶,æ ·å¼éƒ½ä¸ä¸€æ ·.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å› æ­¤, æˆ‘ä»¬éœ€è¦&lt;strong&gt;æœ‰ä¸€ä¸ªè‡ªå·±çš„ä¸»é¢˜é¡¹ç›®, æ¥å¯¹ä¸»é¢˜ä¹Ÿè¿›è¡Œç‰ˆæœ¬ç®¡ç†&lt;/strong&gt;. å¯ä»¥forkå®˜æ–¹ä¸»é¢˜é¡¹ç›®, ä½†æˆ‘ä¸ºäº†æ–¹ä¾¿, ç›´æ¥åˆ›å»ºäº†&lt;a href=&#34;https://github.com/LYK-love/Next&#34;&gt;è‡ªå·±çš„ä¸»é¢˜é¡¹ç›®&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&#34;old-hosts&#34;&gt;Old Hosts&lt;/h3&gt;
&lt;p&gt;å¯¹äºå·²ç»åŠ å…¥å¤šä¸»æœºåŒæ­¥çš„ä¸»æœºæ¥è¯´, å¦‚æœæœ¬åœ°æ›´æ”¹äº†ä¸»é¢˜. é‚£ä¹ˆæ¯æ¬¡é™¤äº†push Hexoé¡¹ç›®æ–‡ä»¶, è¿˜å¾—æŠŠå†æŠŠä¸»é¢˜é¡¹ç›®æ–‡ä»¶ä¹Ÿpush. å¦åˆ™ä¸»é¢˜é…ç½®çš„æ›´æ”¹æ˜¯æ²¡æ³•åŒæ­¥åˆ°Githubçš„.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;pushå­é¡¹ç›®:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd ./themes/next
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git add . &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; git commit -m&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;XXX&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git push
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;p&gt;è¦åœ¨pull Hexoé¡¹ç›®æ—¶é¡ºä¾¿æ‹‰å–å­é¡¹ç›®( ä¸»é¢˜é¡¹ç›® ), è¿™ç§°ä¸ºupdate submodule:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æŠŠé¡¹ç›®çš„å­é¡¹ç›®ä¹Ÿpullä¸‹æ¥&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git submodule update --init
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å½“ç„¶ä¹Ÿå¯ä»¥pull Hexoåæ‰‹åŠ¨å†pullå­é¡¹ç›®,è¿™æ ·å¾ˆè ¢:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd ./themes/next
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git pull
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;new-hosts&#34;&gt;New Hosts&lt;/h3&gt;
&lt;p&gt;å¯¹äºè¦åŠ å…¥å¤šä¸»æœºåŒæ­¥çš„æ–°ä¸»æœºæ¥è¯´, è¦æŠŠä¸»é¢˜æ–‡ä»¶å½“ä½œgit submodule, åœ¨åˆå§‹åŒ–é˜¶æ®µ, å…ˆåŒæ­¥Hexo, å†åŒæ­¥ä¸»é¢˜.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;cloneè‡ªå·±çš„Hexoé¡¹ç›®å¹¶åˆå§‹åŒ–:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git clone https://github.com/LYK-love/LYK-love.github.io
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd LYK-love.github.io
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;npm install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†ä¸»é¢˜ä½œä¸ºsubmoduleæ·»åŠ è¿›æ¥:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;cd blog-hexo
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git submodule add https://github.com/LYK-love/next themes/next
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;git submodule add &amp;lt;sub-module-registry&amp;gt;&lt;/code&gt;:  git ä¼šå°†ä¸»é¢˜é¡¹ç›®( ä¹Ÿå°±æ˜¯æˆ‘çš„&lt;code&gt;next&lt;/code&gt;é¡¹ç›® )ä½œä¸ºä¸€ä¸ªsubmodule,  clone åˆ° &lt;code&gt;themes/hexo&lt;/code&gt; ä¸­.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŒæ—¶ hexo é¡¹ç›®ä¸­ä¼šç”Ÿæˆä¸€ä¸ª &lt;code&gt;.gitmodules&lt;/code&gt; æ–‡ä»¶, è¿™ä¸ªé…ç½®æ–‡ä»¶ä¸­ä¿å­˜äº†é¡¹ç›® URL ä¸å·²ç»æ‹‰å–çš„æœ¬åœ°ç›®å½•ä¹‹é—´çš„æ˜ å°„.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;.gitmodules æ–‡ä»¶å†…å®¹&lt;/code&gt;:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;gt; cat .gitmodules
[submodule &amp;#34;themes/next&amp;#34;]
	path = themes/next
	url = git@github.com:LYK-love/next.git
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;update submudule, ç¬¬ä¸€æ¬¡updateæ—¶è¦åŠ &lt;code&gt;--init&lt;/code&gt;é€‰é¡¹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git submodule update --init
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;ä¹Ÿå¯åœ¨ clone çˆ¶é¡¹ç›®æ—¶ç›´æ¥ä½¿ç”¨ &lt;code&gt;git clone --recursive&lt;/code&gt; , git ä¹Ÿä¼špullæ‰€æœ‰çš„å­é¡¹ç›®.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç°åœ¨æ–°ä¸»æœºå·²ç»åŠ å…¥å¤šä¸»æœºåŒæ­¥, å˜æˆOld Hostsäº†.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;bugs&#34;&gt;Bugs&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;hexo g&lt;/code&gt; ä¼šç”Ÿæˆé™æ€æ–‡ä»¶, ä½†æ˜¯ï¼Œå¦‚æœä½ çš„ç›®å½•ä¸‹æœ‰å¤±æ•ˆçš„è½¯é“¾æ¥ï¼Œ å°±ä¸ä¼šç”Ÿæˆæ–‡ä»¶ã€‚ å› æ­¤è¯·åˆ é™¤æ‰€æœ‰çš„å¤±æ•ˆè½¯é“¾æ¥&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;refï¼š&lt;a href=&#34;https://chrisbergeron.com/2020/12/24/fixing-hexo-not-generating-files/#:~:text=If%20you%E2%80%99re%20having%20trouble%20with%20Hexo%20not%20generating,l%20-exec%20test%20%21%20-e%20%7B%7D%20%3B%20-print&#34;&gt; Fixing Hexo Not Generating Files &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;hexoçš„markdownæºä»£ç é¿å…å‡ºç°&lt;strong&gt;è·¨çº§æ ‡é¢˜ç»“æ„&lt;/strong&gt;ï¼Œ è¿™é‡Œçš„&lt;em&gt;è·¨çº§&lt;/em&gt;æŒ‡çš„æ˜¯ä¸èƒ½ä»ä¸€ä¸ªä¸€çº§æ ‡é¢˜ç›´æ¥è·Ÿä¸‰çº§æ ‡é¢˜ï¼›äºŒçº§æ ‡é¢˜åç´§è·Ÿçš„å­æ ‡é¢˜çº§åˆ«å¿…é¡»æ˜¯ä¸‰çº§æ ‡é¢˜&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ–‡ç« çš„Front-matteræ˜¯YAMLæ ¼å¼, å› æ­¤å†’å·åé¢å¿…é¡»æœ‰ä¸€ä¸ªè‹±æ–‡ç©ºæ ¼:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-markdown&#34; data-lang=&#34;markdown&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;title: XX
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;categories: XX
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tags: XX
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦åˆ™æŠ¥é”™:&lt;/p&gt;
&lt;p&gt;YAMLException: can not read a block mapping entry; a multiline key may not be an implicit key&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœè¡¨æ ¼å¤šäº†è¡Œ/åˆ—,åœ¨æ˜¾ç¤ºæ—¶ä¼šå¾ˆä¸‘&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æå…¶ç½•è§çš„Bug, èŠ±äº†æˆ‘å¤§åŠå¤©: Hexoå’ŒNextåˆ†åˆ«æ›´æ–°, ç»“æœLatexä¸èƒ½æ˜¾ç¤º, hexo gå·¨æ…¢, é¡µé¢é—ªçƒ, back2topå°ç®­å¤´å›¾è¡¨æ¶ˆå¤±ç­‰ç­‰ç­‰ç­‰&amp;hellip; æœ€å¥½ä»–å±…ç„¶ç¥å¥‡åœ°å¥½äº†. æˆ‘çŒœæ˜¯package.jsonå†²çªäº†. ä¸è¿‡å…·ä½“åŸå› æˆ‘ä¹Ÿä¸çŸ¥é“&amp;hellip; .æ°”æ­»æˆ‘äº†.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;hexo-doc&#34;&gt;Hexo Doc&lt;/h1&gt;
&lt;p&gt;ç½‘ä¸Šæ²¡æœ‰å…³äºå®‰è£…æŒ‡å®šç‰ˆæœ¬çš„Hexoçš„æ•™ç¨‹. æˆ‘çš„åšæ³•æ˜¯æŠ„ä¸€ä»½æŒ‡å®šç‰ˆæœ¬çš„&lt;code&gt;package.json&lt;/code&gt;ç„¶å&lt;code&gt;npm install&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;version&#34;&gt;Version&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;æŸ¥çœ‹æœ¬åœ°Hexoç‰ˆæœ¬:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;hexo version
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŸ¥çœ‹æœ‰å“ªäº›è½åçš„ç‰ˆæœ¬:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;npm outdated
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;install&#34;&gt;Install&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;npm install -g hexo-cli
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;ungrade&#34;&gt;Ungrade&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å®‰è£…hexoæ—¶éœ€è¦å®‰è£…hexo-cli(å®ƒåŒ…å«äº†hexoåœ¨å†…çš„ä¸€å¤§å †ä¾èµ–), è€Œå‡çº§hexoåªéœ€å‡çº§æ‰€æœ‰æ’ä»¶:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;npm install -g npm-upgrade
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;npm-upgrade&lt;/code&gt;: å‡çº§ä½œä¸º&lt;code&gt;dependency&lt;/code&gt;çš„hexo&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŸ¥çœ‹æ˜¯å¦æ›´æ–°æˆåŠŸ:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;hexo version
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;uninstall&#34;&gt;Uninstall&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Uninstall:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;npm uninstall hexo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;next-doc&#34;&gt;NeXt Doc&lt;/h1&gt;
&lt;p&gt;NexT æ¯ä¸ªæœˆéƒ½ä¼šå‘å¸ƒæ–°ç‰ˆæœ¬&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;&#34;&gt;Next Official Doc&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/next-theme/hexo-theme-next&#34;&gt;Next Github Repo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å°½é‡ä»¥å®˜æ–¹æ–‡æ¡£ä¸ºå‡†, Github repoä¸Šåªæœ‰å¾ˆå°‘çš„ä¿¡æ¯.&lt;/p&gt;
&lt;p&gt;æ³¨æ„, Nextå­˜åœ¨å¤šä¸ªGithub repo, è¯·ä¸è¦è¢«æ··æ·†. ä¾‹å¦‚è¯¥repo:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/theme-next/hexo-theme-next&#34;&gt;https://github.com/theme-next/hexo-theme-next&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªè¿‡æ—¶çš„repo, å…¶nextç‰ˆæœ¬åªåˆ°7.8.0. è€Œç›´åˆ°æœ¬æ–‡å†™ä½œæ—¶, nextç‰ˆæœ¬å·²ç»è¾¾åˆ°8.15.1äº†, å› æ­¤è¦æ³¨æ„åŒºåˆ†.&lt;/p&gt;
&lt;h2 id=&#34;version-1&#34;&gt;Version&lt;/h2&gt;
&lt;p&gt;NeXt &amp;lt; 8çš„ç‰ˆæœ¬å¥½åƒæ²¡åŠæ³•æŸ¥çœ‹&lt;/p&gt;
&lt;p&gt;Next &amp;gt;=8 ä¹‹å, æ¯æ¬¡&lt;code&gt;hexo s/d&lt;/code&gt;æ—¶åœ¨å‘½ä»¤è¡Œçš„è¾“å‡ºé‡Œéƒ½æœ‰Nextç‰ˆæœ¬ä¿¡æ¯. æ­¤å¤–&lt;code&gt;hexo version&lt;/code&gt;ä¹Ÿä¼šæ˜¾ç¤ºnextç‰ˆæœ¬.&lt;/p&gt;
&lt;h2 id=&#34;installation&#34;&gt;Installation&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://theme-next.js.org/docs/getting-started/installation.html&#34;&gt;Next Official Doc: Installation&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç”±äºæˆ‘ä¸å¯¹ä¸»é¢˜åšç‰ˆæœ¬ç®¡ç†, ä¹Ÿå°±ä¸æ–°å¼€ä»“åº“äº†.&lt;/p&gt;
&lt;p&gt;æ— è®ºæ˜¯ä¸‹è½½è¿˜æ˜¯æ›´æ–°Next, éƒ½è¦å…ˆæ›´æ–°åˆ°æœ€æ–°çš„Hexo.&lt;/p&gt;
&lt;h3 id=&#34;using-npm&#34;&gt;Using npm&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;npm install hexo-theme-next@latest
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;npmä¼šæŠŠä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹è½½åˆ°&lt;code&gt;/node_modules/hexo-theme-next&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;using-git&#34;&gt;Using git&lt;/h3&gt;
&lt;p&gt;In hexo directory:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;git clone https://github.com/next-theme/hexo-theme-next themes/next
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;æ³¨æ„, å¦‚æœåœ¨&lt;code&gt;themes/&lt;/code&gt;ä¸‹å·²ç»å­˜åœ¨äº†ä¸»é¢˜æ–‡ä»¶å¤¹, åˆ™Hexoä¼šå¿½ç•¥&lt;code&gt;node_modules/&lt;/code&gt;ä¸­å¯èƒ½å­˜åœ¨çš„/ä¸»é¢˜æ–‡ä»¶å¤¹. ä¹Ÿå°±æ˜¯è¯´è¦ä¹ˆç”¨git, è¦ä¹ˆç”¨npm, ä¸¤è€…ä¸èƒ½å…±å­˜&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;after-installation&#34;&gt;After Installation&lt;/h2&gt;
&lt;p&gt;å®‰è£…æˆåŠŸåå°±å¯ä»¥ä½¿ç”¨äº†, å‘½ä»¤è¡Œè¾“å…¥å¦‚ä¸‹:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;â¯ hexo s
INFO  Validating config
INFO  ==================================
  â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
  â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•šâ•â•â–ˆâ–ˆâ•”â•â•â•
  â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â•šâ–ˆâ–ˆâ–ˆâ•”â•    â–ˆâ–ˆâ•‘
  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•   â–ˆâ–ˆâ•”â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•‘
  â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•‘
  â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•   â•šâ•â•
========================================
NexT version 8.15.1
Documentation: https://theme-next.js.org
========================================
INFO  Start processing
INFO  Hexo is running at http://localhost:4000/ . Press Ctrl+C to stop.
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;upgrade&#34;&gt;Upgrade&lt;/h2&gt;
&lt;p&gt;è®°å¾—å¤‡ä»½oldä¸»é¢˜æ–‡ä»¶å¤¹çš„æ–‡ä»¶, æŠŠæ—§ä¸»é¢˜æ–‡ä»¶å¤¹renameä¸º&lt;code&gt;next-old&lt;/code&gt;. å½“ç„¶, ç”±äºè¯¥æ–‡ä»¶å¤¹ä¸€èˆ¬ä»€ä¹ˆéƒ½ä¸ä¼šæ”¹,æ‰€ä»¥ä¸å¤‡ä»½ä¹Ÿæ²¡å•¥å…³ç³»&lt;/p&gt;
&lt;p&gt;å·²ç»é‡‡ç”¨äº†Alternate Theme Config, å› æ­¤å¯ä»¥å¹³æ»‘åœ°å‡çº§:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git pull
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;markdown&#34;&gt;Markdown&lt;/h1&gt;
&lt;h2 id=&#34;é¡µé¢å†…è·³è½¬&#34;&gt;é¡µé¢å†…è·³è½¬&lt;/h2&gt;
&lt;h2 id=&#34;anchor&#34;&gt;Anchor&lt;/h2&gt;
&lt;h3 id=&#34;auto&#34;&gt;Auto&lt;/h3&gt;
&lt;p&gt;åªéœ€è¦ä½¿ç”¨&lt;code&gt;hexo-renderer-markdown-it&lt;/code&gt;, å¹¶ä¿®æ”¹å…¶é…ç½®æ–‡ä»¶, å°±å¯ä»¥ä½¿æ–‡ç« Headerè‡ªå¸¦Anchor&lt;/p&gt;
&lt;h3 id=&#34;manual&#34;&gt;Manual&lt;/h3&gt;
&lt;p&gt;ä¾‹å­:&lt;/p&gt;
&lt;p&gt;Markdownçš„ä¸€ä¸ªæ ‡é¢˜:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-markdown&#34; data-lang=&#34;markdown&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;// in markdown:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;# Ha ha
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dadads
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¼šè¢«Hexoæ¸²æŸ“æˆ:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;//in html
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;id&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ha-ha&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;h1&lt;/span&gt;&amp;gt;dadads&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;h1&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;ç©ºæ ¼ä¼šè¢«è½¬æ¢ä¸ºè¿å­—ç¬¦, å¤§å†™ä¼šè¢«è½¬æ¢ä¸ºå°å†™.
&lt;ul&gt;
&lt;li&gt;ç”±äºæˆ‘åœ¨&lt;code&gt;hexo-renderer-markdown-it&lt;/code&gt;ä¸­çš„é…ç½®, ç©ºæ ¼ä¼šè¢«è½¬æ¢ä¸º&lt;code&gt;-&lt;/code&gt;, è€Œå¤§å°å†™æ˜¯&lt;strong&gt;ä¸è½¬æ¢&lt;/strong&gt;çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;å¦‚æœæœ‰é‡åçš„æ ‡é¢˜(å³ä½¿å¤„äºä¸åŒçš„æ ‡é¢˜å±‚æ¬¡), å°±ä¼šåœ¨htmlçš„æ ‡ç­¾çš„idå±æ€§ä¸­äºˆä»¥åŒºåˆ†:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-markdown&#34; data-lang=&#34;markdown&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;// in markdown:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;# haha
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;dadads
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;# Heihei
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;## Haha //é‡åäº†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;asa
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;//in html
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;id&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;haha-1&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;h1&lt;/span&gt;&amp;gt;dadads&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;h1&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;id&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;haha-2&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#34;&lt;/span&gt;&amp;gt; //ç”¨æ•°å­—åç¼€åŒºåˆ†äº†
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;h1&lt;/span&gt;&amp;gt;asa&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;h1&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å› æ­¤, åªéœ€è¦åœ¨markdownä¸­å†™:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[æ˜¾ç¤ºçš„å†…å®¹](#æ ‡é¢˜)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç”Ÿæˆçš„Htmlæ˜¯:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;lt;a href=&amp;#34;æ ‡é¢˜&amp;#34;&amp;gt;æ˜¾ç¤ºçš„å†…å®¹&amp;lt;/a&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™å°±å¼•ç”¨äº†å¯¹åº”çš„æ ‡é¢˜:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# æ ‡é¢˜
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°, è¿™æ˜¯åŸºäºHtmlçš„æ ‡ç­¾idåŒ¹é…çš„, è€ŒMarkdownæ ‡é¢˜ç”Ÿæˆçš„Htmlæ ‡ç­¾çš„idå’Œæ ‡é¢˜çº§åˆ«æ²¡æœ‰å…³ç³», åªå’Œæ ‡é¢˜åå­—æœ‰å…³ç³». æ‰€ä»¥&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-markdown&#34; data-lang=&#34;markdown&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#f92672&#34;&gt;æ˜¾ç¤ºçš„å†…å®¹&lt;/span&gt;](&lt;span style=&#34;color:#a6e22e&#34;&gt;#KKK&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯ä»¥å¼•ç”¨åˆ°:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-markdown&#34; data-lang=&#34;markdown&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;# Haha
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;## KKK
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸­çš„äºŒçº§æ ‡é¢˜&lt;code&gt;KKK&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç”±äºç©ºæ ¼ä¼šè¢«è½¬æ¢ä¸º&lt;code&gt;-&lt;/code&gt;, å› æ­¤å¦‚æœæ ‡é¢˜ä¸º:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-markdown&#34; data-lang=&#34;markdown&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;# Traditional Dead Lift
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆ™åº”è¯¥è¿™æ ·å¼•ç”¨:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-markdown&#34; data-lang=&#34;markdown&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[&lt;span style=&#34;color:#f92672&#34;&gt;æ˜¾ç¤ºçš„å†…å®¹&lt;/span&gt;](&lt;span style=&#34;color:#a6e22e&#34;&gt;#Traditional-Dead-Lift&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
    </item>
    
    <item>
      <title>L2 Asymptotics3000</title>
      <link>https://lyk-love.cn/Hugo-Blog/posts/l2-asymptotics/</link>
      <pubDate>Thu, 23 Aug 2001 08:54:12 +0000</pubDate>
      
      <guid>https://lyk-love.cn/Hugo-Blog/posts/l2-asymptotics/</guid>
      <description>&lt;p&gt;Outline:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;How to Compare Two Algorithms&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Brute  Force  by Iteration&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Brute  Force  by Recursion&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
      <content>&lt;p&gt;Outline:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;How to Compare Two Algorithms&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Brute  Force  by Iteration&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Brute  Force  by Recursion&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;how-to-compare-two-algorithms&#34;&gt;How to Compare Two Algorithms&lt;/h1&gt;
&lt;p&gt;(c)
$(c)$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Algorithm analysis, with &lt;!-- raw HTML omitted --&gt;simplification&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Measure the cost by the number of &lt;strong&gt;critical operations&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Large input size only&lt;/li&gt;
&lt;li&gt;Essential part only
&lt;ul&gt;
&lt;li&gt;Only the leading term in$ f(n)$ is considered&lt;/li&gt;
&lt;li&gt;Constant coefficients are ignored&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Capturing the essential part in the cost in a mathematical way
&lt;ul&gt;
&lt;li&gt;Asymptotic &lt;strong&gt;growth rate&lt;/strong&gt; of $f(n)$&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;relative-growth-rate&#34;&gt;Relative Growth Rate&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;$O(g):$â€‹â€‹ functions $A_1, A_2,&amp;hellip;$that grows no faster than $g$â€‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$O(g(n))={f(n): å­˜åœ¨å¸¸æ•°c&amp;gt;0å’Œn_0&amp;gt;0,æ»¡è¶³0\leq f(n) \leq cg(n)å¯¹æ‰€æœ‰n \geq n_0å‡æˆç«‹}$â€‹&lt;/li&gt;
&lt;li&gt;$f(n)=O(g(n)) \quad iff \quad \lim\limits_{n \rightarrow \infty} \frac{f(n)}{g(n)}=c&amp;lt;\infty$&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;$o(g)$: ä¸å¿«äº$g$ä¸”ä¸$g$æœ‰å±‚æ¬¡ä¸Šçš„å·®è·&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$o(g(n))={f(n): å¯¹ä»»æ„å¸¸æ•°c&amp;gt;0, å‡å­˜åœ¨å¸¸æ•°n_0&amp;gt;0,æ»¡è¶³0\leq f(n) &amp;lt; cg(n)å¯¹æ‰€æœ‰n \geq n_0å‡æˆç«‹}$â€‹â€‹â€‹&lt;/li&gt;
&lt;li&gt;$f(n)=o(g(n)) \quad iff \quad \lim\limits_{n \rightarrow \infty} \frac{f(n)}{g(n)}=0$â€‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;$\Omega(g)$: functions that grow at least as fast as $g$â€‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$\Omega(g(n))={f(n): å­˜åœ¨å¸¸æ•°c&amp;gt;0å’Œn_0&amp;gt;0,æ»¡è¶³0 \leq cg(n)\leq f(n) å¯¹æ‰€æœ‰n \geq n_0å‡æˆç«‹}$&lt;/li&gt;
&lt;li&gt;$f(n)=\Omega(g(n)) \quad iff \quad \lim\limits_{n \rightarrow \infty} \frac{f(n)}{g(n)}=c&amp;gt;0(cä¹Ÿå¯ä»¥ä¸º\infty)$â€‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;$\omega$: ä¸æ…¢äº$g$ä¸”ä¸$g$æœ‰å±‚æ¬¡ä¸Šçš„å·®è·&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$\omega(g(n))={f(n): å¯¹ä»»æ„å¸¸æ•°c&amp;gt;0,å‡å­˜åœ¨å¸¸æ•°n_0&amp;gt;0,æ»¡è¶³0 \leq cg(n) &amp;lt; f(n) å¯¹æ‰€æœ‰n \geq n_0å‡æˆç«‹}$â€‹&lt;/li&gt;
&lt;li&gt;$f(n)=\omega(g(n)) \quad iff \quad \lim\limits_{n \rightarrow \infty} \frac{f(n)}{g(n)}=\infty$â€‹â€‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;$\Theta(g):$â€‹â€‹ &amp;hellip; the same rate as $g$â€‹â€‹. (å¤„äºåŒä¸€æ°´å¹³) ( $O$å’Œ$\Omega$çš„äº¤é›† )&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$\Theta(g(n))={f(n): å­˜åœ¨å¸¸æ•°c_1&amp;gt;0,c_2&amp;gt;0å’Œn_0&amp;gt;0,æ»¡è¶³0 \leq c_1g(n)\leq f(n) \leq c_2g(n) å¯¹æ‰€æœ‰n \geq n_0å‡æˆç«‹}$&lt;/li&gt;
&lt;li&gt;$f(n)=\Theta(g(n)) \quad iff \quad \lim\limits_{n \rightarrow \infty} \frac{f(n)}{g(n)}=c&amp;gt;0(0&amp;lt;c&amp;lt;\infty)$â€‹â€‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;$\theta$: ä¸å­˜åœ¨ï¼Œ $o$â€‹å’Œ$\omega$â€‹çš„äº¤é›†æ˜¯ç©ºé›†&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;brute--force--by-iteration&#34;&gt;Brute  Force  by Iteration&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Max-sum Subsequence&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è›®åŠ›æ˜¯$O(n^3)$,  æ”¹è¿›ä¸€ä¸‹æ˜¯$Oï¼ˆn^2ï¼‰$â€‹ï¼Œç”¨åˆ†æ²»æ”¹è¿›æ˜¯$Oï¼ˆnlognï¼‰$&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A linear Algorithm: O(n)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-C++&#34; data-lang=&#34;C++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ThisSum &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; MaxSum &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;( j &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; ; j &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; N ; j&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	ThisSum &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; A[j];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;( ThisSum &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; MaxSum )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		MaxSum &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ThisSum;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;if&lt;/span&gt;( ThisSum &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		ThisSum &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Return MaxSum
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;brute--force--by-recursion&#34;&gt;Brute  Force  by Recursion&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è›®åŠ›ç­–ç•¥å¤§æ™ºè‹¥æ„šï¼Œå¯ä»¥ä»¥æ­¤ä¸ºè·³æ¿è¿›è¡Œæ”¹è¿›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Job Scheduling&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Brute force recursion
&lt;ul&gt;
&lt;li&gt;Select job &amp;lsquo;a&amp;rsquo;&lt;/li&gt;
&lt;li&gt;Case 1: the result does not contain &amp;lsquo;a&amp;rsquo;
&lt;ul&gt;
&lt;li&gt;Recursion on $J \setminus {a}$â€‹â€‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Case 2: the result contains &amp;lsquo;a&amp;rsquo;
&lt;ul&gt;
&lt;li&gt;Recursion on  $J \setminus {a} \setminus {$ â€‹ tasks overlapping with $ a}$â€‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Further improvements
&lt;ul&gt;
&lt;li&gt;Dynamic programming(L16)&lt;/li&gt;
&lt;li&gt;Greedy algorithms( L14 )&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Matrix Chain Multiplication&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Solutions
&lt;ul&gt;
&lt;li&gt;Brute force recursion(L16)
&lt;ul&gt;
&lt;li&gt;BF1&lt;/li&gt;
&lt;li&gt;BF2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Dynamic programming(L16)
&lt;ul&gt;
&lt;li&gt;Based on brute force recursion 2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</content>
    </item>
    
    <item>
      <title>Archive</title>
      <link>https://lyk-love.cn/Hugo-Blog/archive/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://lyk-love.cn/Hugo-Blog/archive/</guid>
      <description>12 posts in total
2023 02 May &amp;ndash; Arm_Training
02 May &amp;ndash; Barbell Row
02 May &amp;ndash; Barbell Row
02 May &amp;ndash; Dead Lift
01 May &amp;ndash; Second
01 May &amp;ndash; Back Training
23 Apr &amp;ndash; Shell Script Searching Path
23 Apr &amp;ndash; Shell Script
17 Apr &amp;ndash; ç«é¸Ÿ
2022 27 Mar &amp;ndash; Hexo
2001 23 Aug &amp;ndash; L2 Asymptotics3000</description>
      <content>&lt;p&gt;12
posts in total&lt;/p&gt;
&lt;h1 id=&#34;2023&#34;&gt;2023&lt;/h1&gt;
&lt;p&gt;02 May &amp;ndash; &lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/posts/arm_training/&#34;&gt;Arm_Training&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;02 May &amp;ndash; &lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/posts/barbell-row-copy/&#34;&gt;Barbell Row&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;02 May &amp;ndash; &lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/posts/barbell-row/&#34;&gt;Barbell Row&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;02 May &amp;ndash; &lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/posts/dead-lift/&#34;&gt;Dead Lift&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;01 May &amp;ndash; &lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/posts/second/&#34;&gt;Second&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;01 May &amp;ndash; &lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/posts/first/&#34;&gt;Back Training&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;23 Apr &amp;ndash; &lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/posts/shell-script-searching-path/&#34;&gt;Shell Script Searching Path&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;23 Apr &amp;ndash; &lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/posts/shell-script/&#34;&gt;Shell Script&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;17 Apr &amp;ndash; &lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/posts/%E7%81%AB%E9%B8%9F/&#34;&gt;ç«é¸Ÿ&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&#34;2022&#34;&gt;2022&lt;/h1&gt;
&lt;p&gt;27 Mar &amp;ndash; &lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/posts/hexo/&#34;&gt;Hexo&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&#34;2001&#34;&gt;2001&lt;/h1&gt;
&lt;p&gt;23 Aug &amp;ndash; &lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/posts/l2-asymptotics/&#34;&gt;L2 Asymptotics3000&lt;/a&gt;&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>Categories</title>
      <link>https://lyk-love.cn/Hugo-Blog/categories/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://lyk-love.cn/Hugo-Blog/categories/</guid>
      <description>3 categories in total
Algorithm (1)
body (1)
Essay (1)</description>
      <content>&lt;p&gt;3
categories in total&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/categories/algorithm/&#34;&gt;Algorithm (1)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/categories/body/&#34;&gt;body (1)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/categories/essay/&#34;&gt;Essay (1)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</content>
    </item>
    
    <item>
      <title>Code</title>
      <link>https://lyk-love.cn/Hugo-Blog/code/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://lyk-love.cn/Hugo-Blog/code/</guid>
      <description>A great place to look for code is on my Github page.</description>
      <content>&lt;p&gt;A great place to look for code is on my &lt;a href=&#34;https://github.com/LYK-love&#34;&gt;Github page&lt;/a&gt;.&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>OS Concurrency</title>
      <link>https://lyk-love.cn/Hugo-Blog/posts/os-concurrency/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://lyk-love.cn/Hugo-Blog/posts/os-concurrency/</guid>
      <description>&lt;p&gt;Outline:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Introï¼š
&lt;ul&gt;
&lt;li&gt;å¤šå¤„ç†å™¨ç¼–ç¨‹çš„å›°éš¾&lt;/li&gt;
&lt;li&gt;ç”¨çŠ¶æ€æœºç†è§£å¹¶å‘ç®—æ³•&lt;/li&gt;
&lt;li&gt;å¹¶å‘æ§åˆ¶ï¼šäº’æ–¥ã€åŒæ­¥&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ¦‚å¿µï¼š äº’æ–¥&lt;/li&gt;
&lt;li&gt;å¹¶å‘ä¸çŠ¶æ€æœº&lt;/li&gt;
&lt;li&gt;Threading API&lt;/li&gt;
&lt;li&gt;Lock&lt;/li&gt;
&lt;li&gt;Concurrent Data Structure based on Lock&lt;/li&gt;
&lt;li&gt;Conditional Variable&lt;/li&gt;
&lt;li&gt;ä¿¡å·é‡&lt;/li&gt;
&lt;li&gt;å¸¸è§å¹¶å‘é—®é¢˜&lt;/li&gt;
&lt;li&gt;åŸºäºäº‹ä»¶çš„å¹¶å‘&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Refï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Operating Systems Three Easy pieces&lt;/li&gt;
&lt;li&gt;JYY OS&lt;/li&gt;
&lt;/ul&gt;</description>
      <content>&lt;p&gt;Outline:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Introï¼š
&lt;ul&gt;
&lt;li&gt;å¤šå¤„ç†å™¨ç¼–ç¨‹çš„å›°éš¾&lt;/li&gt;
&lt;li&gt;ç”¨çŠ¶æ€æœºç†è§£å¹¶å‘ç®—æ³•&lt;/li&gt;
&lt;li&gt;å¹¶å‘æ§åˆ¶ï¼šäº’æ–¥ã€åŒæ­¥&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ¦‚å¿µï¼š äº’æ–¥&lt;/li&gt;
&lt;li&gt;å¹¶å‘ä¸çŠ¶æ€æœº&lt;/li&gt;
&lt;li&gt;Threading API&lt;/li&gt;
&lt;li&gt;Lock&lt;/li&gt;
&lt;li&gt;Concurrent Data Structure based on Lock&lt;/li&gt;
&lt;li&gt;Conditional Variable&lt;/li&gt;
&lt;li&gt;ä¿¡å·é‡&lt;/li&gt;
&lt;li&gt;å¸¸è§å¹¶å‘é—®é¢˜&lt;/li&gt;
&lt;li&gt;åŸºäºäº‹ä»¶çš„å¹¶å‘&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Refï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Operating Systems Three Easy pieces&lt;/li&gt;
&lt;li&gt;JYY OS&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;intro&#34;&gt;Intro&lt;/h1&gt;
&lt;p&gt;Concurrentï¼šexsiting, happening, or done at the &lt;em&gt;same&lt;/em&gt; time. ç¨‹åºçš„ä¸åŒéƒ¨åˆ†å¯ä»¥æŒ‰ä¸åŒé¡ºåºæ‰§è¡Œï¼Œä¸”æœ€ç»ˆå¾—åˆ°æ­£ç¡®çš„ç»“æœ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-C&#34; data-lang=&#34;C&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//t0.c
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;assert.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;pthread.h&amp;gt;// pthread åº“ä¸æ˜¯ Linux ç³»ç»Ÿé»˜è®¤çš„åº“ï¼Œè¿æ¥æ—¶éœ€è¦ä½¿ç”¨é™æ€åº“ libpthread.a // åœ¨ç¼–è¯‘ä¸­è¦åŠ  -lpthreadå‚æ•°&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mythread&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;arg )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%s&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, arg);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; NULL;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; argc, &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; argv[])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_t&lt;/span&gt;  p1,p2;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; rc;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;printf&lt;/span&gt;( &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;main:begin&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; ch1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; ch2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;B&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    rc &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_create&lt;/span&gt;( &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;p1, NULL, mythread, ch1 ); &lt;span style=&#34;color:#a6e22e&#34;&gt;assert&lt;/span&gt;(rc&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;); &lt;span style=&#34;color:#75715e&#34;&gt;//Cè¯­è¨€ç¼–è¯‘å™¨å…è®¸éšå«æ€§çš„å°†ä¸€ä¸ªé€šç”¨æŒ‡é’ˆè½¬æ¢ä¸ºä»»æ„ç±»å‹çš„æŒ‡é’ˆï¼ŒåŒ…æ‹¬const *è€ŒCï¼‹ï¼‹ä¸å…è®¸å°†const è½¬æ¢ä¸ºéconst*ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥ä¼ å…¥&amp;#34;A&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    rc &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_create&lt;/span&gt;( &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;p2, NULL, mythread, ch2 ); &lt;span style=&#34;color:#a6e22e&#34;&gt;assert&lt;/span&gt;(rc&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    rc&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_join&lt;/span&gt;( p1,NULL );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    rc&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_join&lt;/span&gt;( p2,NULL );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;main:end&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯¥ç¨‹åºæ‰“å°ç»“æœä¸ºï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;main:begin
A
B
main:end
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æˆ–è€…&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;main:begin
B
A
main:end
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸¤æ¬¡è¿è¡Œç»“æœä¸ä¸€æ ·&lt;/p&gt;
&lt;h2 id=&#34;å¤šä»»åŠ¡osçš„å¹¶å‘&#34;&gt;å¤šä»»åŠ¡OSçš„å¹¶å‘&lt;/h2&gt;
&lt;p&gt;ï¼ˆå‡è®¾ç³»ç»Ÿåªæœ‰ä¸€ä¸ªCPUï¼‰&lt;/p&gt;
&lt;p&gt;OSå¯ä»¥åŒæ—¶åŠ è½½å¤šä¸ªè¿›ç¨‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ¯ä¸ªè¿›ç¨‹éƒ½æ˜¯ç‹¬ç«‹çš„è¿›ç¨‹ï¼Œäº’ä¸å¹²æ‰°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å³ä½¿æ˜¯rootæƒé™çš„è¿›ç¨‹ï¼Œä¹Ÿä¸èƒ½ç›´æ¥è®¿é—®æ“ä½œç³»ç»Ÿå†…æ ¸çš„å†…å­˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¯éš”ä¸€æ®µæ—¶é—´ï¼Œå°±åˆ‡æ¢åˆ°å¦ä¸€ä¸ªè¿›ç¨‹&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;å¹¶å‘æ€§çš„æ¥æºï¼š &lt;strong&gt;è¿›ç¨‹ä¼šè°ƒç”¨OSçš„API&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;writeï¼ˆfd,buf,11 TiBï¼‰&lt;/code&gt;ï¼ˆ&lt;code&gt;TiB&lt;/code&gt;å®ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;write&lt;/code&gt;çš„å®ç°æ˜¯OSçš„ä¸€éƒ¨åˆ†&lt;/li&gt;
&lt;li&gt;&lt;code&gt;x86-64&lt;/code&gt;åº”ç”¨ç¨‹åºæ‰§è¡Œ&lt;code&gt;syscall&lt;/code&gt;åå°±è¿›å…¥OSæ‰§è¡Œ
&lt;ul&gt;
&lt;li&gt;ç±»ä¼¼ä¸­æ–­å¤„ç†ç¨‹åº&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ­¤æ—¶OSå…è®¸&lt;code&gt;write&lt;/code&gt;çš„åŒæ—¶ï¼Œè®©å¦ä¸€ä¸ªè¿›ç¨‹æ‰§è¡Œ
&lt;ul&gt;
&lt;li&gt;å¦‚ï¼šå¦ä¸€ä¸ªè¿›ç¨‹æ‰§è¡Œäº†&lt;code&gt;read(fd,buf,512 MiB)&lt;/code&gt;è¯»å–åŒä¸€æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;OSä»£ç å¹¶å‘äº†&lt;/strong&gt;ï¼š &lt;code&gt;OS API&lt;/code&gt;å®ç°éœ€è¦è€ƒè™‘å¹¶å‘
&lt;ul&gt;
&lt;li&gt;è™½ç„¶è¿›ç¨‹åœ¨åœ°å€ç©ºé—´ä¸­æ˜¯ç‹¬ç«‹çš„ï¼Œä½†æ˜¯OSä¸­çš„å¯¹è±¡æ˜¯è¢«è¿›ç¨‹å…±äº«çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å¹¶å‘ä¸å¹¶è¡Œçš„åŒºåˆ«&#34;&gt;å¹¶å‘ä¸å¹¶è¡Œçš„åŒºåˆ«&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å¹¶å‘ï¼š å¤šä¸ªæ‰§è¡Œæµå¯ä»¥ä¸æŒ‰ç…§ä¸€ä¸ªç‰¹å®šçš„é¡ºåºæ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;å¹¶è¡Œï¼šå…è®¸å¤šä¸ªæ‰§è¡ŒæµçœŸæ­£åœ°åŒæ—¶æ‰§è¡Œ
&lt;ul&gt;
&lt;li&gt;éœ€è¦å¤šä¸ªå¤„ç†å™¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å¤„ç†å™¨æ•°é‡&lt;/th&gt;
&lt;th&gt;å…±äº«å†…å­˜ï¼Ÿ&lt;/th&gt;
&lt;th&gt;å…¸å‹çš„å¹¶å‘OS&lt;/th&gt;
&lt;th&gt;å¹¶å‘ï¼Ÿå¹¶è¡Œï¼Ÿ&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;å•&lt;/td&gt;
&lt;td&gt;å…±äº«å†…å­˜&lt;/td&gt;
&lt;td&gt;OSå†…æ ¸/å¤šçº¿ç¨‹ç¨‹åº&lt;/td&gt;
&lt;td&gt;å¹¶å‘ä¸å¹¶è¡Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å¤š&lt;/td&gt;
&lt;td&gt;å…±äº«å†…å­˜&lt;/td&gt;
&lt;td&gt;OSå†…æ ¸/å¤šçº¿ç¨‹ç¨‹åº/GPU Kernel&lt;/td&gt;
&lt;td&gt;å¹¶å‘ã€å¹¶è¡Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å¤š&lt;/td&gt;
&lt;td&gt;ä¸å…±äº«å†…å­˜&lt;/td&gt;
&lt;td&gt;åˆ†å¸ƒå¼ç³»ç»Ÿï¼ˆæ¶ˆæ¯é€šä¿¡ï¼‰&lt;/td&gt;
&lt;td&gt;å¹¶å‘ã€å¹¶è¡Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;çº¿ç¨‹&#34;&gt;çº¿ç¨‹&lt;/h2&gt;
&lt;p&gt;çº¿ç¨‹ï¼š A single process can contain multiple threads, all of  which  are  executing  the same  program.   These  threads &lt;strong&gt;share&lt;/strong&gt; the same global memory (data and heap segments), but each thread has its own stack (automatic variables).&lt;/p&gt;
&lt;p&gt;å¤šä¸ªæ‰§è¡Œæµå¹¶å‘/å¹¶è¡Œæ‰§è¡Œï¼Œä¸”&lt;strong&gt;å…±äº«å†…å­˜&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸¤ä¸ªæ‰§è¡Œæµå…±äº«ä»£ç å’Œæ‰€æœ‰å…¨å±€å˜é‡ï¼ˆæ•°æ®åŒºã€å †åŒºï¼‰
&lt;ul&gt;
&lt;li&gt;i.e. C++ä¸­ï¼Œæ•°æ®åŒºå°±æ˜¯å…¨å±€/é™æ€åŒº&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;çº¿ç¨‹é—´æŒ‡ä»¤çš„æ‰§è¡Œé¡ºåºæ˜¯ä¸ç¡®å®šï¼ˆ&lt;em&gt;non-deterministic&lt;/em&gt;ï¼‰çš„&lt;/li&gt;
&lt;li&gt;å…±äº«ï¼šå…±äº«ä»£ç åŒº(å½“å‰è¿›ç¨‹çš„ä»£ç )ã€æ•°æ®åŒºå’Œå †ï¼Œä½†ä¸å…±äº«å¯„å­˜å™¨å’Œæ ˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//t1.c
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//å…±äº«å…¨å±€å˜é‡çš„åæœ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;pthread.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;#34;mythreads.h&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;volatile&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; counter &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mythread&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;arg )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;printf&lt;/span&gt;( &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%s: begin&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, (&lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;)arg );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; ; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1e7&lt;/span&gt;; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        counter&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%s: done&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, (&lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;)arg);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; NULL;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; argc, &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; argv[])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_t&lt;/span&gt;  p1,p2;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; rc;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;printf&lt;/span&gt;( &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;main:begin ( counter = %d )&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, counter );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; ch1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; ch2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;B&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_create&lt;/span&gt;( &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;p1, NULL, mythread, ch1 ); &lt;span style=&#34;color:#75715e&#34;&gt;//Cè¯­è¨€ç¼–è¯‘å™¨å…è®¸éšå«æ€§çš„å°†ä¸€ä¸ªé€šç”¨æŒ‡é’ˆè½¬æ¢ä¸ºä»»æ„ç±»å‹çš„æŒ‡é’ˆï¼ŒåŒ…æ‹¬const *è€ŒCï¼‹ï¼‹ä¸å…è®¸å°†const è½¬æ¢ä¸ºéconst*ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥ä¼ å…¥&amp;#34;A&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_create&lt;/span&gt;( &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;p2, NULL, mythread, ch2 ); 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_join&lt;/span&gt;( p1,NULL );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_join&lt;/span&gt;( p2,NULL );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;main:done with both ( counter = %d )&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, counter);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//mythreads.h
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//æŠŠAPIå°è£…èµ·æ¥ï¼Œæ˜“äºä½¿ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;pthread.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// #include&amp;lt;assert.h&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_create&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__restrict __newthread,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			   &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; __attr,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			   &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__start_routine) (&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			   &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__restrict __arg)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_create&lt;/span&gt;( __newthread, __attr, __start_routine, __arg );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_join&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_t&lt;/span&gt; __th, &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;**&lt;/span&gt;__thread_return)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_join&lt;/span&gt;( __th, __thread_return );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Malloc&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; size)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;malloc&lt;/span&gt;(size);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¾“å‡ºä¸ºï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;main:begin ( counter = 0 )
A: begin
B: begin
A: done
B: done
main:done with both ( counter = 12275324 )
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°ç»“æœä¸æ˜¯200000, è€Œæ˜¯12275324&lt;/p&gt;
&lt;p&gt;å†è¿è¡Œä¸€æ¬¡ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;main:begin ( counter = 0 )
A: begin
B: begin
B: done
A: done
main:done with both ( counter = 10467369 )
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;ä¸¤æ¬¡è¿è¡Œçš„ç»“æœéƒ½ä¸ä¸€æ ·ï¼&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;å¤šå¤„ç†å™¨ç¼–ç¨‹çš„å›°éš¾&#34;&gt;å¤šå¤„ç†å™¨ç¼–ç¨‹çš„å›°éš¾&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;åŸå­æ€§ï¼š å³ä½¿æ˜¯&lt;code&gt;i++&lt;/code&gt;ï¼Œä¹Ÿä¼šè¢«åˆ†æˆå‡ ä¸ªæŒ‡ä»¤&lt;/li&gt;
&lt;li&gt;é¡ºåºæ€§ï¼š&lt;strong&gt;ä»£ç &lt;/strong&gt;çš„ç¼–è¯‘å™¨ä¼˜åŒ–&lt;/li&gt;
&lt;li&gt;å¯è§æ€§ï¼š &lt;strong&gt;CPU&lt;/strong&gt;å¯ä»¥ä¸æŒ‰é¡ºåºæ‰§è¡ŒæŒ‡ä»¤ã€‚æ²¡æœ‰å‰åä¾èµ–å°±ä¼šè¢«ä¼˜åŒ–ï¼ˆå¹¶è¡Œæ‰§è¡Œï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å¹¶å‘æœ¯è¯­&#34;&gt;å¹¶å‘æœ¯è¯­&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ä¸´ç•ŒåŒº( &lt;code&gt;critical section&lt;/code&gt; )ï¼š è®¿é—®å…±äº«èµ„æºçš„ä¸€æ®µä»£ç &lt;/li&gt;
&lt;li&gt;ç«æ€æ¡ä»¶( &lt;code&gt;race condition&lt;/code&gt; )ï¼š å¤šä¸ªæ‰§è¡Œçº¿ç¨‹å¤§è‡´åŒæ—¶è¿›å…¥è¿›é˜¶åŒºæ—¶ï¼Œéƒ½è¯•å›¾æ›´æ–°å…±äº«èµ„æºçš„æƒ…å†µ&lt;/li&gt;
&lt;li&gt;ä¸ç¡®å®šæ€§( &lt;code&gt;indeterminate&lt;/code&gt; )ï¼š ç¨‹åºå«æœ‰ç«æ€æ¡ä»¶ï¼Œå…¶è¾“å‡ºä¸ç¡®å®š&lt;/li&gt;
&lt;li&gt;åŒæ­¥åŸè¯­( &lt;code&gt;synchronization primitive&lt;/code&gt; ):ç¡¬ä»¶æä¾›æŒ‡ä»¤ï¼Œåœ¨å…¶ä¸Šæ„å»ºåŒæ­¥åŸè¯­,å®ç°&lt;strong&gt;åŸå­æ€§&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;äº’æ–¥åŸè¯­( &lt;code&gt;mutual exclusion&lt;/code&gt; )ï¼š çº¿ç¨‹åº”è¯¥ä½¿ç”¨äº’æ–¥åŸè¯­ï¼Œä»¥ä¿è¯åªæœ‰ä¸€ä¸ªçº¿ç¨‹è¿›å…¥ä¸´ç•ŒåŒºï¼Œä»è€Œé¿å…å‡ºç°ç«æ€ï¼Œå¹¶äº§ç”Ÿç¡®å®šçš„ç¨‹åºè¾“å‡º&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;æ¦‚å¿µäº’æ–¥&#34;&gt;æ¦‚å¿µï¼šäº’æ–¥&lt;/h1&gt;
&lt;p&gt;äº’æ–¥ï¼ˆmutual exclusionï¼‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}lock_tl
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lock&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;lock_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;lk);&lt;span style=&#34;color:#75715e&#34;&gt;//è¯•å›¾è·å¾—é”çš„ç‹¬å è®¿é—®ï¼ŒæˆåŠŸè·å¾—åè¿”å›
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unlock&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;lock_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;lk);&lt;span style=&#34;color:#75715e&#34;&gt;//é‡Šæ”¾é”çš„ç‹¬å ç©ºé—´
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬å‡è®¾CPUæœ‰ä¸‰ç§æŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;loadï¼š mem -&amp;gt; reg&lt;/li&gt;
&lt;li&gt;store: reg -&amp;gt; mem&lt;/li&gt;
&lt;li&gt;æœ¬åœ°è®¡ç®—ï¼š çº¿ç¨‹çš„å¯„å­˜å™¨åšä¸€äº›è®¡ç®—ï¼Œç»“æœå­˜å…¥å¯„å­˜å™¨&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å…±äº«å†…å­˜ä¸Šäº’æ–¥çš„å›°éš¾&#34;&gt;å…±äº«å†…å­˜ä¸Šäº’æ–¥çš„å›°éš¾&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;loadå’Œstoreçš„ç¼ºé™·ï¼ˆä¸€ä¸ªåªèƒ½çœ‹ï¼Œä¸€ä¸ªåªèƒ½å†™ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç°ä»£å¤„ç†å™¨load/storeå¯èƒ½åœ¨æ‰§è¡Œæ—¶è¢«ä¹±åº&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;å¹¶å‘ä¸çŠ¶æ€æœº&#34;&gt;å¹¶å‘ä¸çŠ¶æ€æœº&lt;/h1&gt;
&lt;h2 id=&#34;ç¨‹åº--æœ‰é™çŠ¶æ€æœº--æœ‰å‘å›¾&#34;&gt;ç¨‹åº = æœ‰é™çŠ¶æ€æœº = æœ‰å‘å›¾&lt;/h2&gt;
&lt;p&gt;å›¾è®ºæ˜¯ç†è§£ç¨‹åºçš„é‡è¦å·¥å…·&lt;/p&gt;
&lt;p&gt;ä¸ç¡®å®š(non-deterministic)çš„æŒ‡ä»¤å¯èƒ½æœ‰å¤šä¸ªçŠ¶æ€&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è·å–å¤„ç†å™¨çš„â€æ—¶é—´æˆ³â€œç”¨äºç²¾ç¡®å®šæ—¶&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;rdtsc/rdtscp&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœºå™¨æä¾›çš„â€çœŸâ€œéšæœºæ•°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;rdrand&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;syscall&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€èˆ¬ç”¨äºå”¯ä¸€ä¸ç¡®å®šæ€§çš„æ¥æº&lt;/li&gt;
&lt;li&gt;&lt;code&gt;read&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;çŠ¶æ€æœºæ¨¡å‹åº”ç”¨&#34;&gt;çŠ¶æ€æœºæ¨¡å‹ï¼šåº”ç”¨&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨ç¡¬ä»¶ä¸Šçš„åº”ç”¨ï¼š é«˜æ€§èƒ½å¤„ç†å™¨å®ç°
&lt;ul&gt;
&lt;li&gt;è¶…æ ‡é‡å¤„ç†å™¨
&lt;ul&gt;
&lt;li&gt;åŒä¸€æ—¶é—´æ‰§è¡Œå¤šæ¡æŒ‡ä»¤&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;time---travel-debugging&#34;&gt;Time - Travel Debugging&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç¨‹åºæ‰§è¡Œéšæ—¶é—´æ¸è¿›ï¼š$s_0 \rarr s_1 \rarr \dots$â€‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è®°å½•æ‰€æœ‰$s_i$çš„å¼€é”€å¤ªå¤§ï¼ˆ$s_i$â€‹ç”±å†…å­˜å’Œå¯„å­˜å™¨ç»„æˆï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è®°å½•åˆå§‹çŠ¶æ€ï¼Œå’Œæ¯æ¡æŒ‡ä»¤å‰åçŠ¶æ€çš„diff&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;si/rsi&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;record--replay&#34;&gt;Record &amp;amp; Replay&lt;/h3&gt;
&lt;p&gt;ç¡®å®šçš„ç¨‹åºä¸éœ€è¦ä»»ä½•è®°å½•ï¼Œåªéœ€è¦å†æ‰§è¡Œä¸€æ¬¡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åªéœ€è®°å½•non-deterministicæŒ‡ä»¤çš„&lt;strong&gt;æ•ˆæœ&lt;/strong&gt;ï¼ˆside-effectï¼‰ï¼Œå°±å¯å®ç°é‡æ”¾&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;çº¿ç¨‹é—´é€šä¿¡itc&#34;&gt;çº¿ç¨‹é—´é€šä¿¡ITC&lt;/h1&gt;
&lt;p&gt;(1)é€šä¿¡çº¿ç¨‹ä½äºåŒä¸€ä¸ªè¿›ç¨‹ä¸­ï¼Œå…±äº«ç›¸åŒçš„åœ°å€ç©ºé—´&lt;/p&gt;
&lt;p&gt;(2)é€šä¿¡çº¿ç¨‹ä½äºä¸åŒçš„è¿›ç¨‹ä¸­ï¼Œæ‹¥æœ‰ä¸åŒçš„åœ°å€ç©ºé—´&lt;/p&gt;
&lt;h2 id=&#34;ç›¸åŒè¿›ç¨‹&#34;&gt;ç›¸åŒè¿›ç¨‹&lt;/h2&gt;
&lt;p&gt;å¯¹äºæƒ…å†µ(1)ï¼Œçº¿ç¨‹é—´çš„é€šä¿¡å¯ä»¥ç›´æ¥é€šè¿‡&lt;em&gt;è®¿é—®å…±äº«çš„åœ°å€ç©ºé—´&lt;/em&gt;å®ç°ä¿¡æ¯äº¤æ¢&lt;/p&gt;
&lt;h2 id=&#34;ä¸åŒè¿›ç¨‹&#34;&gt;ä¸åŒè¿›ç¨‹&lt;/h2&gt;
&lt;p&gt;å¯¹äºæƒ…å†µ(2), é‡‡ç”¨è¿›ç¨‹é—´é€šä¿¡IPC&lt;/p&gt;
&lt;p&gt;â€¢ IPCæœºåˆ¶ä¸»è¦åŒ…æ‹¬:ä¿¡å·(Signal)ã€ç®¡é“(Pipe)ã€ä¿¡å·é‡ã€å…±äº«å†…å­˜(Shared Memory)ã€æ¶ˆæ¯é˜Ÿåˆ—(Message Queue)ã€å¥—æ¥å­—(Socket)&lt;/p&gt;
&lt;p&gt;â€¢ ä¸çº¿ç¨‹é—´é€šä¿¡æœºåˆ¶ä¸åŒï¼Œè¿›ç¨‹é—´é€šä¿¡æœºåˆ¶éœ€è¦æ‰“ç ´è¿›ç¨‹é—´åœ°å€ç©ºé—´çš„éš”ç¦»&lt;/p&gt;
&lt;p&gt;æŸäº›OSå‘è¡Œç‰ˆ(.å…¶å®å°±æ˜¯æ¬§æ‹‰ )å¢åŠ çš„IPCæœºåˆ¶ï¼šå…±äº«å†…å­˜ï¼Œ æ¶ˆæ¯é€šä¿¡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…±äº«å†…å­˜æ˜¯ä¸€ç§åœ¨è¿›ç¨‹é—´é«˜æ•ˆåœ°ä¼ é€’å¤§é‡ä¿¡æ¯çš„é€šä¿¡æ–¹å¼ã€‚ä½†åœ¨å…±äº«å†…å­˜æœºåˆ¶ä¸‹ï¼Œä¿¡æ¯çš„å‘é€æ–¹ä¸å…³å¿ƒä¿¡æ¯ç”±è°æ¥æ”¶ï¼Œè€Œä¿¡æ¯çš„æ¥æ”¶æ–¹ä¹Ÿä¸å…³å¿ƒä¿¡æ¯æ˜¯ç”±è°å‘é€çš„ï¼Œè¿™å­˜åœ¨å®‰å…¨éšæ‚£ã€‚&lt;/li&gt;
&lt;li&gt;æ¶ˆæ¯ä¼ é€’å…è®¸è¿›ç¨‹ä¸å¿…é€šè¿‡å…±äº«å†…å­˜åŒºæ¥å®ç°é€šä¿¡ï¼Œè€Œæ˜¯é€šè¿‡äº¤æ¢æ¶ˆæ¯çš„æ–¹å¼æ¥å®ç°é€šä¿¡ã€‚æ¶ˆæ¯ ä¼ é€’å…³æ³¨ä¿¡æ¯çš„å‘é€è€…ä¸æ¥æ”¶è€…ï¼Œé€šè¿‡ä½¿ç”¨å†…æ ¸æ‹·è´ä¼ é€’çš„ä¿¡æ¯ï¼Œå®Œæˆè¿›ç¨‹é—´çš„ä¿¡æ¯ä¼ é€’&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://seec2-lyk.oss-cn-shanghai.aliyuncs.com/Hexo/OS/OS%20Basic/OS%20Concurrency/shared%20memory.png&#34; alt=&#34;image-20220408144852516&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;threading-api&#34;&gt;Threading API&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;man  -k pthread&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-C&#34; data-lang=&#34;C&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//p212, çº¿ç¨‹API
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;pthread.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;#34;mythreads.h&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;stdlib.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;myarg_t&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; a;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; b;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&lt;span style=&#34;color:#66d9ef&#34;&gt;myarg_t&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;myret_t&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; x;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; y;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&lt;span style=&#34;color:#66d9ef&#34;&gt;myret_t&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mythread&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;arg )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;myarg_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;m &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;myarg_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;)arg;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;printf&lt;/span&gt;( &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;args: %d %d&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;,  m &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; a, m &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; b );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;myret_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;r &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Malloc&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;sizeof&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;myret_t&lt;/span&gt; ));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    r &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    r &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;) r;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; argc, &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; argv[])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_t&lt;/span&gt;  p;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; rc;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;myret_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;m; &lt;span style=&#34;color:#75715e&#34;&gt;//å°†è¿”å›å€¼æ‰“åŒ…
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;myarg_t&lt;/span&gt; args;&lt;span style=&#34;color:#75715e&#34;&gt;//å°†å‚æ•°æ‰“åŒ…
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    args.a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    args.b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_create&lt;/span&gt;( &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;p, NULL, mythread, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;args ); 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_join&lt;/span&gt;( p, ( &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;**&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;m );&lt;span style=&#34;color:#75715e&#34;&gt;//å°†çº¿ç¨‹è¿”å›å€¼èµ‹ç»™m
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;returned: %d %d&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, m &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; x, m &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; y );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¾“å‡ºä¸ºï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;args: 10 20
returned: 1 2
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;çº¿ç¨‹åˆ›å»º&#34;&gt;çº¿ç¨‹åˆ›å»º&lt;/h2&gt;
&lt;p&gt;&lt;code&gt; &amp;lt;pthread.h&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/* Create a new thread, starting with execution of START-ROUTINE
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;   getting passed ARG.  Creation attributed come from ATTR.  The new
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;   handle is stored in *NEWTHREAD.  */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;extern&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_create&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__restrict __newthread, &lt;span style=&#34;color:#75715e&#34;&gt;//çº¿ç¨‹çš„æŒ‡é’ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;			   &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_attr_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__restrict __attr, &lt;span style=&#34;color:#75715e&#34;&gt;//çº¿ç¨‹å…·æœ‰çš„å±æ€§ï¼ŒåŒ…æ‹¬æ ˆå¤§å°ï¼Œä¼˜å…ˆçº§ç­‰ã€‚ ä¸€èˆ¬ä¼ å…¥NULL
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;			   &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__start_routine) (&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;),&lt;span style=&#34;color:#75715e&#34;&gt;//çº¿ç¨‹è¦è¿è¡Œçš„å‡½æ•°çš„æŒ‡é’ˆï¼Œæ¥å—void*å‚æ•°ï¼Œè¿”å› void* //å¯ä»¥è‡ªç”±æ›´æ”¹å‚æ•°/è¿”å›ç±»å‹
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;			   &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__restrict __arg) __THROWNL &lt;span style=&#34;color:#a6e22e&#34;&gt;__nonnull&lt;/span&gt; ((&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;));&lt;span style=&#34;color:#75715e&#34;&gt;//å‡½æ•°çš„å‚æ•°ï¼Œå¯ä¼ å…¥ç»“æ„ä½“ï¼Œä»¥å®ç°ä¼ å…¥å¤šä¸ªå‚æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;çº¿ç¨‹å®Œæˆ&#34;&gt;çº¿ç¨‹å®Œæˆ&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/* Make calling thread wait for termination of the thread TH.  The
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;   exit status of the thread is stored in *THREAD_RETURN, if THREAD_RETURN
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;   is not NULL.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;   This function is a cancellation point and therefore not marked with
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;   __THROW.  */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;extern&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_join&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_t&lt;/span&gt; __th, &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;**&lt;/span&gt;__thread_return);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯çº¿ç¨‹çš„æŒ‡é’ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;ç¬¬äºŒä¸ªå‚æ•°æ˜¯çº¿ç¨‹è¿è¡Œçš„å‡½æ•°çš„è¿”å›å€¼çš„æŒ‡é’ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;*/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;é”&#34;&gt;é”&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//ä¸Šé”å’Œè§£é”
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;extern&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_lock&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_mutex_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__mutex)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;extern&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_unlock&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_mutex_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__mutex)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//é”å¿…é¡»åˆå§‹åŒ–ï¼Œä¸¤ç§æ–¹å¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_mutex_t&lt;/span&gt; lock &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; PTHREAD_MUTEX_INITIALIZER;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_init&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;lock, NULL)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//é”ä½¿ç”¨å®Œåå¿…é¡»é”€æ¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;extern&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_destroy&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_mutex_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__mutex)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//mythread.h
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;pthread.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;stdlib.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;assert.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_cond_t&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;cond_t&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_mutex_t&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;mutex_t&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_create&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__restrict __newthread,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			   &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; __attr,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			   &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__start_routine) (&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			   &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__restrict __arg)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; rc &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_create&lt;/span&gt;( __newthread, __attr, __start_routine, __arg );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;assert&lt;/span&gt;( rc &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_join&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_t&lt;/span&gt; __th, &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;**&lt;/span&gt;__thread_return)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; rc &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_join&lt;/span&gt;( __th, __thread_return );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#a6e22e&#34;&gt;assert&lt;/span&gt;( rc &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Malloc&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;unsigned&lt;/span&gt; size)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;malloc&lt;/span&gt;(size);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_lock&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_mutex_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;mutex )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; rc &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_lock&lt;/span&gt;(mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#a6e22e&#34;&gt;assert&lt;/span&gt;( rc &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_unlock&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_mutex_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;mutex )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; rc &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_unlock&lt;/span&gt;(mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#a6e22e&#34;&gt;assert&lt;/span&gt;( rc &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_init&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_mutex_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__mutex,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			       &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__mutexattr )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; rc &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_init&lt;/span&gt;(__mutex, NULL);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#a6e22e&#34;&gt;assert&lt;/span&gt;( rc &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_destroy&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_mutex_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__mutex )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; rc &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_destroy&lt;/span&gt;(__mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#a6e22e&#34;&gt;assert&lt;/span&gt;( rc &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_init&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_cond_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__restrict __cond,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			      &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__restrict __cond_attr )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; rc &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_cond_init&lt;/span&gt;( __cond, __cond_attr);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#a6e22e&#34;&gt;assert&lt;/span&gt;( rc &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;cond_destroy&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_cond_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__restrict __cond )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; rc &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_cond_destroy&lt;/span&gt;(__cond);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#a6e22e&#34;&gt;assert&lt;/span&gt;( rc &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_wait&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_cond_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__restrict __cond,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			      &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_mutex_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__restrict __mutex)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; rc &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_cond_wait&lt;/span&gt;(__cond, __mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;assert&lt;/span&gt;(rc &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_signal&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_cond_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__cond)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; rc &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_cond_signal&lt;/span&gt;(__cond);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;assert&lt;/span&gt;( rc&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½¿ç”¨é”ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_mutex_t&lt;/span&gt; lock;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_init&lt;/span&gt;( &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;lock ,NULL );&lt;span style=&#34;color:#75715e&#34;&gt;//åˆå§‹åŒ–é”
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_lock&lt;/span&gt;( &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;lock );&lt;span style=&#34;color:#75715e&#34;&gt;//ä¸Šé”ï¼Œ å¦‚æœé”å·²ç»è¢«å…¶ä»–çº¿ç¨‹æŒæœ‰ï¼Œé‚£ä¹ˆè¯¥è°ƒç”¨ä¸ä¼šè¿”å›ï¼Œç›´åˆ°è·å¾—è¯¥é”ï¼ˆæ„å‘³ç€æŒæœ‰è¯¥é”çš„çº¿ç¨‹å·²ç»å°†é”é‡Šæ”¾ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_unlock&lt;/span&gt;( &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;lock );
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;æ¡ä»¶å˜é‡&#34;&gt;æ¡ä»¶å˜é‡&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/* Wait for condition variable COND to be signaled or broadcast.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;   MUTEX is assumed to be locked before.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;   This function is a cancellation point and therefore not marked with
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;   __THROW.  */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;extern&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_cond_wait&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_cond_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__restrict __cond,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			      &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_mutex_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__restrict __mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			      
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/* Wake up one thread waiting for condition variable COND.  */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;extern&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_cond_signal&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_cond_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__cond);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//æ¡ä»¶å˜é‡ä¹Ÿå¿…é¡»åˆå§‹åŒ–ï¼Œä¸é”ç±»ä¼¼ï¼Œä¸¤ç§æ–¹å¼ï¼š 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_cond_t&lt;/span&gt; cond &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; PTHREAD_COND_INITIALIZER;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_cond_init&lt;/span&gt;( __cond, __cond_attr);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//é”€æ¯ä¹Ÿç±»ä¼¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/* Destroy condition variable COND.  */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;extern&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_cond_destroy&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_cond_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__cond);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//mythreads.h
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_init&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_cond_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__restrict __cond,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			      &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__restrict __cond_attr )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; rc &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_cond_init&lt;/span&gt;( __cond, __cond_attr);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#a6e22e&#34;&gt;assert&lt;/span&gt;( rc &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;cond_destroy&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_cond_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;__restrict __cond )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; rc &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_cond_destroy&lt;/span&gt;(__cond);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#a6e22e&#34;&gt;assert&lt;/span&gt;( rc &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;lock&#34;&gt;Lock&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é”çš„çŠ¶æ€ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;available&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;acquired&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ–¹æ³•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;lock()&lt;/code&gt;: å°è¯•è·å–é”ï¼Œå¦‚æœé”æ˜¯&lt;code&gt;available&lt;/code&gt;ï¼Œåˆ™è·å–é”ï¼Œè¿›å…¥ä¸´ç•ŒåŒº&lt;/li&gt;
&lt;li&gt;&lt;code&gt;unlock()&lt;/code&gt;: ä½¿é”&lt;code&gt;available&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é”æä¾›äº†æœ€å°ç¨‹åº¦çš„è°ƒåº¦æ§åˆ¶&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;çº¿ç¨‹ç”±OSè°ƒåº¦ï¼Œ é”è®©ç¨‹åºå‘˜è·å¾—äº†ä¸€äº›æ§åˆ¶æƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é€šå¸¸ç”¨ä¸åŒçš„é”ä¿æŠ¤ä¸åŒçš„æ•°æ®ï¼ˆ ç»†ç²’åº¦çš„æ–¹æ¡ˆ ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è¯„ä»·é”&#34;&gt;è¯„ä»·é”&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;æœ‰æ•ˆæ€§ï¼š æä¾›äº’æ–¥&lt;/li&gt;
&lt;li&gt;å…¬å¹³æ€§&lt;code&gt;fairness&lt;/code&gt;:  å½“é”å¯ç”¨æ—¶ï¼Œæ˜¯å¦æ¯ä¸€ä¸ªç«äº‰çº¿ç¨‹æœ‰å…¬å¹³çš„æœºä¼šæŠ¢åˆ°é”
&lt;ul&gt;
&lt;li&gt;æ˜¯å¦æœ‰ç«äº‰é”çš„çº¿ç¨‹ä¼šé¥¿æ­»&lt;code&gt;starve&lt;/code&gt;?&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ€§èƒ½&lt;code&gt; performance&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æ§åˆ¶ä¸­æ–­&#34;&gt;æ§åˆ¶ä¸­æ–­&lt;/h2&gt;
&lt;p&gt;æœ€æ—©æä¾›çš„äº’æ–¥è§£å†³æ–¹æ¡ˆä¹‹ä¸€ï¼Œå°±æ˜¯åœ¨ä¸´ç•ŒåŒºå…³é—­ä¸­æ–­ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lock&lt;/span&gt;(){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;DisableInterrupts&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unlock&lt;/span&gt;(){
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;EnableInterrupts&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‡è®¾åœ¨å•CPUç³»ç»Ÿä¸Šï¼Œè¿™æ®µä»£ç åœ¨ä¸´ç•ŒåŒºå…³é—­ä¸­æ–­ï¼Œä»è€ŒåŸå­åœ°æ‰§è¡Œï¼Œç»“æŸååˆé‡æ–°æ‰“å¼€ä¸­æ–­&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éœ€è¦å…è®¸æ‰€æœ‰çº¿ç¨‹æ‰§è¡Œç‰¹æƒæ“ä½œï¼ˆå¼€å…³ä¸­æ–­ï¼‰
&lt;ul&gt;
&lt;li&gt;å³ï¼Œéœ€è¦ä¿¡ä»»æœºåˆ¶ä¸è¢«æ»¥ç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒå¤šå¤„ç†å™¨
&lt;ul&gt;
&lt;li&gt;ä¸­æ–­çš„å¼€å…³åªæ˜¯å¯¹CPUè€Œè¨€ï¼Œå¦‚æœä¸€ä¸ªå¤šä¸ªçº¿ç¨‹è¿è¡Œåœ¨ä¸åŒCPUä¸Šï¼Œå…¶ä¸­ä¸€ä¸ªCPUå…³é—­ä¸­æ–­ï¼Œå…¶ä»–CPUä¾ç„¶å“åº”ä¸­æ–­ï¼Œåœ¨å…¶ä¸Šçš„çº¿ç¨‹ä¾ç„¶èƒ½è¿›å…¥ä¸´ç•ŒåŒº&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å…³ä¸­æ–­å¯¼è‡´&lt;strong&gt;ä¸­æ–­ä¸¢å¤±&lt;/strong&gt;ï¼Œå¯èƒ½å¯¼è‡´ä¸¥é‡çš„ç³»ç»Ÿé—®é¢˜
&lt;ul&gt;
&lt;li&gt;æ¯”å¦‚ç£ç›˜å®Œæˆäº†è¯»å–è¯·æ±‚ï¼Œä½†CPUé”™å¤±äº†è¯¥æ¶ˆæ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å› æ­¤ï¼Œç”¨&lt;strong&gt;å…³ä¸­æ–­æ¥å®ç°äº’æ–¥åŸè¯­&lt;/strong&gt;çš„æƒ…å†µå¾ˆæœ‰é™&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœ‰äº›æƒ…å†µä¸‹OSè‡ªèº«ä¼šé‡‡ç”¨å…³ä¸­æ–­çš„æ–¹å¼æ¥ä¿è¯è®¿é—®æ•°æ®çš„åŸå­æ€§ï¼Œæ­¤æ—¶è¯¥ç”¨æ³•æ˜¯å¯è¡Œçš„ï¼Œå› ä¸ºOSå†…éƒ¨ä¸å­˜åœ¨ä¿¡ä»»é—®é¢˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¾ˆå¤šäººçƒ­è¡·äºç ”ç©¶ä¸ä¾èµ–ç¡¬ä»¶å®ç°çš„é”æœºåˆ¶ï¼Œäº‹å®è¯æ˜ï¼Œåªéœ€å¾ˆå°‘çš„ç¡¬ä»¶æ”¯æŒï¼Œå®ç°é”å°±ä¼šå®¹æ˜“å¾ˆå¤š&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;test-and-set&#34;&gt;test-and-set&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;test-and-set instruction&lt;/code&gt;,  ä¹Ÿç§°ä¸º&lt;code&gt;atomic exchange&lt;/code&gt;,  ç”±ç¡¬ä»¶æ”¯æŒ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å…ˆå®ç°ä¸€ä¸ªä¸ä¾èµ–å®ƒçš„é”ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//æƒ³æ³•æ˜¯ï¼š ç”¨ä¸€ä¸ªflagæ¥è¡¨ç¤ºé”æ˜¯å¦è¢«å ç”¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;lock_t&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; flag; ) &lt;span style=&#34;color:#66d9ef&#34;&gt;lock_t&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;init&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;lock_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;mutex )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    mutex &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; flag &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; &lt;span style=&#34;color:#75715e&#34;&gt;// 0 -&amp;gt; lock is available
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lock&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;lock_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;mutex )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt;( mutex &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; flag &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ; &lt;span style=&#34;color:#75715e&#34;&gt;// spin-wait( do nothing )
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    mutex &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; flag &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unlock&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;lock_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;mutex )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    mutex &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; flag &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è¿™æ®µä»£ç æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ­£ç¡®æ€§ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Thread`&lt;/th&gt;
&lt;th&gt;Thread2&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;( åˆå§‹æ—¶ï¼Œflag == 0 )  call lock()&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;while( flag == 1 )&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;interrupt: switch to Thread2&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;call lock()&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;while( flag == 1 )&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;flag = 1;&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;interrupt: switch to Thread 1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;flag = 1( too ! )&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ€§èƒ½é—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿™ä¸ªé”æ˜¯&lt;strong&gt;è‡ªæ—‹&lt;/strong&gt;çš„ï¼Œä¸€ä¸ªçº¿ç¨‹è‡ªæ—‹ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹é‡Šæ”¾é”ï¼Œæµªè´¹æ—¶é—´
&lt;ul&gt;
&lt;li&gt;å¯¹äºå•CPUï¼Œå› ä¸ºåŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œä¸”è‡ªæ—‹çš„çº¿ç¨‹æ°¸è¿œä¸ä¼šæ”¾å¼ƒCPU,æœ¬çº¿ç¨‹è‡ªæ—‹æ—¶ï¼ŒæŒæœ‰é”çš„çº¿ç¨‹æ ¹æœ¬æ— æ³•è¿è¡Œï¼Œä¹Ÿä¸å¯èƒ½é‡Šæ”¾é”
&lt;ul&gt;
&lt;li&gt;éœ€è¦æŠ¢å å¼çš„è°ƒåº¦å™¨ï¼ˆ &lt;code&gt; preemptive scheduler&lt;/code&gt; , å³ä¸æ–­é€šè¿‡æ—¶é’Ÿä¸­æ–­ä¸€ä¸ªçº¿ç¨‹ï¼Œè¿è¡Œå…¶ä»–çº¿ç¨‹ )&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç”¨test-and-setå®ç°é”&#34;&gt;ç”¨test-and-setå®ç°é”&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨x86ä¸Šç§°ä¸º &lt;code&gt;xchg&lt;/code&gt;æŒ‡ä»¤ï¼Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;```c
int TestAndSet( int *old_ptr, int new )
{
    int old = *old_ptr;
    *old_ptr = new;
    return old;
}// è¿”å›old_ptræŒ‡å‘çš„æ—§å€¼ï¼Œå°†old_ptræŒ‡å‘æ–°å€¼
```

ç¡¬ä»¶ä¿è¯ï¼Œä¸Šè¿°æ“ä½œæ˜¯åŸå­çš„
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¯ä»¥ç†è§£ä¸ºï¼šä¸€ä¸ªå•æ‰€é—¨ä¸ŠæŒ‚ç€é’¥åŒ™(&lt;code&gt;0&lt;/code&gt;)ï¼Œä¸¤ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªåç‰Œ(&lt;code&gt;1&lt;/code&gt;)ï¼Œç”¨æˆ·æ¯æ¬¡è¿›å‡ºå•æ‰€ï¼Œéœ€è¦æ‹¿æ‰‹ä¸Šçš„ä¸œè¥¿å’Œé—¨ä¸Šçš„ä¸œè¥¿äº¤æ¢ï¼Œç”¨æˆ·éœ€è¦æ‹¿åˆ°é’¥åŒ™æ‰èƒ½è¿›å•æ‰€ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç”¨æˆ·ä¸€æ‹¿åç‰Œå’Œé’¥åŒ™äº¤æ¢ï¼Œæ‹¿ç€é’¥åŒ™è¿›äº†å•æ‰€&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”¨æˆ·äºŒæ‹¿åç‰Œäº¤æ¢ï¼Œæ­¤æ—¶é—¨ä¸Šæ˜¯åç‰Œï¼Œç”¨æˆ·äºŒæ²¡æœ‰æ‹¿åˆ°é’¥åŒ™ï¼Œæ— æ³•è¿›å•æ‰€&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä»–ä¼šä¸€ç›´äº¤æ¢ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt;( &lt;span style=&#34;color:#a6e22e&#34;&gt;TestAndSet&lt;/span&gt;( &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;lock &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; flag, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; ) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	; &lt;span style=&#34;color:#75715e&#34;&gt;//spin
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”¨æˆ·ä¸€ä»å•æ‰€å‡ºæ¥ï¼Œæ‹¿åç‰Œå’Œæ‰‹ä¸Šçš„é’¥åŒ™äº¤æ¢ï¼Œæ­¤æ—¶é—¨ä¸Šåˆæœ‰é’¥åŒ™äº†&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚ä¸Šè¿°&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¯„ä»·è‡ªæ—‹é”ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœ‰æ•ˆæ€§ï¼šOK
&lt;ul&gt;
&lt;li&gt;å…¬å¹³æ€§ï¼šä¸æä¾›ä»»ä½•å…¬å¹³æ€§ä¿è¯( å¯¹&lt;code&gt;test-and-set&lt;/code&gt;è€Œè¨€ )&lt;/li&gt;
&lt;li&gt;æ€§èƒ½ï¼š å•æ ¸ä¸‹å¾ˆå·®ï¼Œå¤šæ ¸ä¸‹è¿˜ä¸é”™&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;compare-and-exchange&#34;&gt;compare-and-exchange&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æŸäº›ç³»ç»Ÿæä¾›äº†å¦ä¸€ä¸ªç¡¬ä»¶åŸè¯­: &lt;code&gt;compare-and-exchange&lt;/code&gt;( on x86 )&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//è¿”å›ptræŒ‡å‘çš„æ—§å€¼ï¼Œå°†ptræŒ‡å‘æ–°å€¼ï¼ˆå¦‚æœæ—§å€¼ä¸æœŸæœ›å€¼ç›¸ç­‰çš„è¯ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;CompareAndExchange&lt;/span&gt;(  &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;ptr, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; expected, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; new )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; actual &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;ptr;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;( actual &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; expected )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; new;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; actual;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯¥æŒ‡ä»¤æ¯”&lt;code&gt;test-and-set&lt;/code&gt;æ›´å¼ºå¤§&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;fetch-and-add&#34;&gt;fetch-and-add&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;FetchAndAdd&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;ptr )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; old &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;ptr;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; old &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; old;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;lock_t&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; ticket;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; turn;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;} &lt;span style=&#34;color:#66d9ef&#34;&gt;lock_t&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lock_init&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;lock_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;lock )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    lock &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; ticket &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    lock &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; turn &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lock&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;lock_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;lock)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; myturn &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;FetchAndAdd&lt;/span&gt;( &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;lock&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;ticket );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt;( lock&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; turn &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; myturn )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        ; &lt;span style=&#34;color:#75715e&#34;&gt;//spin
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unlock&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;lock_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;lock )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;FetchAndAdd&lt;/span&gt;( &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;lock&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; turn );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è§£é‡Šï¼š&lt;code&gt;ticket&lt;/code&gt;æ˜¯ä¸€ä¸ªå…¨å±€çš„å·ç ï¼Œ&lt;code&gt;turn&lt;/code&gt;æ˜¯å…¨å±€çš„è½®æ¬¡ã€‚ æ¯ä¸ªç”¨æˆ·ä»ticketå¾—åˆ°è‡ªå·±çš„&lt;code&gt;turn&lt;/code&gt;ï¼Œ æ¯äº¤æ˜“ä¸€æ¬¡ï¼Œ&lt;code&gt;ticket++&lt;/code&gt;. åªæœ‰åˆ°è¾¾è‡ªå·±çš„turnçš„ç”¨æˆ·æ‰èƒ½è¿›å…¥ä¸´ç•ŒåŒºï¼Œæ¯å½“ä¸€ä¸ªç”¨æˆ·ä»ä¸´ç•ŒåŒºå‡ºæ¥ï¼Œ &lt;code&gt;turn++&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;myturn &amp;lt; turn&lt;/code&gt;çš„ç”¨æˆ·åªèƒ½è‡ªæ—‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœ¬æ–¹æ³•èƒ½ä¿è¯æ‰€æœ‰çº¿ç¨‹éƒ½èƒ½æŠ¢åˆ°é”ï¼Œåªè¦ä¸€ä¸ªçº¿ç¨‹è·å¾—äº†&lt;code&gt;ticket&lt;/code&gt;ï¼Œå°±èƒ½è¢«è°ƒåº¦&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;test-and-set&lt;/code&gt;æ— æ³•ä¿è¯&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è‡ªæ—‹è¿‡å¤šçš„è§£å†³æ–¹æ¡ˆ&#34;&gt;è‡ªæ—‹è¿‡å¤šçš„è§£å†³æ–¹æ¡ˆ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;æˆ‘ä»¬å·²ç»å®ç°äº†æœ‰æ•ˆã€å…¬å¹³ï¼ˆ å€ŸåŠ©&lt;code&gt;ticket&lt;/code&gt;ï¼‰çš„é”ï¼Œä½†è‡ªæ—‹ä¼šå¯¼è‡´æ€§èƒ½é™ä½
&lt;ul&gt;
&lt;li&gt;è‡ªæ—‹ä¼šé‡å¤æ£€æŸ¥ä¸€ä¸ªä¸ä¼šæ”¹å˜çš„å€¼ï¼Œæµªè´¹CPUæ—¶é—´&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ–¹æ¡ˆä¸€--yield&#34;&gt;æ–¹æ¡ˆä¸€  yield&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨è¦è‡ªæ—‹çš„æ—¶å€™ï¼Œæ”¾å¼ƒCPU&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lock&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt;( &lt;span style=&#34;color:#a6e22e&#34;&gt;TestAndSet&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;flag, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; ) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#a6e22e&#34;&gt;yield&lt;/span&gt;(); &lt;span style=&#34;color:#75715e&#34;&gt;//give up the CPU
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;å‡å®šOSæä¾›åŸè¯­&lt;code&gt;yield()&lt;/code&gt;ï¼Œå¯ä»¥è®©çº¿ç¨‹ä»&lt;code&gt;running&lt;/code&gt;å˜ä¸º&lt;code&gt;ready&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;æœ¬è´¨ä¸Šï¼Œå°±æ˜¯&lt;code&gt;deschedule&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å‡è®¾100ä¸ªçº¿ç¨‹ç«äº‰1ä¸ªé”ï¼Œè¯¥æ–¹æ¡ˆä¼š&lt;code&gt;yield&lt;/code&gt;99æ¬¡ï¼Œæ¯”è‡ªæ—‹99æ¬¡å¥½ï¼Œä½†ä»ä¸å¤Ÿå®Œç¾&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ–¹æ¡ˆäºŒ-ä½¿ç”¨é˜Ÿåˆ—-ä¼‘çœ ä»£æ›¿è‡ªæ—‹&#34;&gt;æ–¹æ¡ˆäºŒ ä½¿ç”¨é˜Ÿåˆ—ï¼š ä¼‘çœ ä»£æ›¿è‡ªæ—‹&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;lock_t&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; flag;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; guard;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;queue_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;q;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;    } &lt;span style=&#34;color:#66d9ef&#34;&gt;lock_t&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lock_init&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;lock_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;m) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;        m&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;flag &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;        m&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;guard &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;queue_init&lt;/span&gt;(m&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;q);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;12&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;13&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lock&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;lock_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;m) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;14&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;TestAndSet&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;m&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;guard, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt;           ; &lt;span style=&#34;color:#75715e&#34;&gt;//acquire guard lock by spinning
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (m&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;flag &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;17&lt;/span&gt;           m&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;flag &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;; &lt;span style=&#34;color:#75715e&#34;&gt;// lock is acquired
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;18&lt;/span&gt;           m&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;guard &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;19&lt;/span&gt;       } &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;           &lt;span style=&#34;color:#a6e22e&#34;&gt;queue_add&lt;/span&gt;(m&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;q, &lt;span style=&#34;color:#a6e22e&#34;&gt;gettid&lt;/span&gt;());
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;21&lt;/span&gt;           m&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;guard &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;22&lt;/span&gt;           &lt;span style=&#34;color:#a6e22e&#34;&gt;park&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;23&lt;/span&gt;       }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;24&lt;/span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;25&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;26&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unlock&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;lock_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;m) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;27&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;TestAndSet&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;m&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;guard, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;28&lt;/span&gt;           ; &lt;span style=&#34;color:#75715e&#34;&gt;//acquire guard lock by spinning
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;29&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;queue_empty&lt;/span&gt;(m&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;q))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;30&lt;/span&gt;           m&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;flag &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; &lt;span style=&#34;color:#75715e&#34;&gt;// let go of lock; no one wants it
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;31&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;32&lt;/span&gt;           &lt;span style=&#34;color:#a6e22e&#34;&gt;unpark&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;queue_remove&lt;/span&gt;(m&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;q)); &lt;span style=&#34;color:#75715e&#34;&gt;// hold lock (for next thread!)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;33&lt;/span&gt;       m&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;guard &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;34&lt;/span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;çœ‹ä¸æ‡‚QAQ,ä¸ºå•¥unparkçš„æ—¶å€™ä¸æŠŠflagè®¾ä¸º0å•Šï¼Œè¿™æ ·æ‰€æœ‰å…¶ä»–è¿›ç¨‹éƒ½æ— æ³•è·å¾—é”&lt;/p&gt;
&lt;h1 id=&#34;concurrent-data-structure-based-on-lock&#34;&gt;Concurrent Data Structure Based on Lock&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡é”ä½¿å¾—æ•°æ®&lt;code&gt;thread safe&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¯æ‰©å±•æ€§ï¼š ç†æƒ³çŠ¶æ€ä¸‹çš„å¤šçº¿ç¨‹çš„æ¯ä¸ªçº¿ç¨‹å°±å’Œå•çº¿ç¨‹ä¸€æ ·å¿«ï¼ŒäºŒè€…çš„æ¯”å€¼å°±æ˜¯å¹¶å‘æ–¹æ³•çš„&lt;strong&gt;æ‰©å±•æ€§&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å¹¶å‘è®¡æ•°å™¨&#34;&gt;å¹¶å‘è®¡æ•°å™¨&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;counter_t&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;            value;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_mutex_t&lt;/span&gt; lock;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;    } &lt;span style=&#34;color:#66d9ef&#34;&gt;counter_t&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;init&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;counter_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;c) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;        c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;value &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_init&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock,  NULL);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;increment&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;counter_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;c) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;12&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;13&lt;/span&gt;       c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;value&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;14&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;17&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;decrement&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;counter_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;c) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;18&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;19&lt;/span&gt;       c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;value&lt;span style=&#34;color:#f92672&#34;&gt;--&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;21&lt;/span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;22&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;23&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;get&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;counter_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;c) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;24&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;25&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; rc &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;value;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;26&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;27&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; rc;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;28&lt;/span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;æ€§èƒ½ä¸€èˆ¬&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æ‰©å±•å¹¶å‘è®¡æ•°å™¨&#34;&gt;æ‰©å±•å¹¶å‘è®¡æ•°å™¨&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ‡’æƒ°è®¡æ•°å™¨&lt;code&gt;sloopy counter&lt;/code&gt;:  ä¾‹å¦‚ï¼Œåœ¨4CPUæœºå™¨ä¸Šï¼Œæœ‰å››ä¸ªå±€éƒ¨è®¡æ•°å™¨å’Œä¸€ä¸ªå…¨å±€è®¡æ•°å™¨ï¼Œæ¯ä¸ªè®¡æ•°å™¨æœ‰ä¸€æŠŠé”ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸åŒCPUä¸Šçš„è®¡æ•°å™¨ä¸ä¼šç«äº‰&lt;/li&gt;
&lt;li&gt;ä¸ºäº†ä¿æŒå…¨å±€è®¡æ•°å™¨æ›´æ–°ï¼Œå¦‚æœå±€éƒ¨å€¼å¤§äºé˜ˆå€¼Sï¼Œå±€éƒ¨å€¼å°±è¦è½¬ç§»åˆ°å…¨å±€å€¼ï¼ˆæ­¤æ—¶è¦è·å–å…¨å±€é”ï¼‰
&lt;ul&gt;
&lt;li&gt;é˜ˆå€¼è¶Šå¤§ï¼Œå¯æ‰©å±•æ€§è¶Šå¥½ï¼Œä½†è®¡æ—¶å™¨ç²¾åº¦æ›´ä½&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;counter_t&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;             global;            &lt;span style=&#34;color:#75715e&#34;&gt;// global count
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_mutex_t&lt;/span&gt; glock;             &lt;span style=&#34;color:#75715e&#34;&gt;// global lock
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;             local[NUMCPUS];    &lt;span style=&#34;color:#75715e&#34;&gt;// local count (per cpu)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_mutex_t&lt;/span&gt; llock[NUMCPUS];    &lt;span style=&#34;color:#75715e&#34;&gt;// ... and locks
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;             threshold;         &lt;span style=&#34;color:#75715e&#34;&gt;// update frequency
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;    } &lt;span style=&#34;color:#66d9ef&#34;&gt;counter_t&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// init: record threshold, init locks, init values
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;//       of all local counts and global count
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;init&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;counter_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;c, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; threshold) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;12&lt;/span&gt;       c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;threshold &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; threshold;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;13&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;14&lt;/span&gt;       c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;global &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_init&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;glock,  NULL);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;17&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;18&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; (i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; NUMCPUS; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;19&lt;/span&gt;           c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;local[i] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;           &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_init&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;llock[i],  NULL);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;21&lt;/span&gt;       }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;22&lt;/span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;23&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;24&lt;/span&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;// update: usually, just grab local lock and update local amount
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;25&lt;/span&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;//        once local count has risen by &amp;#39;threshold&amp;#39;, grab global
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;26&lt;/span&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;//        lock and transfer local values to it
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;27&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;update&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;counter_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;c, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; threadID, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; amt) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;28&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;llock[threadID]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;29&lt;/span&gt;       c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;local[threadID] &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; amt;               &lt;span style=&#34;color:#75715e&#34;&gt;// assumes amt &amp;gt; 0
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;30&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;if&lt;/span&gt; (c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;local[threadID] &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;threshold) { &lt;span style=&#34;color:#75715e&#34;&gt;// å±€éƒ¨å€¼å¤§äºé˜ˆå€¼ï¼Œtransfer to global
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;31&lt;/span&gt;           &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;glock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;32&lt;/span&gt;           c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;global &lt;span style=&#34;color:#f92672&#34;&gt;+=&lt;/span&gt; c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;local[threadID];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;33&lt;/span&gt;           &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;glock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;34&lt;/span&gt;           c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;local[threadID] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;&lt;span style=&#34;color:#75715e&#34;&gt;//æœ¬åœ°å€¼æ¸…0, æ³¨æ„åˆ°ä¸ä¼šä¸å…¶ä»–cpuä¸Šçš„çº¿ç¨‹ç«äº‰ï¼Œå› æ­¤æ˜¯å®‰å…¨çš„
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;35&lt;/span&gt;       }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;36&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;llock[threadID]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;37&lt;/span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;38&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;39&lt;/span&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;// get: just return global amount (which may not be perfect)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;40&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;get&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;counter_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;c) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;41&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;glock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;42&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; val &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;global;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;43&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;c&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;glock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;44&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; val; &lt;span style=&#34;color:#75715e&#34;&gt;// only approximate!
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;45&lt;/span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å¹¶å‘é“¾è¡¨&#34;&gt;å¹¶å‘é“¾è¡¨&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// basic node structureï¼Œå•é“¾è¡¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;node_t&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;                key;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;node_t&lt;/span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;next;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;    } &lt;span style=&#34;color:#66d9ef&#34;&gt;node_t&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// basic list structure (one used per list)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;list_t&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;node_t&lt;/span&gt;                &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;head;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_mutex_t&lt;/span&gt;    lock;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;   } &lt;span style=&#34;color:#66d9ef&#34;&gt;list_t&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;12&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;13&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;List_Init&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;list_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;L) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;14&lt;/span&gt;       L&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;head &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; NULL;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_init&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;L&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock,  NULL);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;17&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;18&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;List_Insert&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;list_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;L, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; key) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;19&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;L&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;node_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;new &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;malloc&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;sizeof&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;node_t&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;21&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (new &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; NULL) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;22&lt;/span&gt;           &lt;span style=&#34;color:#a6e22e&#34;&gt;perror&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;malloc&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;23&lt;/span&gt;           &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;L&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock); &lt;span style=&#34;color:#75715e&#34;&gt;//mallocå¤±è´¥ï¼Œè®°å¾—é‡Šæ”¾é”ï¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;24&lt;/span&gt;           &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;; &lt;span style=&#34;color:#75715e&#34;&gt;// fail
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;25&lt;/span&gt;       }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;26&lt;/span&gt;       new&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;key &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; key;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;27&lt;/span&gt;       new&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;next &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; L&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;head;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;28&lt;/span&gt;       L&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;head &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; new;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;29&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;L&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;30&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; &lt;span style=&#34;color:#75715e&#34;&gt;// success
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;31&lt;/span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;32&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;33&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;List_Lookup&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;list_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;L, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; key) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;34&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;L&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;35&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;node_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;curr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; L&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;head;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;36&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; (curr) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;37&lt;/span&gt;           &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (curr&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;key &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; key) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;38&lt;/span&gt;               &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;L&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock); &lt;span style=&#34;color:#75715e&#34;&gt;//åœ¨æ„å¤–é€€å‡ºæ—¶unlock
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;39&lt;/span&gt;               &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; &lt;span style=&#34;color:#75715e&#34;&gt;// success
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;40&lt;/span&gt;           }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;41&lt;/span&gt;           curr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; curr&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;next;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;42&lt;/span&gt;       }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;43&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;L&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;44&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;; &lt;span style=&#34;color:#75715e&#34;&gt;// failure
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;45&lt;/span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;åœ¨å¼€å¤´lock,ç»“å°¾unlock, æ³¨æ„åˆ°&lt;code&gt;malloc&lt;/code&gt;å¤±è´¥åä¹Ÿè¦è®°å¾—unlock
&lt;ul&gt;
&lt;li&gt;è¿™ç§åœ¨ä»£ç ä¸­å¤šæ¬¡unlockçš„å†™æ³•å¾ˆä¸‘é™‹ï¼ åº”è¯¥ä¿®æ”¹
&lt;ul&gt;
&lt;li&gt;è¦ä¹ˆå‡ºé”™çš„åœ°æ–¹ä¸è¦æ”¾åœ¨ä¸´ç•ŒåŒº&lt;/li&gt;
&lt;li&gt;è¦ä¹ˆå‡ºé”™æ—¶breakåˆ°ä¸»å¾ªç¯ï¼Œåœ¨ä¸»å¾ªç¯å†…ç»Ÿä¸€unlock&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è¿™æ˜¯ç²—ç²’åº¦çš„å†™æ³•ï¼Œå¯ä»¥æ›´ç»†ç²’åº¦åœ°ä¼˜åŒ–ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;18&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;List_Insert&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;list_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;L, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; key) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;19&lt;/span&gt;      &lt;span style=&#34;color:#75715e&#34;&gt;//localçš„æ•°æ®ï¼Œä¸éœ€è¦é”ä¿æŠ¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;node_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;new &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;malloc&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;sizeof&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;node_t&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;21&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (new &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; NULL) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;22&lt;/span&gt;           &lt;span style=&#34;color:#a6e22e&#34;&gt;perror&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;malloc&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;23&lt;/span&gt;           &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;L&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock); &lt;span style=&#34;color:#75715e&#34;&gt;//å‡ºé”™æ—¶ä¸åœ¨ä¸´ç•ŒåŒºï¼Œæ— éœ€unlock
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;24&lt;/span&gt;           &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;25&lt;/span&gt;       }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;26&lt;/span&gt;       new&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;key &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; key;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;27&lt;/span&gt;    	&lt;span style=&#34;color:#75715e&#34;&gt;//just lock critical section !!!!!
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;28&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;L&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;29&lt;/span&gt;       new&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;next &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; L&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;head;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;30&lt;/span&gt;       L&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;head &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; new;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;31&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;L&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;32&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;33&lt;/span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;33&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;List_Lookup&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;list_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;L, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; key) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    	 &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; rv &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;&lt;span style=&#34;color:#75715e&#34;&gt;// success / failure
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;34&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;L&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;35&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;node_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;curr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; L&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;head;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;36&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; (curr) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;37&lt;/span&gt;           &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (curr&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;key &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; key) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;38&lt;/span&gt;               rv&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;39&lt;/span&gt;               &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;; &lt;span style=&#34;color:#75715e&#34;&gt;// è·³å‡ºä¸»å¾ªç¯ï¼Œåœ¨ä¸»å¾ªç¯å†…ç»Ÿä¸€unlock ï¼ï¼ï¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;40&lt;/span&gt;           }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;41&lt;/span&gt;           curr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; curr&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;next;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;42&lt;/span&gt;       }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;43&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;L&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;44&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; rv; &lt;span style=&#34;color:#75715e&#34;&gt;// now both success and failure
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;45&lt;/span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;æ‰©å±•é“¾è¡¨&#34;&gt;æ‰©å±•é“¾è¡¨&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;è¿‡æ‰‹é”&lt;code&gt;hand-overohand locking&lt;/code&gt;: æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªé”ï¼Œæ›¿ä»£ä¹‹å‰æ•´ä¸ªé“¾è¡¨ä¸€ä¸ªé”ï¼Œéå†é“¾è¡¨æ—¶ï¼Œé¦–å…ˆæŠ¢å ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„é”ï¼Œç„¶åé‡Šæ”¾å½“å‰èŠ‚ç‚¹çš„é”
&lt;ul&gt;
&lt;li&gt;å¼€é”€å·¨å¤§ï¼Œæœªå¿…æ¯”å•é”å¿«&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ³¨æ„æ§åˆ¶æµçš„å˜åŒ–å¯¼è‡´å‡½æ•°è¿”å›å’Œé€€å‡ºï¼Œè¿™ç§æƒ…å†µä¸‹è¦&lt;strong&gt;è®°å¾—é‡Šæ”¾é”&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å¹¶å‘é˜Ÿåˆ—&#34;&gt;å¹¶å‘é˜Ÿåˆ—&lt;/h2&gt;
&lt;p&gt;ç²—ç²’åº¦çš„é”å¾ˆç®€å•ï¼Œæ¥ä¸‹æ¥ä½¿ç”¨ç»†ç²’åº¦çš„é”&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹é˜Ÿåˆ—å¤´å’Œå°¾å„è®¾ç½®ä¸€ä¸ªé”
&lt;ul&gt;
&lt;li&gt;å› ä¸ºå‡ºé˜Ÿåªè®¿é—®&lt;code&gt;head&lt;/code&gt;é”ï¼Œ å…¥é˜Ÿåªè®¿é—®&lt;code&gt;tail&lt;/code&gt;é”ï¼Œ ä¸¤æŠŠé”ä½¿å¾—å‡ºé˜Ÿå’Œå…¥å¯¹å¯ä»¥å¹¶å‘æ‰§è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;node_t&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;                 value;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;node_t&lt;/span&gt;     &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;next;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;    } &lt;span style=&#34;color:#66d9ef&#34;&gt;node_t&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;queue_t&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;node_t&lt;/span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;head;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;node_t&lt;/span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;tail;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_mutex_t&lt;/span&gt;    headLock;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_mutex_t&lt;/span&gt;    tailLock;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;   } &lt;span style=&#34;color:#66d9ef&#34;&gt;queue_t&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;12&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;13&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Queue_Init&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;queue_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;q) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;14&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;node_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;tmp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;malloc&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;sizeof&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;node_t&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt;       tmp&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;next &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; NULL;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;       q&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;head &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; q&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;tail &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; tmp;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;17&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_init&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;q&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;headLock,  NULL);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;18&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_init&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;q&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;tailLock,  NULL);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;19&lt;/span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;21&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Queue_Enqueue&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;queue_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;q, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; value) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;22&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;node_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;tmp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;malloc&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;sizeof&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;node_t&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;23&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;assert&lt;/span&gt;(tmp &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; NULL);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;24&lt;/span&gt;       tmp&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;value &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; value;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;25&lt;/span&gt;       tmp&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;next &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; NULL;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;26&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;27&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;q&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;tailLock);&lt;span style=&#34;color:#75715e&#34;&gt;//å…¥é˜Ÿåªè®¿é—®`tail`é”
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;28&lt;/span&gt;       q&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;tail&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;next &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; tmp;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;29&lt;/span&gt;       q&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;tail &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; tmp;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;30&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;q&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;tailLock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;31&lt;/span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;32&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;33&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Queue_Dequeue&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;queue_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;q, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;value) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;34&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;q&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;headLock);&lt;span style=&#34;color:#75715e&#34;&gt;//å‡ºé˜Ÿåªè®¿é—®`head`é”
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;35&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;node_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;tmp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; q&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;head;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;36&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;node_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;newHead &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; tmp&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;next;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;37&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (newHead &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; NULL) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;38&lt;/span&gt;           &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;q&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;headLock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;39&lt;/span&gt;           &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;; &lt;span style=&#34;color:#75715e&#34;&gt;// queue was emptyï¼Œè¿™ç§å†™æ³•ï¼ˆåœ¨å­æ§åˆ¶æµunlockï¼‰å¾ˆä¸‘é™‹ï¼Œåº”è¯¥åƒä¹‹å‰ã€Šé‡å†™å¹¶å‘é“¾è¡¨ã€‹çš„ List_Lookup() ä¸€æ ·æ”¹é€ 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;40&lt;/span&gt;       }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;41&lt;/span&gt;       &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;value &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; newHead&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;value;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;42&lt;/span&gt;       q&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;head &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; newHead;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;43&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;q&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;headLock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;44&lt;/span&gt;       &lt;span style=&#34;color:#a6e22e&#34;&gt;free&lt;/span&gt;(tmp);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;45&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;46&lt;/span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å¹¶å‘æ•£åˆ—è¡¨&#34;&gt;å¹¶å‘æ•£åˆ—è¡¨&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå¹¶å‘é“¾è¡¨ï¼Œä¹Ÿç§°ä¸ºâ€œæ•£åˆ—æ¡¶â€
&lt;ul&gt;
&lt;li&gt;æ¯ä¸ªæ•£åˆ—æ¡¶éƒ½æœ‰ä¸€ä¸ªé”&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;    &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;#&lt;/span&gt;define &lt;span style=&#34;color:#a6e22e&#34;&gt;BUCKETS&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;101&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;hash_t&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;list_t&lt;/span&gt; lists[BUCKETS];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;    } &lt;span style=&#34;color:#66d9ef&#34;&gt;hash_t&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Hash_Init&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;hash_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;H) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; (i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; BUCKETS; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;           &lt;span style=&#34;color:#a6e22e&#34;&gt;List_Init&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;H&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lists[i]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;       }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;12&lt;/span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;13&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;14&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Hash_Insert&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;hash_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;H, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; key) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; bucket &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; key &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; BUCKETS;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;List_Insert&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;H&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lists[bucket], key);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;17&lt;/span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;19&lt;/span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Hash_Lookup&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;hash_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;H, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; key) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; bucket &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; key &lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt; BUCKETS;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;21&lt;/span&gt;       &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;List_Lookup&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;H&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lists[bucket], key);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;22&lt;/span&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Knuthå®šå¾‹ï¼š &lt;strong&gt;é¿å…ä¸æˆç†Ÿçš„ä¼˜åŒ–&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å…ˆæœ€ç®€å•çš„æ–¹æ¡ˆï¼Œä¹Ÿå°±æ˜¯åŠ å¤§é”ï¼ˆ &lt;code&gt;big kernel lock, BKL. in linux kernel&lt;/code&gt; ï¼‰å¼€å§‹ï¼Œ å¦‚æœæœ‰æ€§èƒ½é—®é¢˜å†æ”¹è¿›&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ§åˆ¶æµå˜åŒ–æ—¶è®°å¾—è·å–å’Œé‡Šæ”¾é”&lt;/li&gt;
&lt;li&gt;å¢åŠ å¹¶å‘å¹¶ä¸ä¸€å®šèƒ½æé«˜æ€§èƒ½
&lt;ul&gt;
&lt;li&gt;è¿‡æ‰‹é”&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;conditional-variable&#34;&gt;Conditional Variable&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ¡ä»¶å˜é‡ï¼š ä¸€ä¸ªæ˜¾å¼&lt;strong&gt;é˜Ÿåˆ—&lt;/strong&gt;ï¼Œ å½“&lt;code&gt;condition&lt;/code&gt;ä¸æ»¡è¶³æ—¶ï¼Œçº¿ç¨‹æŠŠè‡ªå·±åŠ å…¥é˜Ÿåˆ—ï¼Œ&lt;code&gt;waiting&lt;/code&gt;è¯¥æ¡ä»¶ã€‚ å½“å¦å¤–æŸä¸ªçº¿ç¨‹æ”¹å˜è¯¥&lt;code&gt;condition&lt;/code&gt;æ—¶ï¼Œå°±å¯ä»¥&lt;strong&gt;å”¤é†’&lt;/strong&gt;&lt;code&gt;signal&lt;/code&gt;ä¸€ä¸ªæˆ–è€…å¤šä¸ªï¼ˆå‡å”¤é†’ï¼‰ç­‰å¾…çº¿ç¨‹ï¼Œè®©å®ƒä»¬ç»§ç»­æ‰§è¡Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;wait(  mutex )&lt;/code&gt;: è¯¥å‡½æ•°å‡å®šåœ¨&lt;code&gt;wait()&lt;/code&gt;æ—¶ï¼Œ &lt;code&gt;mutex&lt;/code&gt;æ˜¯ä¸Šé”çŠ¶æ€ã€‚ &lt;code&gt;wait()&lt;/code&gt;çš„èŒè´£æ˜¯é‡Šæ”¾é”ï¼Œ å¹¶è®©è°ƒç”¨è¿›ç¨‹ä¼‘çœ ï¼ˆåŸå­åœ°ï¼‰ã€‚ å½“çº¿ç¨‹è¢«å”¤é†’æ—¶ï¼ˆåœ¨å¦å¤–æŸä¸ªçº¿ç¨‹&lt;code&gt;signal&lt;/code&gt;å®ƒä¹‹åï¼‰å®ƒé‡æ–°è·å–é”ï¼Œå†è¿”å›è°ƒç”¨è€…&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è¿™æ ·ä½¿å¾—&lt;code&gt;wait()&lt;/code&gt;å†™èµ·æ¥å¾ˆæ–¹ä¾¿ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;m);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt;(done&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;c,&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;m);&lt;span style=&#34;color:#75715e&#34;&gt;//waité‡Šæ”¾é”ï¼Œçº¿ç¨‹è¿›å…¥ä¼‘çœ ã€‚ å½“è¢«signalæ—¶ï¼Œwaitè·å–é”ï¼Œå†è¿”å›è°ƒç”¨è€…ã€‚ ä¸ç”¨æ‰‹å†™unlock\lockäº†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;m);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ€»ç»“ï¼š&lt;code&gt;signal&lt;/code&gt;å’Œ&lt;code&gt;wait&lt;/code&gt;æ—¶æ€»æ˜¯æŒæœ‰é” + éœ€è¦çŠ¶æ€å˜é‡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;wait()&lt;/code&gt;çš„è¯­ä¹‰å¼ºåˆ¶è¦æ±‚è°ƒç”¨æ—¶å·²ç»æŒæœ‰é”ï¼Œå› æ­¤ä¸éœ€è¦æ“å¿ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;pthread.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;#34;mythreads.h&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;stdlib.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; done &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_mutex_t&lt;/span&gt; m &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; PTHREAD_MUTEX_INITIALIZER;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_cond_t&lt;/span&gt; c &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; PTHREAD_COND_INITIALIZER;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;thr_exit&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;m);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     done &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_signal&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;c);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;m);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;thr_join&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;m);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt;(done&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)&lt;span style=&#34;color:#75715e&#34;&gt;// æ¨èä½¿ç”¨whileå¾ªç¯è€Œä¸æ˜¯if,åŸå› ä¹‹åè§£é‡Š
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;c,&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;m);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;m);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;child&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;arg )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;printf&lt;/span&gt;( &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;child&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;thr_exit&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; NULL;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; argc, &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; argv[])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_t&lt;/span&gt;  p;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;parent: begin&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_create&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;p, NULL,child, NULL);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;thr_join&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;parent: end&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;æƒ…å†µä¸€ï¼š parentåˆ›å»ºå‡ºå­è¿›ç¨‹åï¼Œè‡ªå·±ç»§ç»­è¿è¡Œï¼ˆå‡è®¾å•æ ¸ï¼‰ï¼Œç„¶åé©¬ä¸Šè°ƒç”¨&lt;code&gt;thr_join()&lt;/code&gt; ç­‰å¾…å­è¿›ç¨‹ï¼Œæ­¤æ—¶å®ƒä¼šå…ˆè·å–é”ï¼Œæ£€æŸ¥å­è¿›ç¨‹æ˜¯å¦å®Œæˆï¼ˆè¿˜æ²¡æœ‰ï¼‰ï¼Œç„¶åè°ƒç”¨&lt;code&gt;wait()&lt;/code&gt;ï¼Œè®©è‡ªå·±ä¼‘çœ ã€‚ å­çº¿ç¨‹æœ€ç»ˆå¾—ä»¥è¿è¡Œï¼Œæ‰“å°å‡ºâ€œchildâ€ï¼Œ å¹¶è°ƒç”¨&lt;code&gt;thr_exit()&lt;/code&gt;å”¤é†’çˆ¶è¿›ç¨‹ï¼Œ è€Œ&lt;code&gt;exit()&lt;/code&gt;åŸå­åœ°è®¾ç½®&lt;code&gt;done&lt;/code&gt;ï¼Œå‘çˆ¶è¿›ç¨‹&lt;code&gt;signal&lt;/code&gt;ï¼Œ æœ€åçˆ¶è¿›ç¨‹ä¼šè¿è¡Œï¼Œä»&lt;code&gt;wait()&lt;/code&gt;è¿”å›å¹¶æŒæœ‰é”ï¼Œ é‡Šæ”¾é”ï¼Œ æ‰“å°å‡ºâ€œparent: endâ€&lt;/li&gt;
&lt;li&gt;æƒ…å†µäºŒï¼šå­è¿›ç¨‹åˆ›å»ºåç«‹åˆ»è¿è¡Œï¼Œ è®¾ç½®&lt;code&gt;done = 1&lt;/code&gt;ï¼Œ è°ƒç”¨&lt;code&gt;signal()&lt;/code&gt;å”¤é†’å…¶ä»–çº¿ç¨‹ï¼ˆè¿™é‡Œæ²¡æœ‰å…¶ä»–çº¿ç¨‹ï¼‰ï¼Œç„¶åç»“æŸã€‚ å‰¯è¿›ç¨‹è¿è¡Œåï¼Œè°ƒç”¨&lt;code&gt;thr_join()&lt;/code&gt;æ—¶ï¼Œå‘ç°&lt;code&gt;done&lt;/code&gt;å·²ç»ä¸º1äº†ï¼Œå°±ç›´æ¥è¿”å›&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;parent: begin
child
parent: end
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;çŠ¶æ€å˜é‡&lt;code&gt;done&lt;/code&gt;æ˜¯&lt;strong&gt;å¿…è¦&lt;/strong&gt;çš„&lt;/p&gt;
&lt;p&gt;å‡å¦‚æ²¡æœ‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;thr_exit&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;m);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_signal&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;c);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;m);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;thr_join&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;m);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;c,&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;m);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;m);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;å‡å¦‚å­çº¿ç¨‹ç«‹åˆ»è¿è¡Œï¼Œä¸”è°ƒç”¨&lt;code&gt;thr_exit&lt;/code&gt;ï¼Œæ­¤æ—¶å­è¿›ç¨‹&lt;code&gt;signal()&lt;/code&gt;ï¼Œæ¡ä»¶å˜é‡ä¸Šæ²¡æœ‰ç¡çœ çš„çº¿ç¨‹ã€‚ çˆ¶çº¿ç¨‹è¿è¡Œæ—¶ï¼Œå°±ä¼šè°ƒç”¨&lt;code&gt;waitï¼ˆï¼‰&lt;/code&gt;å¹¶å¡åœ¨è¿™é‡Œï¼Œæ²¡æœ‰çº¿ç¨‹ä¼š&lt;code&gt;signalï¼ˆï¼‰&lt;/code&gt;å®ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‘ä¿¡å·å’Œç­‰å¾…æ—¶åŠ é”ä¹Ÿæ˜¯å¿…è¦çš„&lt;/p&gt;
&lt;p&gt;å‡å¦‚æ²¡æœ‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;thr_exit&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     done &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_signal&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;c);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;thr_join&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt;(done&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)&lt;span style=&#34;color:#75715e&#34;&gt;// æ¨èä½¿ç”¨whileå¾ªç¯è€Œä¸æ˜¯if,åŸå› ä¹‹åè§£é‡Š
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;c,&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;m);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;å¦‚æœçˆ¶è¿›ç¨‹è°ƒç”¨&lt;code&gt;thr_join()&lt;/code&gt;,æ£€æŸ¥&lt;code&gt;done = 0&lt;/code&gt;ï¼Œè¯•å›¾ç¡çœ ï¼Œç„¶è€Œåœ¨è°ƒç”¨&lt;code&gt;waitï¼ˆï¼‰&lt;/code&gt;å‰è¢«ä¸­æ–­ï¼ˆå› ä¸ºæ²¡æœ‰é”ï¼Œæ­¤æ—¶å…¶å®ƒè¿›ç¨‹å°±å¯ä»¥æ“çºµä¸´ç•ŒåŒºï¼‰ï¼Œ å­è¿›ç¨‹ä¿®æ”¹å˜é‡ä¸º1,å‘å‡º&lt;code&gt;signalï¼ˆï¼‰&lt;/code&gt;ï¼Œæ­¤æ—¶æ²¡æœ‰ç¡çœ è¿›ç¨‹ã€‚ çˆ¶è¿›ç¨‹å†æ¬¡è¿è¡Œæ—¶ï¼Œå°±ä¼šå¡åœ¨&lt;code&gt;wait()&lt;/code&gt;ï¼Œæ²¡æœ‰çº¿ç¨‹å¯ä»¥å”¤é†’å®ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ç”Ÿäº§è€…æ¶ˆè´¹è€…æœ‰ç•Œç¼“å†²åŒºé—®é¢˜&#34;&gt;ç”Ÿäº§è€…/æ¶ˆè´¹è€…ï¼ˆæœ‰ç•Œç¼“å†²åŒºï¼‰é—®é¢˜&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//30_7.c
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;cond_t&lt;/span&gt; cond;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mutex_t&lt;/span&gt; mutex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; count &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;producer&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;arg)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; loops &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) arg;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;( i&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; loops; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(count &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;cond,&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;put&lt;/span&gt;(i);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_signal&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;cond);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);       
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;consumer&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;arg )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; loops &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) arg;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; ; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; loops; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt;( count &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; )&lt;span style=&#34;color:#75715e&#34;&gt;//å¿…é¡»ç”¨while,ä¸èƒ½ç”¨if
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_cond_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;cond,&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; tmp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;get&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_signal&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;cond);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;ptrintf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%d&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;,tmp);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;å‡è®¾ä½¿ç”¨&lt;code&gt;if&lt;/code&gt;:  å‡è®¾æœ‰ä¸¤ä¸ªæ¶ˆè´¹è€…$T_{c1}$å’Œï¼Œ$T_{c2}$ ç”Ÿäº§è€…$T_{p}$,
&lt;ul&gt;
&lt;li&gt;è‹¥$T_{c1}$å…ˆè¿è¡Œï¼Œå¡åœ¨&lt;code&gt;wait&lt;/code&gt;ï¼Œ æ¥ç€$T_p$è¿è¡Œï¼Œåœ¨ç¼“å†²åŒºæ”¾ä¸€ä¸ªæ•°å­—ï¼Œç„¶å&lt;code&gt;signal&lt;/code&gt;å”¤é†’$T_{c1}$ï¼Œ ç”Ÿäº§è€…ç»§ç»­å¾ªç¯ï¼Œç›´åˆ°å‘ç°ç¼“å†²åŒºæ»¡åç¡çœ &lt;/li&gt;
&lt;li&gt;æ­¤æ—¶å¦‚æœ$T_{c2}$æŠ¢å…ˆæ‰§è¡Œï¼Œæ¶ˆè´¹äº†ç¼“å†²åŒºé‡Œçš„å€¼ï¼Œç„¶å$T_{c1}$ä»&lt;code&gt;wait&lt;/code&gt;å¤„æ¢å¤è¿è¡Œï¼Œè°ƒç”¨&lt;code&gt;get&lt;/code&gt;ï¼Œæ­¤æ—¶å‘ç”Ÿerrorï¼&lt;/li&gt;
&lt;li&gt;åŸå› åœ¨äºï¼Œç”Ÿäº§è€…&lt;code&gt;signal&lt;/code&gt;å”¤é†’äº†$T_{c1}$ï¼Œ ä½†æ˜¯æ²¡æœ‰ä¿è¯$T_{c1}$ç«‹å³æ‰§è¡Œ ï¼ˆæˆ–è€…è¯´ï¼Œæ²¡æœ‰ä¿è¯$T_{c1}$æ‰§è¡Œä¹‹å‰ï¼Œç¼“å†²åŒºæ²¡æœ‰å†å‘ç”Ÿå˜åŒ–ï¼‰
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;signal&lt;/code&gt;çš„è¿™ç§è¯­ä¹‰ç§°ä¸º&lt;code&gt;Mesa&lt;/code&gt;è¯­ä¹‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è§£å†³æ–¹æ¡ˆæ˜¯ï¼š &lt;strong&gt;å§‹ç»ˆä½¿ç”¨&lt;code&gt;while&lt;/code&gt;&lt;/strong&gt;ï¼Œè¿™æ ·å½“$T_{c1}$é†’æ¥æ—¶ï¼Œä¼šå†æ¬¡æ£€æŸ¥&lt;code&gt;count==0&lt;/code&gt;ï¼Œå‘ç°ä¸ºç¼“å†²åŒº0åˆ™ç»§ç»­&lt;code&gt;wait&lt;/code&gt;ã€‚è¿™æ ·å°±é¿å…äº†error&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä½¿ç”¨ä¸¤ä¸ªæ¡ä»¶å˜é‡&#34;&gt;ä½¿ç”¨ä¸¤ä¸ªæ¡ä»¶å˜é‡&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ä¸Šè¿°ä»£ç ä¾ç„¶æœ‰é—®é¢˜ï¼š å‡è®¾$T_{c1}$å’Œ$T_{c2}$å…ˆè¿è¡Œï¼Œéƒ½å¡åœ¨&lt;code&gt;wait&lt;/code&gt;ï¼Œ $T_{p}$å¼€å§‹è¿è¡Œï¼Œå¾€ç¼“å†²åŒºæ”¾å…¥ä¸€ä¸ªå€¼ï¼Œå‘å‡º&lt;code&gt;signal&lt;/code&gt;ï¼Œ ç»§ç»­å¾ªç¯ï¼Œç›´åˆ°å‘ç°ç¼“å†²åŒºæ»¡åç¡çœ &lt;/li&gt;
&lt;li&gt;$T_{c1}$é†’æ¥ï¼Œæ¶ˆè´¹äº†è¿™ä¸ªå€¼ï¼Œç„¶ååœ¨è¯¥æ¡ä»¶ä¸Š&lt;code&gt;signal&lt;/code&gt;ï¼Œæ³¨æ„ï¼Œæ­¤æ—¶ç†åº”å”¤é†’$T_{p}$ï¼Œ ä½†äº‹å®ä¸Šæœ‰å¯èƒ½å”¤é†’$T_{c2}$&lt;/li&gt;
&lt;li&gt;å‡å¦‚å”¤é†’$T_{c2}$ï¼Œå› ä¸ºç¼“å†²åŒºä¸ºç©ºï¼Œ å®ƒä¼šå¡åœ¨&lt;code&gt;wait&lt;/code&gt;ï¼Œ&lt;strong&gt;æ­¤æ—¶ä¸‰ä¸ªçº¿ç¨‹éƒ½å¤„äºç¡çœ &lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åŸå› åœ¨äºï¼Œ &lt;strong&gt;&lt;code&gt;signal&lt;/code&gt;æ²¡æœ‰æŒ‡å‘æ€§&lt;/strong&gt;ï¼Œ æ¶ˆè´¹è€…ä¸åº”å”¤é†’æ¶ˆè´¹è€…ï¼Œåªåº”è¯¥å”¤é†’ç”Ÿäº§è€…&lt;/li&gt;
&lt;li&gt;è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ä¸¤ä¸ªæ¡ä»¶å˜é‡ï¼Œ ç”Ÿäº§è€…ç¡åœ¨&lt;code&gt;empty&lt;/code&gt;ï¼Œ æ¶ˆè´¹è€…ç¡åœ¨&lt;code&gt;fill&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;ç”±æ­¤ä¹Ÿçœ‹å‡ºï¼Œ&lt;strong&gt;çº¿ç¨‹å”¤é†’éœ€è¦æ»¡è¶³ä»€ä¹ˆæ¡ä»¶ï¼Œå®ƒå°±åº”è¯¥ç¡åœ¨å“ªä¸ªæ¡ä»¶å˜é‡ä¸Š&lt;/strong&gt;ï¼Œè¿™æ˜¯&lt;strong&gt;æ¡ä»¶å˜é‡çš„å‘½åæ–¹å¼&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æ¯”å¦‚æ¶ˆè´¹è€…éœ€è¦ç¼“å†²åŒº&lt;code&gt;fill&lt;/code&gt;æ‰èƒ½é†’æ¥ï¼Œå› æ­¤è¯¥æ¡ä»¶å˜é‡å°±å‘½åä¸º&lt;code&gt;fill&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//30_8.c
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;cond_t&lt;/span&gt; empty,fill;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mutex_t&lt;/span&gt; mutex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; count &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;producer&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;arg)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; loops &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) arg;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;( i&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; loops; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(count &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;empty,&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;put&lt;/span&gt;(i);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_signal&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;fill);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);       
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;consumer&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;arg )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; loops &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) arg;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; ; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; loops; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt;( count &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_cond_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;fill,&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; tmp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;get&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_signal&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;empty);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;ptrintf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%d&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;,tmp);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;æœ€ç»ˆç‰ˆæœ¬&#34;&gt;æœ€ç»ˆç‰ˆæœ¬&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;è¿™æ˜¯æœ€ç»ˆç‰ˆæœ¬ï¼Œç”Ÿäº§è€…åªæœ‰ç¼“å†²åŒºæ»¡äº†çš„æ—¶å€™æ‰ä¼šç¡çœ 
&lt;ul&gt;
&lt;li&gt;å› æ­¤ä¿¡å·é‡å‘½åä¸º&lt;code&gt;empty&lt;/code&gt;æœ‰ç‚¹åä¸ç¬¦å®ï¼ˆ &lt;code&gt;fill&lt;/code&gt;ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œäº‹å®ä¸Šç¼“å†²åŒºæœ‰ä¸€ä¸ªå€¼å°±å¯ä»¥å”¤é†’æ¶ˆè´¹è€…äº† ï¼‰&lt;/li&gt;
&lt;li&gt;å¯¹&lt;code&gt;get()&lt;/code&gt;å’Œ&lt;code&gt;put()&lt;/code&gt;çš„è°ƒç”¨ä¿è¯ä¸Šäº†é”&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//30_9.c  ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜æœ€ç»ˆç‰ˆ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; buffer[MAX];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; fill_ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; use_ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; count &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;put&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; value)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    buffer[fill_ptr] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; value;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    fill_ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (fill_ptr&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt;MAX;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    count&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;get&lt;/span&gt;()&lt;span style=&#34;color:#75715e&#34;&gt;//æ‹¿å–use_ptræŒ‡å‘çš„å€¼ï¼Œuse_ptr++
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; tmp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; buffer[use_ptr];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    use_ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (use_ptr&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt;MAX;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    count&lt;span style=&#34;color:#f92672&#34;&gt;--&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; tmp;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;cond_t&lt;/span&gt; empty,fill;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;mutex_t&lt;/span&gt; mutex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; count &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;producer&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;arg)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; loops &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) arg;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;( i&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; loops; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(count &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; MAX)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;empty,&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;put&lt;/span&gt;(i);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_signal&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;fill);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);       
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;consumer&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;arg )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; loops &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) arg;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; ; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; loops; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt;( count &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#a6e22e&#34;&gt;pthread_cond_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;fill,&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; tmp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;get&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_signal&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;empty);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;ptrintf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%d&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;,tmp);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;è¦†ç›–æ¡ä»¶&#34;&gt;è¦†ç›–æ¡ä»¶&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;signal&lt;/code&gt;åªä¼šå”¤é†’ä¸€ä¸ªçº¿ç¨‹&lt;/li&gt;
&lt;li&gt;è€ƒè™‘ä¸€ä¸ªå†…å­˜åˆ†é…ç¨‹åºã€‚ å½“æ²¡æœ‰ç©ºé—²å†…å­˜æ—¶ï¼Œ $T_{c1}$å’Œ$T_{c2}$å„è‡ª&lt;code&gt;allocate&lt;/code&gt;1000å’Œ10å­—èŠ‚ã€‚ å®ƒä»¬éƒ½å› æ­¤å¡åœ¨&lt;code&gt;wait&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;æ­¤æ—¶$T_{p}$ &lt;code&gt;free&lt;/code&gt;äº†50å­—èŠ‚ï¼Œå®ƒå‘å‡ºsignalï¼Œæ­¤æ—¶æœ‰å¯èƒ½å”¤é†’çš„æ˜¯$T_{c1}$ï¼Œ åè€…å› ä¸ºå†…å­˜ä¸å¤Ÿï¼Œä¾ç„¶ç»§ç»­ç¡çœ &lt;/li&gt;
&lt;li&gt;ä¸Šè¿°ä»£ç å› æ­¤æ— æ³•æ­£å¸¸å·¥ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è§£å†³æ–¹æ¡ˆæ˜¯é‡‡ç”¨å¹¿æ’­çš„signal, å³&lt;code&gt;pthread_cond_broadcast()&lt;/code&gt; ä»£æ›¿&lt;code&gt;pthread_cond_signal&lt;/code&gt;,å”¤é†’æ‰€æœ‰ç­‰å¾…çº¿ç¨‹ï¼Œè¿™ä¸ªæ¡ä»¶å˜é‡ç§°ä¸º&lt;strong&gt;å¹¿æ’­æ¡ä»¶&lt;code&gt;covering condition&lt;/code&gt;&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ä¼šå½±å“æ€§èƒ½&lt;/li&gt;
&lt;li&gt;è¯¥æ–¹æ¡ˆè™½ç„¶å¾ˆç¬¨ï¼Œä½†æœ‰æ—¶å¾ˆæœ‰ç”¨&lt;/li&gt;
&lt;li&gt;å½“ç„¶ï¼Œ&lt;code&gt;30_8.c&lt;/code&gt;çš„ä»£ç ä¹Ÿå¯ä»¥é‡‡ç”¨æ­¤è§£å†³æ–¹æ¡ˆã€‚ ä½†æˆ‘å½“æ—¶æœ‰æ›´å¥½çš„åŠæ³•ï¼ˆç”¨ä¸¤ä¸ªæ¡ä»¶å˜é‡ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;ä¿¡å·é‡&#34;&gt;ä¿¡å·é‡&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;defï¼š æœ‰ä¸€ä¸ªæ•´æ•°å€¼çš„å¯¹è±¡ï¼Œå¯ä»¥ç”¨&lt;code&gt;sem_wait()&lt;/code&gt;å’Œ&lt;code&gt;sem_post()&lt;/code&gt;æ“ä½œï¼ˆ in Posix ï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å› æ­¤è¦åˆå§‹åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;semaphore.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;sem_t&lt;/span&gt; s;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;sem_init&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;s, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; , &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;); &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;ç¬¬äºŒä¸ªå‚æ•°ä¸€èˆ¬è®¾ä¸º&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;è¡¨ç¤ºè¯¥ä¿¡å·é‡åœ¨åŒä¸€ä¸ªè¿›ç¨‹çš„å¤šä¸ªçº¿ç¨‹å†…è´¡çŒ®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_wait&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;sem_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;s)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;//decrement the value of semaphore s by one
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//wait if value of semaphore s is a negative
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_post&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;sem_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;s)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#75715e&#34;&gt;//increment the value of semaphore s by one
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//if there are one or more threads waiting, wake one
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åœ¨è¿™ä¸ªå®ç°ä¸­ï¼Œ ä¿¡å·é‡çš„å€¼ä¸ºè´Ÿæ•°æ—¶ï¼Œè¯¥å€¼å°±æ˜¯ç­‰å¾…çº¿ç¨‹çš„ä¸ªæ•°&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¿¡å·é‡æœ‰æ—¶å¾ˆéš¾è®¾è®¡ï¼Œæ­¤æ—¶è¿˜æ˜¯ä½¿ç”¨æ¡ä»¶å˜é‡æ›´é è°±&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;äºŒå€¼ä¿¡å·é‡é”&#34;&gt;äºŒå€¼ä¿¡å·é‡ï¼ˆé”ï¼‰&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥æŠŠä¿¡å·é‡ä½œä¸ºé”(&lt;strong&gt;å…¶å€¼è®¾ä¸º1&lt;/strong&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;sem_t&lt;/span&gt; m;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;sem_init&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;m, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;); &lt;span style=&#34;color:#75715e&#34;&gt;//ä¸‹æ–‡è§£é‡Šä¸ºä½•æ˜¯1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;sem_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;m);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//critical section
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;sem_post&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;m);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;å‡è®¾æœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼Œ$T_{1}$è°ƒç”¨&lt;code&gt;sem_wait()&lt;/code&gt;ï¼Œå°†ä¿¡å·é‡å€¼å‡ä¸º0, å› ä¸º0ä¸æ˜¯è´Ÿæ•°ï¼Œå› æ­¤$T_{c1}$ä»&lt;code&gt;wait&lt;/code&gt;è¿”å›å¹¶ç»§ç»­ï¼Œå®ƒå¯ä»¥è‡ªç”±è¿›å…¥ä¸´ç•ŒåŒºï¼Œ è‹¥æ²¡æœ‰å…¶ä»–çº¿ç¨‹å°è¯•è·å–é”ï¼Œå½“$T_{1}$è°ƒç”¨&lt;code&gt;sem_post()&lt;/code&gt;æ—¶ï¼Œä¼šå°†ä¿¡å·é‡ç½®ä¸º1&lt;/li&gt;
&lt;li&gt;å¦‚æœ$T_{1}$æŒæœ‰é”æ—¶ï¼Œ$T_{2}$å°è¯•è·å–é”ï¼ˆå³è°ƒç”¨&lt;code&gt;sem_wait()&lt;/code&gt;ï¼‰ï¼Œæ­¤æ—¶å®ƒä¼šå°†ä¿¡å·é‡å‡ä¸º&lt;code&gt;-1&lt;/code&gt;ã€‚ç„¶åå¡åœ¨è¿™é‡Œã€‚ $T_{1}$å†æ¬¡è¿è¡Œï¼Œæ‰§è¡Œ&lt;code&gt;sem_post()&lt;/code&gt;ï¼Œ  å°†ä¿¡å·é‡å€¼å¢åŠ åˆ°0,å”¤é†’ç­‰å¾…çš„çº¿ç¨‹ï¼ˆ$T_{2}$ï¼‰ï¼Œç„¶å$T_{2}$å°±èƒ½è·å–é”
&lt;ul&gt;
&lt;li&gt;å½“$T_{2}$æ‰§è¡Œç»“æŸæ—¶ï¼Œæ‰§è¡Œ&lt;code&gt;sem_post()&lt;/code&gt;ï¼Œ  å°†ä¿¡å·é‡å€¼å¢åŠ åˆ°1&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ä¿¡å·é‡ç”¨ä½œæ¡ä»¶å˜é‡&#34;&gt;ä¿¡å·é‡ç”¨ä½œæ¡ä»¶å˜é‡&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;sem_t&lt;/span&gt; s;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; count &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;child&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;arg)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;child&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_post&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;s);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; NULL;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; argc, &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;argv[])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_init&lt;/span&gt;( &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;s, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; );&lt;span style=&#34;color:#75715e&#34;&gt;//ä¿¡å·é‡è®¾ä¸º0
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;parent: begin&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_t&lt;/span&gt; c;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_create&lt;/span&gt;(c, NULL, child, NULL);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;s); &lt;span style=&#34;color:#75715e&#34;&gt;// wait here for child
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;parent: end&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¾“å‡ºä¸ºï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;parent: begin
child
parent: end
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;è€ƒè™‘ä¸¤ç§æƒ…å†µï¼š
&lt;ol&gt;
&lt;li&gt;å­è¿›ç¨‹æ²¡æœ‰å…ˆè¿è¡Œï¼Œçˆ¶è¿›ç¨‹å…ˆè°ƒç”¨&lt;code&gt;sem_wait()&lt;/code&gt;,å°†ä¿¡å·é‡å‡ä¸º-1,çˆ¶è¿›ç¨‹å¡åœ¨&lt;code&gt;wait&lt;/code&gt;ï¼Œ ç„¶åå­è¿›ç¨‹è¿è¡Œï¼Œè°ƒç”¨&lt;code&gt;sem_post()&lt;/code&gt;ï¼Œä¿¡å·é‡å¢åŠ ä¸º0,å”¤é†’çˆ¶çº¿ç¨‹&lt;/li&gt;
&lt;li&gt;å­çº¿ç¨‹åœ¨çˆ¶çº¿ç¨‹è°ƒç”¨&lt;code&gt;sem_post()&lt;/code&gt;ä¹‹å‰å°±è¿è¡Œç»“æŸï¼Œç»“æœæ­£å¸¸&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ç”Ÿäº§è€…æ¶ˆè´¹è€…æœ‰ç•Œç¼“å†²åŒºé—®é¢˜-1&#34;&gt;ç”Ÿäº§è€…/æ¶ˆè´¹è€…ï¼ˆæœ‰ç•Œç¼“å†²åŒºï¼‰é—®é¢˜&lt;/h2&gt;
&lt;p&gt;è€ƒè™‘ç”¨ä¿¡å·é‡å®ç°ç”Ÿäº§è€…/æ¶ˆè´¹è€…é—®é¢˜ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; buffer[MAX];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; fill_ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; use_ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; count &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;put&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; value)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    buffer[fill_ptr] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; value;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    fill_ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (fill_ptr&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt;MAX;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    count&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;get&lt;/span&gt;()&lt;span style=&#34;color:#75715e&#34;&gt;//æ‹¿å–use_ptræŒ‡å‘çš„å€¼ï¼Œuse_ptr++
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; tmp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; buffer[use_ptr];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    use_ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (use_ptr&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt;MAX;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    count&lt;span style=&#34;color:#f92672&#34;&gt;--&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; tmp;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;sem_t&lt;/span&gt; empty,fill;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// mutex_t mutex;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; count &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;producer&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;arg)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; loops &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) arg;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;( i&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; loops; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;empty);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;put&lt;/span&gt;(i);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_post&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;fill);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;consumer&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;arg )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; loops &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) arg;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; ; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; loops; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;fill);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; tmp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;get&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_post&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;empty);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;ptrintf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%d&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;,tmp);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;è¿™æ®µä»£ç çš„é—®é¢˜åœ¨äºï¼š å¯¹å‡è®¾MAXå¤§äº1,æ­¤æ—¶å¯ä»¥æœ‰ä¸¤ä¸ªç”Ÿäº§è€…ï¼ˆ$T_1$, $T_2$ï¼‰åŒæ—¶è°ƒç”¨&lt;code&gt;put()&lt;/code&gt;ï¼Œå¦‚æœ$T_1$å…ˆæ”¾å…¥æ•°æ®ï¼Œç„¶ååœ¨æ›´æ–°è®¡æ—¶å™¨æ—¶ä¸­æ–­ï¼Œ$T_2$è¿è¡Œï¼Œå®ƒä¼šåœ¨è¯¥ä½ç½®å†æ”¾å…¥ä¸€ä¸ªå€¼ï¼Œå‘ç”Ÿerror
&lt;ul&gt;
&lt;li&gt;è¿™æ˜¯å› ä¸ºåœ¨MAX&amp;gt;1æ—¶ï¼Œä¿¡å·é‡çš„ä½¿ç”¨ä¸èƒ½ä¿è¯&lt;code&gt;putï¼ˆï¼‰&lt;/code&gt;çš„åŸå­æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è§£å†³æ–¹æ¡ˆï¼šä¸Šé”&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; buffer[MAX];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; fill_ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; use_ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; count &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;put&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; value)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    buffer[fill_ptr] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; value;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    fill_ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (fill_ptr&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt;MAX;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    count&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;get&lt;/span&gt;()&lt;span style=&#34;color:#75715e&#34;&gt;//æ‹¿å–use_ptræŒ‡å‘çš„å€¼ï¼Œuse_ptr++
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; tmp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; buffer[use_ptr];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    use_ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (use_ptr&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt;MAX;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    count&lt;span style=&#34;color:#f92672&#34;&gt;--&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; tmp;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;sem_t&lt;/span&gt; empty,fill,mutex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; count &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;producer&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;arg)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; loops &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) arg;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;( i&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; loops; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;empty);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;put&lt;/span&gt;(i);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_post&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_post&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;fill);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;consumer&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;arg )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; loops &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) arg;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; ; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; loops; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;fill);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; tmp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;get&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_post&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;empty);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_post&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;ptrintf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%d&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;,tmp);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_init&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;empty, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, MAX);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_init&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;fill, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_init&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;);&lt;span style=&#34;color:#75715e&#34;&gt;// mutex = 1 because it is a lock
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è¿™æ®µä»£ç ä¾ç„¶æœ‰é—®é¢˜ï¼š å› ä¸ºåœ¨&lt;code&gt;fill&lt;/code&gt;å’Œ&lt;code&gt;empty&lt;/code&gt;ä¸Šç¡ç€æ—¶æ²¡æœ‰é‡Šæ”¾é”ï¼ˆä¼ ç»Ÿçš„&lt;code&gt;pthread_wait&lt;/code&gt;æ˜¯ä¼šé‡Šæ”¾é”çš„ï¼Œä½†æ˜¯è¿™é‡Œæ˜¯ç”¨ä¿¡å·é‡å®ç°çš„é”ï¼‰ã€‚ å› æ­¤æ¶ˆè´¹è€…åœ¨&lt;code&gt;fill&lt;/code&gt;ä¸Šç¡ç€æ—¶ï¼ŒäºŒå€¼ä¿¡å·é‡é”&lt;code&gt;mutex&lt;/code&gt;æ²¡æœ‰é‡Šæ”¾ï¼Œç”Ÿäº§è€…è¯•å›¾å¯¹&lt;code&gt;mutex&lt;/code&gt;è°ƒç”¨&lt;code&gt;sem_wait&lt;/code&gt;ä¹Ÿè¢«å¡ä½ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¶ˆè´¹è€…ç­‰å¾…åœ¨&lt;code&gt;full&lt;/code&gt;ï¼ŒæŒæœ‰&lt;code&gt;mutex&lt;/code&gt;ï¼Œ ç”Ÿäº§è€…å¯ä»¥signal &lt;code&gt;fill&lt;/code&gt;ï¼Œå´åœ¨ç­‰å¾…&lt;code&gt;mutex&lt;/code&gt;ï¼Œå‘ç”Ÿäº†&lt;strong&gt;æ­»é”&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆï¼š æŠŠå¯¹&lt;code&gt;mutex&lt;/code&gt;çš„è·å–å’Œé‡Šæ”¾è°ƒæ•´ä¸ºç´§æŒ¨ç€ä¸´ç•ŒåŒº&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; buffer[MAX];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; fill_ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; use_ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; count &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;put&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; value)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    buffer[fill_ptr] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; value;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    fill_ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (fill_ptr&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt;MAX;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    count&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;get&lt;/span&gt;()&lt;span style=&#34;color:#75715e&#34;&gt;//æ‹¿å–use_ptræŒ‡å‘çš„å€¼ï¼Œuse_ptr++
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; tmp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; buffer[use_ptr];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    use_ptr &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (use_ptr&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;%&lt;/span&gt;MAX;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    count&lt;span style=&#34;color:#f92672&#34;&gt;--&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; tmp;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;sem_t&lt;/span&gt; empty,fill,mutex;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; count &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;producer&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;arg)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; loops &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) arg;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;( i&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; loops; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;empty);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;put&lt;/span&gt;(i);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_post&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_post&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;fill)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;consumer&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;arg )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; loops &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt;) arg;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; ; i &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; loops; i&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;fill);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; tmp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;get&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_post&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_post&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;empty);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;ptrintf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%d&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;,tmp);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_init&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;empty, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, MAX);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_init&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;fill, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_init&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;);&lt;span style=&#34;color:#75715e&#34;&gt;// mutex = 1 because it is a lock
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;//...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;è¯»è€…-----å†™è€…é”&#34;&gt;è¯»è€… &amp;mdash; å†™è€…é”&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;è¯»å†™é”æ›´åŠ çµæ´»ï¼Œå› ä¸ºæŸ¥æ‰¾æ“ä½œä¸ä¼šæ›´æ”¹ä¸´ç•ŒåŒº&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; _rwlock_t
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;sem_t&lt;/span&gt; lock; &lt;span style=&#34;color:#75715e&#34;&gt;// binary sephamore, basic lock
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;sem_t&lt;/span&gt; writelock;&lt;span style=&#34;color:#75715e&#34;&gt;//used to allow ONE writer or MANY readers
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; readers;&lt;span style=&#34;color:#75715e&#34;&gt;// count of readers reading in critical section
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;}&lt;span style=&#34;color:#66d9ef&#34;&gt;rwlock_t&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rwlock_init&lt;/span&gt;( &lt;span style=&#34;color:#66d9ef&#34;&gt;rwlock_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;rw )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    rw &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; readers &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_init&lt;/span&gt;( &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;rw &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; lock, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_init&lt;/span&gt;( &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;rw &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; writelock, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rwlock_acquire_readlock&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;rwlock_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;rw)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;rw&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    rw &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; readers&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(rw&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;readers &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_post&lt;/span&gt;( &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;rw &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;writelock ); &lt;span style=&#34;color:#75715e&#34;&gt;// last reader releases writelock
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_post&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;rw &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; lock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rwlock_release_readlock&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;rwlock_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;rw)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;rw&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    rw &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; readers&lt;span style=&#34;color:#f92672&#34;&gt;--&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;( rw &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; readers &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_post&lt;/span&gt;( rw &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; writelock );&lt;span style=&#34;color:#75715e&#34;&gt;// last reader releases writelock
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_post&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;rw&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rwlock_acquire_writelock&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;rwlock_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;rw)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_wait&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;rw&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; writelock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rwlock_release_writelock&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;rwlock_t&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;rw )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;sem_post&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;rw &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; writelock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;æƒ³è¦è·å–å†™é”çš„è¿›ç¨‹ï¼Œéœ€è¦ç­‰å¾…æ‰€æœ‰çš„è¯»è€…éƒ½ç»“æŸ&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼šè¯»è€…å¾ˆå®¹æ˜“é¥¿æ­»å†™è€…&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å“²å­¦å®¶å°±é¤é—®é¢˜&#34;&gt;å“²å­¦å®¶å°±é¤é—®é¢˜&lt;/h2&gt;
&lt;p&gt;æœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆï¼šç ´é™¤ä¾èµ–ï¼Œ å°±æ˜¯ä¿®æ”¹æŸä¸ªå“²å­¦å®¶çš„å–é¤å‰é¡ºåº&lt;/p&gt;
&lt;h2 id=&#34;å¦‚ä½•å®ç°ä¿¡å·é‡&#34;&gt;å¦‚ä½•å®ç°ä¿¡å·é‡&lt;/h2&gt;
&lt;p&gt;ç”¨é”å’Œæ¡ä»¶å˜é‡å®ç°ä¿¡å·é‡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;pthread.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;#34;mythreads.h&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;stdlib.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;semaphore.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;typedef&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; _Zem_t{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; value;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_cond_t&lt;/span&gt; cond;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;pthread_mutex_t&lt;/span&gt; lock;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}Zem_t;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//only one thread can call this
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Zem_init&lt;/span&gt;(Zem_t &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;s, &lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; value)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    s &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; value &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; value;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_init&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;s&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;cond,NULL);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_init&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;s&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock,NULL);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Zem_wait&lt;/span&gt;(Zem_t &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;s)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;s&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt;( s&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;value &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_wait&lt;/span&gt;( &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;s&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;cond, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;s&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    s &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;value&lt;span style=&#34;color:#f92672&#34;&gt;--&lt;/span&gt;;&lt;span style=&#34;color:#75715e&#34;&gt;//æ³¨æ„åˆ°è¿™é‡Œæ˜¯å…ˆæ£€æŸ¥æ˜¯å¦ä¸ºéæ­£æ•°ï¼Œå†é€’å‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;s&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Zem_post&lt;/span&gt;(Zem_t &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;s)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;s&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    s &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; value&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_cond_signal&lt;/span&gt;( &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;s &lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt; cond );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;s&lt;span style=&#34;color:#f92672&#34;&gt;-&amp;gt;&lt;/span&gt;lock);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;æ³¨æ„åˆ°&lt;code&gt;wait&lt;/code&gt;æ˜¯å…ˆæ£€æŸ¥æ˜¯å¦ä¸ºéæ­£æ•°ï¼Œå†é€’å‡ï¼Œè¿™ä½¿å¾—ä¿¡å·é‡å€¼æ°¸è¿œä¸ä¼šå°äº0
&lt;ul&gt;
&lt;li&gt;è¿™ä¹Ÿæ˜¯linuxçš„å®ç°&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç”¨ä¿¡å·é‡æ¥å®ç°é”å’Œæ¡ä»¶å˜é‡ç›¸å½“å›°éš¾&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;å¸¸è§å¹¶å‘é—®é¢˜&#34;&gt;å¸¸è§å¹¶å‘é—®é¢˜&lt;/h1&gt;
&lt;h2 id=&#34;éæ­»é”ç¼ºé™·&#34;&gt;éæ­»é”ç¼ºé™·&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è¿ååŸå­æ€§ç¼ºé™·ï¼šç»™å…±äº«å˜é‡çš„è®¿é—®åŠ é”&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿åé¡ºåºç¼ºé™·ï¼šä½¿ç”¨æ¡ä»¶å˜é‡ï¼Œå¼ºåˆ¶é¡ºåºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;//...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_lock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt;( inited &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_Cond_wait&lt;/span&gt;( &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;cond, &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex );
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;//operations to critical section
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;Pthread_mutex_unlock&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt;mutex);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æ­»é”ç¼ºé™·&#34;&gt;æ­»é”ç¼ºé™·&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;æ¨¡å—åŒ–å’Œé”ä¸æ˜¯å¾ˆå¥‘åˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;T1&lt;/th&gt;
&lt;th&gt;T2&lt;/th&gt;
&lt;th&gt;T3&lt;/th&gt;
&lt;th&gt;T4&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;L1&lt;/td&gt;
&lt;td&gt;Y&lt;/td&gt;
&lt;td&gt;Y&lt;/td&gt;
&lt;td&gt;N&lt;/td&gt;
&lt;td&gt;N&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;L2&lt;/td&gt;
&lt;td&gt;Y&lt;/td&gt;
&lt;td&gt;Y&lt;/td&gt;
&lt;td&gt;Y&lt;/td&gt;
&lt;td&gt;N&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;ç³»ç»Ÿå½¢æˆæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶
&lt;ol&gt;
&lt;li&gt;äº’æ–¥æ¡ä»¶(mutual exclusion):ç³»ç»Ÿä¸­å­˜åœ¨ä¸´ç•Œèµ„æº,è¿›ç¨‹åº”äº’æ–¥åœ°ä½¿ç”¨è¿™äº›èµ„æº&lt;/li&gt;
&lt;li&gt;å æœ‰å’Œç­‰å¾…æ¡ä»¶(hold and wait):è¿›ç¨‹è¯·æ±‚èµ„æºå¾—ä¸åˆ°æ»¡è¶³è€Œç­‰å¾…æ—¶,ä¸é‡Šæ”¾å·²å æœ‰çš„èµ„æº&lt;/li&gt;
&lt;li&gt;ä¸å‰¥å¤ºæ¡ä»¶(no preemption):å·²è¢«å ç”¨çš„èµ„æºåªèƒ½ç”±å±ä¸»é‡Šæ”¾,ä¸å…è®¸è¢«å…¶å®ƒè¿›ç¨‹å‰¥å¤º&lt;/li&gt;
&lt;li&gt;å¾ªç¯ç­‰å¾…æ¡ä»¶(circular wait):å­˜åœ¨å¾ªç¯ç­‰å¾…é“¾,å…¶ä¸­,æ¯ä¸ªè¿›ç¨‹éƒ½åœ¨é“¾ä¸­ç­‰å¾…ä¸‹ä¸€ä¸ªè¿›ç¨‹æ‰€æŒæœ‰çš„èµ„æº,é€ æˆè¿™ç»„è¿›ç¨‹æ°¸è¿œç­‰å¾…&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å¾ªç¯ç­‰å¾…&#34;&gt;å¾ªç¯ç­‰å¾…&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ç»†è‡´åœ°è®¾è®¡é”ç­–ç•¥ï¼Œæœ‰åºåŠ é”&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æŒæœ‰å¹¶ç­‰å¾…&#34;&gt;æŒæœ‰å¹¶ç­‰å¾…&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ä»»ä½•çº¿ç¨‹æŠ¢é”ä¹‹å‰è¦å…ˆæŠ¢ä¸€ä¸ªå…¨å±€é”ï¼Œè¿™æ ·ä¿è¯äº†æŠ¢é”çš„åŸå­æ€§(æŠ¢é”æ—¶ä¸ä¼šæœ‰å…¶ä»–è¿›ç¨‹åˆ‡å…¥)
&lt;ul&gt;
&lt;li&gt;å¦‚ï¼šå‡å¦‚çº¿ç¨‹1éœ€è¦&lt;code&gt;lock1&lt;/code&gt;å’Œ&lt;code&gt;lock2&lt;/code&gt;ï¼Œ è€Œçº¿ç¨‹äºŒéœ€è¦&lt;code&gt;lock2&lt;/code&gt;å’Œ&lt;code&gt;lock1&lt;/code&gt;ã€‚çº¿ç¨‹1è·å¾—&lt;code&gt;lock1&lt;/code&gt;åä¸ä¼šè¢«æ‰“æ–­ï¼Œèƒ½ç»§ç»­è·å¾—&lt;code&gt; lock2&lt;/code&gt;ï¼Œæ‰§è¡Œå®Œæ¯•ï¼Œé‡Šæ”¾è¿™ä¸¤ä¸ªé”ï¼Œçº¿ç¨‹äºŒç»§ç»­æ‰§è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;lock&lt;/span&gt;(prevection);&lt;span style=&#34;color:#75715e&#34;&gt;//global lock
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;lock&lt;/span&gt;(L1);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;lock&lt;/span&gt;(L2);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;unlock&lt;/span&gt;(prevention);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;éæŠ¢å &#34;&gt;éæŠ¢å &lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; top:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#a6e22e&#34;&gt;lock&lt;/span&gt;(L1);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;trylock&lt;/span&gt;(L2)&lt;span style=&#34;color:#f92672&#34;&gt;==-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;unlock&lt;/span&gt;(L1);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#66d9ef&#34;&gt;goto&lt;/span&gt;(top);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;åŒæ ·æ˜¯å®ç°äº†åŸå­åœ°æŠ¢å é”
&lt;ul&gt;
&lt;li&gt;å¦‚æœ&lt;code&gt;L2&lt;/code&gt;æ²¡æŠ¢åˆ°ï¼Œé‚£ä¹ˆä¼šé‡Šæ”¾&lt;code&gt;L1&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¼šå¯¼è‡´æ´»é”ï¼ˆ &lt;code&gt;livelock&lt;/code&gt;ï¼‰
&lt;ul&gt;
&lt;li&gt;ä¸¤ä¸ªçº¿ç¨‹å¯èƒ½ä¸€ç›´é‡å¤è¿™ä¸€åºåˆ—ï¼ŒåˆåŒæ—¶éƒ½æŠ¢é”å¤±è´¥
&lt;ul&gt;
&lt;li&gt;å‡å¦‚çº¿ç¨‹1æŒæœ‰&lt;code&gt;lock1&lt;/code&gt;ï¼Œç­‰å¾…&lt;code&gt;lock2&lt;/code&gt;( å› æ­¤è¯¥çº¿ç¨‹ä¸€ç›´try - fail)ï¼Œ è€Œçº¿ç¨‹äºŒæŒæœ‰&lt;code&gt;lock2&lt;/code&gt;ï¼Œç­‰å¾…&lt;code&gt;lock1&lt;/code&gt;,çº¿ç¨‹1åœ¨è¯•å›¾è·å¾—&lt;code&gt;lock2&lt;/code&gt;æ—¶è¢«ä¸­æ–­ï¼Œçº¿ç¨‹2è·å¾—&lt;code&gt;lock2&lt;/code&gt;ï¼Œè¯•å›¾è·å¾—&lt;code&gt;lock1&lt;/code&gt;ï¼Œæ­¤æ—¶å‘ç”Ÿæ´»é”&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;äº’æ–¥&#34;&gt;äº’æ–¥&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡æ— ç­‰å¾…ï¼ˆwait-freeï¼‰æ•°æ®ç»“æ„é¿å…äº’æ–¥&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é€šè¿‡è°ƒåº¦é¿å…æ­»é”&#34;&gt;é€šè¿‡è°ƒåº¦é¿å…æ­»é”&lt;/h3&gt;
&lt;p&gt;çº¿ç¨‹å¯¹é”çš„éœ€æ±‚ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;T1&lt;/th&gt;
&lt;th&gt;T2&lt;/th&gt;
&lt;th&gt;T3&lt;/th&gt;
&lt;th&gt;T4&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;L1&lt;/td&gt;
&lt;td&gt;Y&lt;/td&gt;
&lt;td&gt;Y&lt;/td&gt;
&lt;td&gt;N&lt;/td&gt;
&lt;td&gt;N&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;L2&lt;/td&gt;
&lt;td&gt;Y&lt;/td&gt;
&lt;td&gt;Y&lt;/td&gt;
&lt;td&gt;Y&lt;/td&gt;
&lt;td&gt;N&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;åªè¦T1å’ŒT2ä¸åŒæ—¶è¿è¡Œå°±ä¸ä¼šå‘ç”Ÿæ­»é”
&lt;ul&gt;
&lt;li&gt;T3åªç”¨åˆ°ä¸€æŠŠé”ï¼Œå› æ­¤å¯ä»¥å’Œå…¶å®ƒçº¿ç¨‹å¹¶å‘æ‰§è¡Œï¼Œä¸ä¼šæ­»é”&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¯ä»¥å¼ºåˆ¶T2åœ¨T1ä¹‹åè¿è¡Œ&lt;/li&gt;
&lt;li&gt;è¿™ç§ä¿å®ˆçš„æ–¹æ¡ˆå¾ˆæ˜æ˜¾ä¼šé™ä½æ€§èƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ£€æŸ¥å’Œæ¢å¤&#34;&gt;æ£€æŸ¥å’Œæ¢å¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å…è®¸æ­»é”å¶å°”å‘ç”Ÿï¼Œæ£€æŸ¥åˆ°æ­»é”æ—¶å†é‡‡å–è¡ŒåŠ¨ï¼ˆé‡å¯ç”µè„‘ï¼‰&lt;/li&gt;
&lt;li&gt;å¤ªæ‘†çƒ‚äº†ã€‚ã€‚ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;åŸºäºäº‹ä»¶çš„å¹¶å‘advanced&#34;&gt;åŸºäºäº‹ä»¶çš„å¹¶å‘ï¼ˆAdvancedï¼‰&lt;/h1&gt;
&lt;p&gt;äº‹ä»¶å¾ªç¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    events &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;getEvents&lt;/span&gt;();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;( e in events )
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#a6e22e&#34;&gt;processEvent&lt;/span&gt;(e);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;å› ä¸ºäº‹ä»¶æ˜¯åŸå­çš„ï¼Œä¸€æ¬¡åªå¤„ç†ä¸€ä¸ªäº‹ä»¶ä¸éœ€è¦è€ƒè™‘çº¿ç¨‹åˆ‡æ¢ã€‚ è€Œä¸”å¦‚ä¸Šæ‰€è§ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹äº‹ä»¶è°ƒåº¦è¿›è¡Œ&lt;strong&gt;æ˜¾å¼æ§åˆ¶&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è¿™æ„å‘³ç€äº‹ä»¶æ˜¯é˜»å¡çš„ï¼Œæœ‰å·¨å¤§çš„æ€§èƒ½å¼€é”€ï¼Œéœ€è¦å¼•å…¥å¼‚æ­¥çš„äº‹ä»¶å¤„ç†ï¼Œå†åŠ ä¸Šå¤šCPUæ—¶ï¼Œå¹¶è¡Œçš„äº‹ä»¶å¤„ç†å¤æ‚åº¦ç›¸å½“äºå¤šçº¿ç¨‹ã€‚ å› æ­¤ç»™äºˆäº‹ä»¶çš„å¹¶å‘å¹¶ä¸æ¯”åŸºäºçº¿ç¨‹çš„ç®€å•ã€‚&lt;/li&gt;
&lt;li&gt;è¿™éƒ¨åˆ†å†…å®¹å¾ˆåºå¤§ï¼Œæˆ‘ä¸æƒ³åœ¨Cç¼–ç¨‹ä¸Šå€¾æ³¨å¤ªå¤šæ—¶é—´ï¼Œå› æ­¤æ”¾åœ¨JAVAç­‰è¯­è¨€çš„å¹¶å‘ä¸­è®²ã€‚&lt;/li&gt;
&lt;/ul&gt;</content>
    </item>
    
    <item>
      <title>Research</title>
      <link>https://lyk-love.cn/Hugo-Blog/research/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://lyk-love.cn/Hugo-Blog/research/</guid>
      <description>hahahah
Doctoral dissertation None
Peer-reviewed publications None</description>
      <content>&lt;p&gt;hahahah&lt;/p&gt;
&lt;h1 id=&#34;doctoral-dissertation&#34;&gt;Doctoral dissertation&lt;/h1&gt;
&lt;p&gt;None&lt;/p&gt;
&lt;h1 id=&#34;peer-reviewed-publications&#34;&gt;Peer-reviewed publications&lt;/h1&gt;
&lt;p&gt;None&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>Search</title>
      <link>https://lyk-love.cn/Hugo-Blog/search/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://lyk-love.cn/Hugo-Blog/search/</guid>
      <description></description>
      <content></content>
    </item>
    
    <item>
      <title>Tags</title>
      <link>https://lyk-love.cn/Hugo-Blog/tags/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://lyk-love.cn/Hugo-Blog/tags/</guid>
      <description>12 tags in total
Linux (2)
shell (2)
Algorithm design and analysis (1)
Back (1)
Bodybuilding (1)
fsdd (1)
fsdds (1)
Personal (1)
Reading (1)
sfds (1)
æ“ä½œç³»ç»Ÿ (1)
æœºå™¨ (1)</description>
      <content>&lt;p&gt;12
tags in total&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/tags/linux/&#34;&gt;Linux (2)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/tags/shell/&#34;&gt;shell (2)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/tags/algorithm-design-and-analysis/&#34;&gt;Algorithm design and analysis (1)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/tags/back/&#34;&gt;Back (1)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/tags/bodybuilding/&#34;&gt;Bodybuilding (1)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/tags/fsdd/&#34;&gt;fsdd (1)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/tags/fsdds/&#34;&gt;fsdds (1)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/tags/personal/&#34;&gt;Personal (1)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/tags/reading/&#34;&gt;Reading (1)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/tags/sfds/&#34;&gt;sfds (1)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/&#34;&gt;æ“ä½œç³»ç»Ÿ (1)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://lyk-love.cn/Hugo-Blog/tags/%E6%9C%BA%E5%99%A8/&#34;&gt;æœºå™¨ (1)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</content>
    </item>
    
  </channel>
</rss>
